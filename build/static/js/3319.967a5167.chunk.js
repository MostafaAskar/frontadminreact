"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3319],{55940:(e,t,l)=>{l.d(t,{Z:()=>o});l(47313);var i=l(59491),a=l(47515),n=l(23560),d=l(24511),s=l(79492),r=l(46417);function o(e){let{size:t="",onClick:l,type:o="default",...u}=e;const{t:c}=(0,d.$)(),{isDemo:v}=(0,s.Z)();return(0,r.jsx)(i.Z,{size:t,icon:(0,r.jsx)(a.Z,{}),onClick:e=>{v?n.Am.warning(c("cannot.work.demo")):l(e)},type:o,...u})}},73319:(e,t,l)=>{l.r(t),l.d(t,{default:()=>b});var i=l(47313),a=l(31741),n=l(55613),d=l(45705),s=l(59491),r=l(77181),o=l(78508),u=l(23560),c=l(69658),v=l(74580),m=l(2717),x=l(90954),h=l(80314),p=l(13945),g=l(24511),f=l(28305),w=l(99361),y=l(70816),Z=l.n(y),j=l(97890),k=l(55940),C=l(53233),_=l(20093),S=l(46417);function b(){const{t:e}=(0,g.$)(),t=(0,m.I0)(),l=(0,j.s0)(),[y,b]=(0,i.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:i=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>(i=>{t((0,x.bL)({id:"order_details",url:`order/details/${i}`,name:e("order.details")})),l(`/order/details/${i}`)})(null===i||void 0===i?void 0:i.id),children:["#",null===i||void 0===i?void 0:i.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,S.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,S.jsx)(n.Z,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>Z()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,S.jsx)(d.Z,{children:(0,S.jsx)(s.Z,{type:"primary",icon:(0,S.jsx)(a.Z,{}),onClick:()=>A(t.id)})})}]),{setIsModalVisible:I}=(0,i.useContext)(v._),[z,M]=(0,i.useState)(null),[$,A]=(0,i.useState)(null),[P,Y]=(0,i.useState)(!1),[D,N]=(0,i.useState)(null),{activeMenu:U}=(0,m.v9)((e=>e.menu),m.wU),{reviews:V,meta:E,loading:H,params:K}=(0,m.v9)((e=>e.deliveryboyReview),m.wU),L=U.data,O={sort:null===L||void 0===L?void 0:L.sort,column:null===L||void 0===L?void 0:L.column,perPage:null===L||void 0===L?void 0:L.perPage,page:null===L||void 0===L?void 0:L.page,assign:"deliveryman"};(0,i.useEffect)((()=>{U.refetch&&(t((0,_.C1)(O)),t((0,x.A_)(U)))}),[U.refetch]),(0,h.Z)((()=>{t((0,_.C1)(O))}),[U.data]);const R={id:z,onChange:e=>{M(e)}};return(0,S.jsxs)(r.Z,{title:e("deliveryboy.reviews"),extra:(0,S.jsxs)(d.Z,{wrap:!0,children:[(0,S.jsx)(k.Z,{size:"",onClick:()=>{null===z||0===z.length?u.Am.warning(e("select.the.product")):(I(!0),N(!1))},children:e("delete.selected")}),(0,S.jsx)(C.Z,{columns:y,setColumns:b})]}),children:[(0,S.jsx)(o.Z,{scroll:{x:!0},rowSelection:R,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:V,pagination:{pageSize:K.perPage,page:K.page,total:E.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,l,i){const{pageSize:a,current:n}=e,{field:d,order:s}=i,r=(0,p.Z)(s);t((0,x.nc)({activeMenu:U,data:{perPage:a,page:n,column:d,sort:r}}))},loading:H}),(0,S.jsx)(c.Z,{click:()=>{Y(!0);const l={...Object.assign({},...z.map(((e,t)=>({[`ids[${t}]`]:e}))))};f.Z.delete(l).then((()=>{u.Am.success(e("successfully.deleted")),t((0,_.C1)()),I(!1)})).finally((()=>Y(!1)))},text:e(D?"delete":"all.delete"),setText:M,loading:P}),$&&(0,S.jsx)(w.Z,{id:$,handleCancel:()=>A(null)})]})}}}]);