(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3947],{33834:(t,e,a)=>{"use strict";a.d(e,{K:()=>r});var s=a(97890),n=a(74776),i=a.n(n);const r=()=>{const t=(0,s.s0)(),e=(0,s.TH)(),a=i().parse(e.search,{ignoreQueryPrefix:!0});return{values:a,set:(e,s)=>t({search:i().stringify({...a,[e]:s})}),reset:e=>{const s={...a};s[e]&&delete s[e],t({search:i().stringify({...s})})},clear:()=>t({search:i().stringify({})}),merge:e=>t({search:i().stringify({...a,...e})})}}},89355:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>j});var s=a(47313),n=a(82494),i=a(83999),r=a(77181),l=a(72652),c=a(32723),o=a(1939),d=a(33072),u=a(73431),v=a(97890),p=a(18333),f=a(2717),h=a(90954),x=a(24511),g=a(33834),m=a(46417);const{Step:y}=i.Z,j=()=>{var t;const{t:e}=(0,x.$)(),{uuid:a}=(0,v.UO)(),j=(0,g.K)(),{activeMenu:k}=(0,f.v9)((t=>t.menu),f.wU),{languages:Z}=(0,f.v9)((t=>t.formLang),f.wU),b=(0,f.I0)(),S=Number((null===(t=j.values)||void 0===t?void 0:t.step)||0),[$,w]=(0,s.useState)(k.refetch),N=()=>{const t=S+1;j.set("step",t)},_=()=>{const t=S-1;j.set("step",t)},z=t=>t?{label:t.translation?t.translation.title:t.title,value:t.id}:null;function C(t){if(null===t||void 0===t||!t.translations)return{};const{translations:e}=t,a=Z.map((t=>{var a,s;return{[`title[${t.locale}]`]:null===(a=e.find((e=>e.locale===t.locale)))||void 0===a?void 0:a.title,[`description[${t.locale}]`]:null===(s=e.find((e=>e.locale===t.locale)))||void 0===s?void 0:s.description}}));return Object.assign({},...a)}(0,s.useEffect)((()=>{k.refetch&&function(t){w(!0),p.Z.getById(t).then((t=>{var e;const a={...t.data,...C(t.data),shop:z(t.data.shop),unit:z(t.data.unit),extras:null===(e=t.data.stocks[0])||void 0===e?void 0:e.extras.map((t=>t.extra_group_id)),stocks:t.data.stocks.map((t=>({...t,...Object.assign({},...t.extras.map(((t,e)=>({[`extras[${e}]`]:t.id})))),quantity:t.quantity||0,extras:void 0}))),properties:t.data.properties.map(((t,e)=>({id:e,[`key[${t.locale}]`]:t.key,[`value[${t.locale}]`]:t.value}))),translation:void 0,translations:void 0};b((0,h.nc)({activeMenu:k,data:a}))})).finally((()=>{w(!1),b((0,h.A_)(k))}))}(a)}),[k.refetch]);return(0,m.jsxs)(r.Z,{title:e("addon.edit"),extra:(0,m.jsx)(u.Z,{}),children:[(0,m.jsx)(i.Z,{current:S,onChange:t=>{b((0,h.nc)({activeMenu:k,data:{...k.data,step:t}})),j.set("step",t)},children:n.S.map((t=>(0,m.jsx)(y,{title:e(t.title)},t.title)))}),$?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,m.jsx)(l.Z,{size:"large",className:"py-5"})}):(0,m.jsxs)("div",{className:"steps-content",children:["First-content"===n.S[S].content&&(0,m.jsx)(d.Z,{next:N,action_type:"edit"}),"Third-content"===n.S[S].content&&(0,m.jsx)(o.Z,{next:N,prev:_,current:S}),"Finish-content"===n.S[S].content&&(0,m.jsx)(c.Z,{prev:_})]})]})}},24654:()=>{}}]);