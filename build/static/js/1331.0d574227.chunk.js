(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1331],{33834:(t,e,a)=>{"use strict";a.d(e,{K:()=>i});var n=a(97890),s=a(74776),r=a.n(s);const i=()=>{const t=(0,n.s0)(),e=(0,n.TH)(),a=r().parse(e.search,{ignoreQueryPrefix:!0});return{values:a,set:(e,n)=>t({search:r().stringify({...a,[e]:n})}),reset:e=>{const n={...a};n[e]&&delete n[e],t({search:r().stringify({...n})})},clear:()=>t({search:r().stringify({})}),merge:e=>t({search:r().stringify({...a,...e})})}}},82082:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>b});var n=a(47313),s=a(16848),r=a(83999),i=a(77181),l=a(72652),c=a(12512),o=a(44902),d=a(63945),u=a(89904),v=a(32937),p=a(73431),x=a(97890),f=a(18333),h=a(2717),g=a(90954),m=a(24511),j=a(33834),y=a(46417);const{Step:Z}=r.Z,b=()=>{var t;const{t:e}=(0,m.$)(),{uuid:a}=(0,x.UO)(),b=(0,j.K)(),{activeMenu:k}=(0,h.v9)((t=>t.menu),h.wU),{languages:S}=(0,h.v9)((t=>t.formLang),h.wU),$=(0,h.I0)(),w=Number((null===(t=b.values)||void 0===t?void 0:t.step)||0),[F,N]=(0,n.useState)(k.refetch),U=()=>{const t=w+1;b.set("step",t)},_=()=>{const t=w-1;b.set("step",t)},z=t=>t?{label:t.translation?t.translation.title:t.title,value:t.id}:null;function C(t){if(null===t||void 0===t||!t.translations)return{};const{translations:e}=t,a=S.map((t=>{var a,n;return{[`title[${t.locale}]`]:null===(a=e.find((e=>e.locale===t.locale)))||void 0===a?void 0:a.title,[`description[${t.locale}]`]:null===(n=e.find((e=>e.locale===t.locale)))||void 0===n?void 0:n.description}}));return Object.assign({},...a)}(0,n.useEffect)((()=>{k.refetch&&function(t){N(!0),f.Z.getById(t).then((t=>{var e;const a={...t.data,...C(t.data),category:z(t.data.category),brand:z(t.data.brand),unit:z(t.data.unit),images:(n=t.data.galleries,n.map((t=>({uid:t.id,name:t.path,url:t.path})))),extras:null===(e=t.data.stocks[0])||void 0===e?void 0:e.extras.map((t=>t.extra_group_id)),stocks:t.data.stocks.map((t=>({...t,...Object.assign({},...t.extras.map(((t,e)=>({[`extras[${e}]`]:{label:t.value,value:t.id}})))),quantity:t.quantity||0,extras:void 0}))),properties:t.data.properties.map(((t,e)=>({id:e,[`key[${t.locale}]`]:t.key,[`value[${t.locale}]`]:t.value}))),translation:void 0,translations:void 0};var n;$((0,g.nc)({activeMenu:k,data:a}))})).finally((()=>{N(!1),$((0,g.A_)(k))}))}(a)}),[k.refetch]);return(0,n.useEffect)((()=>()=>{$((0,g.ph)({...k,nextUrl:"seller/products"}))}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.Z,{title:e("edit.product"),extra:(0,y.jsx)(p.Z,{}),children:(0,y.jsx)(r.Z,{current:w,onChange:t=>{$((0,g.nc)({activeMenu:k,data:{...k.data,step:t}})),b.set("step",t)},children:s.S.map((t=>(0,y.jsx)(Z,{title:e(t.title)},t.title)))})}),F?(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,y.jsx)(l.Z,{size:"large",className:"py-5"})}):(0,y.jsxs)("div",{className:"",children:["First-content"===s.S[w].content&&(0,y.jsx)(v.Z,{next:U,action_type:"edit"}),"Second-content"===s.S[w].content&&(0,y.jsx)(u.Z,{next:U,prev:_}),"Third-content"===s.S[w].content&&(0,y.jsx)(d.Z,{next:U,prev:_}),"Fourth-content"===s.S[w].content&&(0,y.jsx)(c.Z,{next:U,prev:_}),"Finish-content"===s.S[w].content&&(0,y.jsx)(o.Z,{prev:_})]})]})}},24654:()=>{}}]);