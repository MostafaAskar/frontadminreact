"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3774],{55940:(e,l,t)=>{t.d(l,{Z:()=>s});t(47313);var n=t(59491),i=t(47515),o=t(23560),a=t(24511),r=t(79492),d=t(46417);function s(e){let{size:l="",onClick:t,type:s="default",...u}=e;const{t:c}=(0,a.$)(),{isDemo:v}=(0,r.Z)();return(0,d.jsx)(n.Z,{size:l,icon:(0,d.jsx)(i.Z,{}),onClick:e=>{v?o.Am.warning(c("cannot.work.demo")):t(e)},type:s,...u})}},53233:(e,l,t)=>{t.d(l,{Z:()=>p});var n=t(47313),i=t(56140),o=t(67251),a=t(45705),r=t(86345),d=t(78267),s=t(37388),u=t(59491),c=t(99587),v=t(24511),h=t(46417);const{Text:m}=i.Z,p=e=>{let{columns:l=[],setColumns:t,style:i,size:p="",iconOnly:g}=e;const{t:f}=(0,v.$)(),[y,x]=(0,n.useState)(!1),Z=(0,h.jsx)(o.Z,{children:null===l||void 0===l?void 0:l.map(((e,n)=>(0,h.jsx)(o.Z.Item,{children:(0,h.jsxs)(a.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(r.Z,{defaultChecked:!0,onClick:()=>function(e){const n=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(n)}(e),disabled:1===n})]})},e+n)))});return(0,h.jsx)(d.Z,{overlay:Z,trigger:["click"],onVisibleChange:e=>{x(e)},visible:y,children:(0,h.jsx)(s.Z,{title:f("change.columns"),children:(0,h.jsx)(u.Z,{style:{...i},size:p,icon:(0,h.jsx)(c.Z,{}),children:g?null:f("Columns")})})})}},97388:(e,l,t)=>{t.d(l,{Z:()=>m});var n=t(47313),i=t(16609),o=t(97421);const a=t.p+"static/media/pin.0e41858db80c699cd8a2.png";var r=t(31881),d=t.n(r);async function s(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.kr,t={latlng:`${null===e||void 0===e?void 0:e.lat},${null===e||void 0===e?void 0:e.lng}`,key:l};return d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((e=>{var l;let{data:t}=e;return null===(l=t.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var u=t(5958),c=t(23560),v=t(24511),h=t(46417);const m=(0,i.GoogleApiWrapper)({apiKey:o.kr})((function(e){const[l,t]=(0,n.useState)(),{t:r}=(0,v.$)(),d=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};t(l)}),(function(e){c.Am.warning(r("turn.on.gps"))}))};(0,n.useEffect)((()=>{d()}),[]);const m=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}];for(var p=new e.google.maps.LatLngBounds,g=0;g<m.length;g++)p.extend(m[g]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:()=>{d(),l&&(async l=>{const t={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(t);const n=await s(t,o.kr);e.setAddress(n)})(l)},children:(0,h.jsx)(u.nDs,{})}),(0,h.jsx)(i.Map,{cursor:"pointer",onClick:async(l,t,n)=>{const{latLng:i}=n,a={lat:i.lat(),lng:i.lng()};e.setLocation(a);const r=await s(a,o.kr);e.setAddress(r)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,h.jsx)(i.Marker,{position:e.location,icon:{url:a,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},41481:(e,l,t)=>{t.d(l,{Z:()=>d});var n=t(47313),i=t(66672),o=t(16031),a=t(40765),r=t(46417);function d(e){let{handleChange:l,defaultValue:t,resetSearch:d,...s}=e;const[u,c]=(0,n.useState)(t),v=(0,n.useMemo)((()=>(0,o.debounce)((e=>{l(e)}),800)),[]);return(0,n.useEffect)((()=>{c(t)}),[d]),(0,r.jsx)(i.Z,{value:u,onChange:e=>{c(e.target.value),v(e.target.value)},prefix:(0,r.jsx)(a.Z,{}),...s})}},89281:(e,l,t)=>{t.d(l,{h:()=>s});var n=t(47313),i=t(12279),o=t.n(i),a=t(74294),r=t(72652),d=t(46417);const s=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:i,refetchOptions:s=!1,...u}=e;const[c,v]=(0,n.useState)(!1),[h,m]=(0,n.useState)([]),p=(0,n.useMemo)((()=>o()((e=>{m([]),v(!0),l(e).then((e=>{m(e),v(!1)}))}),t)),[l,t]);return(0,d.jsx)(a.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),i&&i()},notFoundContent:c?(0,d.jsx)(r.Z,{size:"small"}):"no results",...u,options:h,onFocus:()=>{h.length&&!s||p("")}})}},13945:(e,l,t)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{Z:()=>n})},17649:(e,l,t)=>{t.d(l,{Z:()=>n});t(97421);function n(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},84017:(e,l,t)=>{function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?`${n} ${l}`:`${l} ${n}`}t.d(l,{Z:()=>n})},50756:(e,l,t)=>{t.r(l),t.d(l,{default:()=>J});var n=t(55768),i=t(12019),o=t(47515),a=t(55613),r=t(59491),d=t(45705),s=t(77181),u=t(74294),c=t(78508),v=t(47313),h=t(24511),m=t(2717),p=t(97890),g=t(23560),f=t(55940),y=t(53233),x=t(74580),Z=t(81566),b=t(90954),j=t(45321),w=t(69658),C=t(84017),k=t(5958),_=t(84697),S=t(9274),V=t(97421),I=t(18478),E=(t(84618),t(17649)),z=t(46417);const P=()=>(0,z.jsx)("img",{src:I,width:"50",alt:"Pin",style:{position:"absolute",transform:"translate(-50%, -100%)"}}),H=e=>{var l,t,n,i;let{id:o,handleCancel:a}=e;const{t:d}=(0,h.$)(),{settings:s}=(0,m.v9)((e=>e.globalSettings),m.wU),u=(0,E.Z)(s),c={lat:null===o||void 0===o||null===(l=o.delivery_man_setting)||void 0===l||null===(t=l.location)||void 0===t?void 0:t.latitude,lng:null===o||void 0===o||null===(n=o.delivery_man_setting)||void 0===n||null===(i=n.location)||void 0===i?void 0:i.longitude},{google_map_key:v}=(0,m.v9)((e=>e.globalSettings.settings),m.wU);return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(S.Z,{visible:!!o,title:d("show.locations"),style:{minWidth:"80vw"},onCancel:a,footer:[(0,z.jsx)(r.Z,{type:"default",onClick:a,children:d("cancel")},"cancelBtn")],children:(0,z.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,z.jsx)(_.ZP,{bootstrapURLKeys:{key:void 0===v?V.kr:v},defaultZoom:10,center:u,options:{fullscreenControl:!1},children:null!==(null===o||void 0===o?void 0:o.delivery_man_setting)?(0,z.jsx)(P,{lat:null===c||void 0===c?void 0:c.lat,lng:null===c||void 0===c?void 0:c.lng}):null})})})})};var M=t(10976),N=t(68197),F=t(59624),O=t(66672),L=t(86345),D=t(51282),R=t(5764),$=t(97388),B=t(89281),q=t(47139),K=t(79637),T=t(27453);const W=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],A=e=>{let{data:l,handleCancel:t}=e;const{t:n}=(0,h.$)(),[i]=M.Z.useForm(),o=(0,m.I0)(),[a,s]=(0,v.useState)(!1),[c,p]=(0,v.useState)(!1),[g,f]=(0,v.useState)([]),{settings:y}=(0,m.v9)((e=>e.globalSettings),m.wU),[x,b]=(0,v.useState)((0,E.Z)(y)),[w,C]=(0,v.useState)({region:null,country:null,city:null}),k=e=>e.map((e=>({uid:e.id,name:e.path,url:e.path})));return(0,v.useEffect)((()=>{var e;l.settingsId&&(e=l.settingsId,p(!0),j.Z.getById(e).then((e=>{var l,t,n,o,a,r,d,s,u,c,v,h,m,p,g,y,x,Z,j,w,_,S,V,I,E,z,P,H,M,N,F,O,L,D,R,$,B,q,K,T,W,A,U,G,X,Y,J,Q,ee,le,te,ne,ie,oe,ae,re,de,se,ue,ce,ve,he,me;const pe={...e.data,user_id:{label:(null===(l=e.data)||void 0===l||null===(t=l.deliveryman)||void 0===t?void 0:t.firstname)+" "+(null===(n=e.data)||void 0===n||null===(o=n.deliveryman)||void 0===o?void 0:o.firstname),value:null===(a=e.data)||void 0===a||null===(r=a.deliveryman)||void 0===r?void 0:r.id,images:k(null===(d=e.data)||void 0===d?void 0:d.galleries),location:{lat:null===(s=e.data)||void 0===s||null===(u=s.location)||void 0===u?void 0:u.latitude,lng:null===(c=e.data)||void 0===c||null===(v=c.location)||void 0===v?void 0:v.longitude}},region:null!==(h=e.data)&&void 0!==h&&h.region?{label:null===(m=e.data)||void 0===m||null===(p=m.region)||void 0===p||null===(g=p.translation)||void 0===g?void 0:g.title,value:null===(y=e.data)||void 0===y||null===(x=y.region)||void 0===x?void 0:x.id,key:null===(Z=e.data)||void 0===Z||null===(j=Z.region)||void 0===j?void 0:j.id}:null,country:null!==(w=e.data)&&void 0!==w&&w.country?{label:null===(_=e.data)||void 0===_||null===(S=_.country)||void 0===S||null===(V=S.translation)||void 0===V?void 0:V.title,value:null===(I=e.data)||void 0===I||null===(E=I.country)||void 0===E?void 0:E.id,key:null===(z=e.data)||void 0===z||null===(P=z.country)||void 0===P?void 0:P.id}:null,city:null!==(H=e.data)&&void 0!==H&&H.city?{label:null===(M=e.data)||void 0===M||null===(N=M.city)||void 0===N||null===(F=N.translation)||void 0===F?void 0:F.title,value:null===(O=e.data)||void 0===O||null===(L=O.city)||void 0===L?void 0:L.id,key:null===(D=e.data)||void 0===D||null===(R=D.city)||void 0===R?void 0:R.id}:null};C({region:null!==($=e.data)&&void 0!==$&&$.region?{label:null===(B=e.data)||void 0===B||null===(q=B.region)||void 0===q||null===(K=q.translation)||void 0===K?void 0:K.title,value:null===(T=e.data)||void 0===T||null===(W=T.region)||void 0===W?void 0:W.id,key:null===(A=e.data)||void 0===A||null===(U=A.region)||void 0===U?void 0:U.id}:null,country:null!==(G=e.data)&&void 0!==G&&G.country?{label:null===(X=e.data)||void 0===X||null===(Y=X.country)||void 0===Y||null===(J=Y.translation)||void 0===J?void 0:J.title,value:null===(Q=e.data)||void 0===Q||null===(ee=Q.country)||void 0===ee?void 0:ee.id,key:null===(le=e.data)||void 0===le||null===(te=le.country)||void 0===te?void 0:te.id}:null,city:null!==(ne=e.data)&&void 0!==ne&&ne.city?{label:null===(ie=e.data)||void 0===ie||null===(oe=ie.city)||void 0===oe||null===(ae=oe.translation)||void 0===ae?void 0:ae.title,value:null===(re=e.data)||void 0===re||null===(de=re.city)||void 0===de?void 0:de.id,key:null===(se=e.data)||void 0===se||null===(ue=se.city)||void 0===ue?void 0:ue.id}:null}),b({lat:null===(ce=e.data)||void 0===ce||null===(ve=ce.location)||void 0===ve?void 0:ve.latitude,lng:null===(he=e.data)||void 0===he||null===(me=he.location)||void 0===me?void 0:me.longitude}),f(k(e.data.galleries)),i.setFieldsValue(pe)})).finally((()=>p(!1))))}),[]),(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(S.Z,{visible:!!l,title:l.id?n("edit.delivery.setting"):n("add.delivery.setting"),closable:!1,onCancel:t,style:{minWidth:"80vw"},footer:[(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(r.Z,{type:"primary",htmlType:"submit",onClick:()=>i.submit(),loading:a,children:n("submit")},"submit"),(0,z.jsx)(r.Z,{type:"default",onClick:t,children:n("cancel")},"cancelBtn")]})],children:(0,z.jsx)(M.Z,{name:"basic",layout:"vertical",onFinish:e=>{s(!0);const n={...e,user_id:l.id,images:g.map((e=>e.name)),location:{latitude:x.lat,longitude:x.lng},region_id:e.region.value,country_id:e.country.value,city_id:e.city.value};l.settingsId?j.Z.update(l.settingsId,n).then((()=>{t(),o((0,Z.W)({}))})).finally((()=>s(!1))):j.Z.create(n).then((()=>{t(),o((0,Z.W)({}))})).finally((()=>s(!1)))},form:i,initialValues:{online:!0},children:c?(0,z.jsx)(D.Z,{}):(0,z.jsxs)(N.Z,{gutter:12,children:[(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("brand"),name:"brand",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(n("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(n("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(n("required")))}],children:(0,z.jsx)(O.Z,{})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("model"),name:"model",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(n("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(n("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(n("required")))}],children:(0,z.jsx)(O.Z,{})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:n("required")}],children:(0,z.jsx)(u.Z,{options:W})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("car.number"),name:"number",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(n("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(n("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(n("required")))}],children:(0,z.jsx)(O.Z,{})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("car.color"),name:"color",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(n("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(n("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(n("required")))}],children:(0,z.jsx)(O.Z,{})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{name:"region",label:n("region"),rules:[{required:!0,message:n("required")}],children:(0,z.jsx)(B.h,{fetchOptions:e=>{const l={search:e,perPage:10,page:1};return T.Z.get(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:n("select.region"),onChange:e=>{i.setFieldsValue({country:null,city:null}),C({region:e,country:null,city:null})},onClear:()=>{i.setFieldsValue({region:[],country:[],city:[]}),C({region:null,country:null,city:null})},autoComplete:"none"})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{name:"country",label:n("country"),rules:[{required:!0,message:n("required")}],children:(0,z.jsx)(B.h,{fetchOptions:e=>{var l;const t={search:e,perPage:10,page:1,region_id:null===w||void 0===w||null===(l=w.region)||void 0===l?void 0:l.value};return q.Z.get(t).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.region_id}}))}))},placeholder:n("select.country"),refetchOptions:!0,onChange:e=>{i.setFieldsValue({city:null}),C({...w,country:e,city:null})},onClear:()=>{i.setFieldsValue({country:[],city:[]}),C({...w,country:null,city:null})},disabled:!w.region,autoComplete:"none"})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{name:"city",label:n("city"),children:(0,z.jsx)(B.h,{fetchOptions:e=>{var l;const t={search:e,perPage:10,page:1,country_id:null===w||void 0===w||null===(l=w.country)||void 0===l?void 0:l.value};return K.Z.get(t).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:n("select.city"),refetchOptions:!0,disabled:!w.region||!w.country,autoComplete:"none"})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("image"),name:"images",rules:[{validator:()=>0===(null===g||void 0===g?void 0:g.length)?Promise.reject(new Error(n("required"))):Promise.resolve()}],children:(0,z.jsx)(R.Z,{type:"deliveryman/settings",imageList:g,setImageList:f,form:i,length:"1",multiple:!0})})}),(0,z.jsx)(F.Z,{span:12,children:(0,z.jsx)(M.Z.Item,{label:n("online"),name:"online",valuePropName:"checked",children:(0,z.jsx)(L.Z,{})})}),(0,z.jsx)(F.Z,{span:24,children:(0,z.jsx)(M.Z.Item,{label:n("map"),name:"location",children:(0,z.jsx)($.Z,{location:x,setLocation:b})})})]})})})})};var U=t(41481),G=t(80314),X=t(13945);const Y=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"}],J=()=>{var e,l,t;const{t:_}=(0,h.$)(),S=(0,m.I0)(),V=(0,p.s0)(),{setIsModalVisible:I}=(0,v.useContext)(x._),[E,P]=(0,v.useState)(null),[M,N]=(0,v.useState)(!1),[F,O]=(0,v.useState)(null),[L,D]=(0,v.useState)(null),[R,$]=(0,v.useState)(null),{activeMenu:B}=(0,m.v9)((e=>e.menu),m.wU),q=null===B||void 0===B?void 0:B.data,K={search:null!==q&&void 0!==q&&q.search?q.search:void 0,type_of_technique:null===q||void 0===q?void 0:q.type,sort:null===q||void 0===q?void 0:q.sort,column:null===q||void 0===q?void 0:q.column,pageSize:null===q||void 0===q?void 0:q.per_page,page:(null===q||void 0===q?void 0:q.page)||1},{delivery:T,loading:W,meta:J}=(0,m.v9)((e=>e.deliveries),m.wU),{defaultCurrency:Q}=(0,m.v9)((e=>e.currency),m.wU),ee=()=>{D(null),$(null)},[le,te]=(0,v.useState)([{title:_("id"),dataIndex:"id",key:"id",is_show:!0},{title:_("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,l)=>(null===l||void 0===l?void 0:l.firstname)+" "+(null===l||void 0===l?void 0:l.lastname)},{title:_("orders"),dataIndex:"count",key:"count",is_show:!0,sorter:!0,render:(e,l)=>null===l||void 0===l?void 0:l.deliveryman_orders.length},{title:_("rate"),dataIndex:"rating",key:"rating",is_show:!0,sorter:!0,render:(e,l)=>{var t;return(0,z.jsx)(a.Z,{className:"mt-3 ml-3",disabled:!0,allowHalf:!0,value:null!==(t=null===l||void 0===l?void 0:l.r_avg)&&void 0!==t?t:0})}},{title:_("wallet"),dataIndex:"wallet_sum",key:"wallet_sum",is_show:!0,sorter:!0,render:(e,l)=>{var t;return(0,C.Z)(null===l||void 0===l||null===(t=l.wallet)||void 0===t?void 0:t.price,Q.symbol)}},{title:_("delivery.man.setting"),dataIndex:"setting",key:"setting",is_show:!0,render:(e,l)=>{var t,o,a,s,u;return null===(null===l||void 0===l?void 0:l.delivery_man_setting)?(0,z.jsx)(r.Z,{icon:(0,z.jsx)(n.Z,{}),onClick:()=>$({id:null===l||void 0===l?void 0:l.id}),children:_("add.settings")}):(0,z.jsxs)(d.Z,{children:[(0,z.jsxs)("span",{children:[_("brand"),": ",null===l||void 0===l||null===(t=l.delivery_man_setting)||void 0===t?void 0:t.brand,(0,z.jsx)("br",{}),_("model"),": ",null===l||void 0===l||null===(o=l.delivery_man_setting)||void 0===o?void 0:o.model,(0,z.jsx)("br",{}),_("number"),": ",null===l||void 0===l||null===(a=l.delivery_man_setting)||void 0===a?void 0:a.number,(0,z.jsx)("br",{}),_("color"),": ",null===l||void 0===l||null===(s=l.delivery_man_setting)||void 0===s?void 0:s.color]}),null!==l&&void 0!==l&&null!==(u=l.delivery_man_setting)&&void 0!==u&&u.id?(0,z.jsx)(i.Z,{onClick:()=>{var e;return $({settingsId:null===l||void 0===l||null===(e=l.delivery_man_setting)||void 0===e?void 0:e.id,id:null===l||void 0===l?void 0:l.id})}}):""]})}},{title:_("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(r.Z,{icon:(0,z.jsx)(k.Y4r,{}),onClick:()=>D(l)}),(0,z.jsx)(r.Z,{type:"primary",icon:(0,z.jsx)(i.Z,{}),onClick:()=>(e=>{S((0,b.bL)({url:`user/delivery/${e.uuid}`,id:"delivery_edit",name:_("delivery.edit")})),V(`/user/delivery/${e.uuid}`)})(l)}),(0,z.jsx)(f.Z,{icon:(0,z.jsx)(o.Z,{}),onClick:()=>{P([l.id]),I(!0),O(!0)}})]})}]);(0,v.useEffect)((()=>{B.refetch&&(0,m.dC)((()=>{S((0,Z.W)(K)),S((0,b.A_)(B))}))}),[B.refetch]),(0,G.Z)((()=>{S((0,Z.W)(K))}),[B.data]);const ne={selectedRowKeys:E,onChange:e=>{P(e)}},ie=(e,l)=>{S((0,b.nc)({activeMenu:B,data:{...B.data,[l]:e}}))};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(s.Z,{title:_("delivery"),extra:(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(u.Z,{placeholder:_("type.of.technique"),style:{width:"150px"},options:Y,onChange:e=>ie(e,"type"),allowClear:!0}),(0,z.jsx)(f.Z,{size:"",onClick:()=>{null===E||0===E.length?g.Am.warning(_("select.the.product")):(I(!0),O(!1))},children:_("delete.selected")}),(0,z.jsx)(r.Z,{type:"primary",icon:(0,z.jsx)(n.Z,{}),onClick:()=>{S((0,b.bL)({id:"user-add-role",url:"add/user/delivery/deliveryman",name:_("add.deliveryman")})),V("/add/user/delivery/deliveryman")},children:_("add.delivery")}),(0,z.jsx)(y.Z,{columns:le,setColumns:te})]}),children:[(0,z.jsx)(U.Z,{placeholder:_("search"),className:"w-25",handleChange:e=>ie(e,"search"),resetSearch:!(null!==(e=B.data)&&void 0!==e&&e.search),defaultValue:null===(l=B.data)||void 0===l?void 0:l.search}),(0,z.jsx)(c.Z,{scroll:{x:!0},rowSelection:ne,columns:null===le||void 0===le?void 0:le.filter((e=>e.is_show)),dataSource:T,pagination:{pageSize:J.per_page,page:(null===q||void 0===q?void 0:q.page)||1,total:J.total,defaultCurrent:null===q||void 0===q?void 0:q.page,current:null===(t=B.data)||void 0===t?void 0:t.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:n,current:i}=e,{field:o,order:a}=t,r=(0,X.Z)(a);S((0,b.nc)({activeMenu:B,data:{...q,perPage:n,page:i,column:o,sort:r}}))},loading:W}),(0,z.jsx)(w.Z,{click:()=>{N(!0);const e={...Object.assign({},...E.map(((e,l)=>({[`ids[${l}]`]:e}))))};j.Z.delete(e).then((()=>{g.Am.success(_("successfully.deleted")),S((0,Z.W)(K)),I(!1),O(null),P(null)})).finally((()=>{N(!1)}))},text:_(F?"delete":"all.delete"),setText:P,loading:M}),L&&(0,z.jsx)(H,{id:L,handleCancel:ee}),R&&(0,z.jsx)(A,{id:R.id,data:R,handleCancel:ee})]})})}},55768:(e,l,t)=>{t.d(l,{Z:()=>d});var n=t(1413),i=t(47313);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var a=t(17469),r=function(e,l){return i.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:l,icon:o}))};r.displayName="PlusCircleOutlined";const d=i.forwardRef(r)},99587:(e,l,t)=>{t.d(l,{Z:()=>d});var n=t(1413),i=t(47313);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var a=t(17469),r=function(e,l){return i.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:l,icon:o}))};r.displayName="TableOutlined";const d=i.forwardRef(r)},55613:(e,l,t)=>{t.d(l,{Z:()=>S});var n=t(87462),i=t(47313),o=t(1413),a=t(4942),r=t(15671),d=t(43144),s=t(60136),u=t(54062),c=t(53879),v=t(46123),h=t.n(v),m=t(49242);var p=function(e){(0,s.Z)(t,e);var l=(0,u.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=l.call.apply(l,[this].concat(i))).onHover=function(l){var t=e.props;(0,t.onHover)(l,t.index)},e.onClick=function(l){var t=e.props;(0,t.onClick)(l,t.index)},e.onKeyDown=function(l){var t=e.props,n=t.onClick,i=t.index;13===l.keyCode&&n(l,i)},e}return(0,d.Z)(t,[{key:"getClassName",value:function(){var e=this.props,l=e.prefixCls,t=e.index,n=e.value,i=e.allowHalf,o=e.focused,a=t+1,r=l;return 0===n&&0===t&&o?r+=" ".concat(l,"-focused"):i&&n+.5>=a&&n<a?(r+=" ".concat(l,"-half ").concat(l,"-active"),o&&(r+=" ".concat(l,"-focused"))):(r+=" ".concat(l,a<=n?"-full":"-zero"),a===n&&o&&(r+=" ".concat(l,"-focused"))),r}},{key:"render",value:function(){var e=this.onHover,l=this.onClick,t=this.onKeyDown,n=this.props,o=n.disabled,a=n.prefixCls,r=n.character,d=n.characterRender,s=n.index,u=n.count,c=n.value,v="function"===typeof r?r(this.props):r,h=i.createElement("li",{className:this.getClassName()},i.createElement("div",{onClick:o?null:l,onKeyDown:o?null:t,onMouseMove:o?null:e,role:"radio","aria-checked":c>s?"true":"false","aria-posinset":s+1,"aria-setsize":u,tabIndex:o?-1:0},i.createElement("div",{className:"".concat(a,"-first")},v),i.createElement("div",{className:"".concat(a,"-second")},v)));return d&&(h=d(h,this.props)),h}}]),t}(i.Component);function g(){}var f=function(e){(0,s.Z)(t,e);var l=(0,u.Z)(t);function t(e){var n;(0,r.Z)(this,t),(n=l.call(this,e)).stars=void 0,n.rate=void 0,n.onHover=function(e,l){var t=n.props.onHoverChange,i=n.getStarValue(l,e.pageX);i!==n.state.cleanedValue&&n.setState({hoverValue:i,cleanedValue:null}),t(i)},n.onMouseLeave=function(){var e=n.props.onHoverChange;n.setState({hoverValue:void 0,cleanedValue:null}),e(void 0)},n.onClick=function(e,l){var t=n.props.allowClear,i=n.state.value,o=n.getStarValue(l,e.pageX),a=!1;t&&(a=o===i),n.onMouseLeave(),n.changeValue(a?0:o),n.setState({cleanedValue:a?o:null})},n.onFocus=function(){var e=n.props.onFocus;n.setState({focused:!0}),e&&e()},n.onBlur=function(){var e=n.props.onBlur;n.setState({focused:!1}),e&&e()},n.onKeyDown=function(e){var l=e.keyCode,t=n.props,i=t.count,o=t.allowHalf,a=t.onKeyDown,r="rtl"===t.direction,d=n.state.value;l===m.Z.RIGHT&&d<i&&!r?(d+=o?.5:1,n.changeValue(d),e.preventDefault()):l===m.Z.LEFT&&d>0&&!r||l===m.Z.RIGHT&&d>0&&r?(d-=o?.5:1,n.changeValue(d),e.preventDefault()):l===m.Z.LEFT&&d<i&&r&&(d+=o?.5:1,n.changeValue(d),e.preventDefault()),a&&a(e)},n.saveRef=function(e){return function(l){n.stars[e]=l}},n.saveRate=function(e){n.rate=e};var i=e.value;return void 0===i&&(i=e.defaultValue),n.stars={},n.state={value:i,focused:!1,cleanedValue:null},n}return(0,d.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,l=e.autoFocus,t=e.disabled;l&&!t&&this.focus()}},{key:"getStarDOM",value:function(e){return(0,c.Z)(this.stars[e])}},{key:"getStarValue",value:function(e,l){var t=this.props,n=t.allowHalf,i="rtl"===t.direction,o=e+1;if(n){var a=this.getStarDOM(e),r=function(e){var l=function(e){var l,t,n=e.ownerDocument,i=n.body,o=n&&n.documentElement,a=e.getBoundingClientRect();return l=a.left,t=a.top,{left:l-=o.clientLeft||i.clientLeft||0,top:t-=o.clientTop||i.clientTop||0}}(e),t=e.ownerDocument,n=t.defaultView||t.parentWindow;return l.left+=function(e){var l=e.pageXOffset,t="scrollLeft";if("number"!==typeof l){var n=e.document;"number"!==typeof(l=n.documentElement[t])&&(l=n.body[t])}return l}(n),l.left}(a),d=a.clientWidth;(i&&l-r>d/2||!i&&l-r<d/2)&&(o-=.5)}return o}},{key:"focus",value:function(){this.props.disabled||this.rate.focus()}},{key:"blur",value:function(){this.props.disabled||this.rate.blur()}},{key:"changeValue",value:function(e){var l=this.props.onChange;"value"in this.props||this.setState({value:e}),l(e)}},{key:"render",value:function(){for(var e=this.props,l=e.count,t=e.allowHalf,n=e.style,o=e.prefixCls,r=e.disabled,d=e.className,s=e.character,u=e.characterRender,c=e.tabIndex,v=e.direction,m=this.state,g=m.value,f=m.hoverValue,y=m.focused,x=[],Z=r?"".concat(o,"-disabled"):"",b=0;b<l;b+=1)x.push(i.createElement(p,{ref:this.saveRef(b),index:b,count:l,disabled:r,prefixCls:"".concat(o,"-star"),allowHalf:t,value:void 0===f?g:f,onClick:this.onClick,onHover:this.onHover,key:b,character:s,characterRender:u,focused:y}));var j=h()(o,Z,d,(0,a.Z)({},"".concat(o,"-rtl"),"rtl"===v));return i.createElement("ul",{className:j,style:n,onMouseLeave:r?null:this.onMouseLeave,tabIndex:r?-1:c,onFocus:r?null:this.onFocus,onBlur:r?null:this.onBlur,onKeyDown:r?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},x)}}],[{key:"getDerivedStateFromProps",value:function(e,l){return"value"in e&&void 0!==e.value?(0,o.Z)((0,o.Z)({},l),{},{value:e.value}):l}}]),t}(i.Component);f.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:g,character:"\u2605",onHoverChange:g,tabIndex:0,direction:"ltr"};const y=f;const x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};var Z=t(17469),b=function(e,l){return i.createElement(Z.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:l,icon:x}))};b.displayName="StarFilled";const j=i.forwardRef(b);var w=t(37388),C=t(91964),k=function(e,l){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)l.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t},_=i.forwardRef((function(e,l){var t=e.prefixCls,o=e.tooltips,a=k(e,["prefixCls","tooltips"]),r=i.useContext(C.E_),d=r.getPrefixCls,s=r.direction,u=d("rate",t);return i.createElement(y,(0,n.Z)({ref:l,characterRender:function(e,l){var t=l.index;return o?i.createElement(w.Z,{title:o[t]},e):e}},a,{prefixCls:u,direction:s}))}));_.displayName="Rate",_.defaultProps={character:i.createElement(j,null)};const S=_},84618:(e,l,t)=>{e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:(e,l,t)=>{e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);