"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9815],{38628:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(77181),a=l(14133),o=(l(47313),l(46417));const i=e=>{let{loading:t}=e;return(0,o.jsx)(n.Z,{className:"order-card",children:(0,o.jsx)(a.Z,{loading:t,avatar:!0,active:!0})})}},41481:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(47313),a=l(66672),o=l(16031),i=l(40765),d=l(46417);function s(e){let{handleChange:t,defaultValue:l,resetSearch:s,...r}=e;const[c,u]=(0,n.useState)(l),v=(0,n.useMemo)((()=>(0,o.debounce)((e=>{t(e)}),800)),[]);return(0,n.useEffect)((()=>{u(l)}),[s]),(0,d.jsx)(a.Z,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(i.Z,{}),...r})}},98501:(e,t,l)=>{l.d(t,{Q:()=>n});const n={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]}},36311:(e,t,l)=>{l.d(t,{Z:()=>a});var n=l(34344);const a={orderExport:(e,t)=>n.Z.get(`dashboard/user/export/order/${e}/pdf`,{params:t,responseType:"blob"})}},24391:(e,t,l)=>{l.d(t,{Z:()=>x});var n=l(47313),a=l(36311),o=l(83334),i=l.n(o),d=l(51282),s=l(77181),r=l(9274),c=l(59491),u=l(68197),v=l(59624),p=l(24511),h=l(58821),y=l(57864),m=l(97890),f=l(46417);const g=s.Z.Meta,x=e=>{let{id:t,handleCancel:l}=e;const[o,x]=(0,n.useState)(null),{t:Z}=(0,p.$)(),b=(0,m.s0)();return(0,f.jsx)(f.Fragment,{children:o?(0,f.jsx)(d.Z,{}):(0,f.jsx)(r.Z,{visible:!!t,title:Z("selected.download"),closable:!1,handleCancel:l,footer:[(0,f.jsx)(c.Z,{type:"default",onClick:l,children:Z("cancel")},"cancelBtn")],children:(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(v.Z,{span:12,children:(0,f.jsx)(s.Z,{title:Z("download.pdf"),onClick:()=>function(e){x(!0),a.Z.orderExport(e).then((t=>{i()(t,`invoice_${e}.pdf`,"application/pdf"),l()})).finally((()=>x(!1)))}(t),className:"text-center cursor-pointer",children:(0,f.jsx)(g,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(h._JY,{size:80})})})}),(0,f.jsx)(v.Z,{span:12,children:(0,f.jsx)(s.Z,{title:Z("download.check"),onClick:()=>(e=>{b(`/orders/generate-invoice/${e}`)})(t),className:"text-center cursor-pointer",children:(0,f.jsx)(g,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(y.ih9,{size:85})})})})]})})})}},19815:(e,t,l)=>{l.r(t),l.d(t,{default:()=>me});var n=l(47313),a=l(99096),o=l(45705),i=l(59491),d=l(77181),s=l(97890),r=l(15386),c=l(55768),u=l(2717),v=l(90954),p=l(24511),h=l(80314),y=l(22054),m=l(40197),f=l(41481),g=l(73270),x=l(89281),Z=l(49986),b=l(7920),j=l(24077),C=l(80355),k=l(24391),w=l(23560),_=l(7370),S=l(74580),M=l(69658),D=l(70816),O=l.n(D),P=l(53149),E=l(43773),I=l(93709),Y=l(66204),T=l(43880),N=l(46417);const $=e=>{let{children:t,title:l,name:n,isDropDisabled:a,total:i=0,loading:d=!1,reloadOrder:s}=e;const{t:r}=(0,p.$)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(I.Z,{message:(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(E.Z,{size:20,style:{cursor:"pointer"},spin:d,onClick:s}),r(l),(0,N.jsx)(Y.Z,{children:d?(0,N.jsx)(E.Z,{spin:!0}):i})]}),className:`mb-4 ${n}`,style:{textAlign:"center",fontSize:16,textTransform:"capitalize"}}),(0,N.jsx)(T.bK,{droppableId:n,isDropDisabled:a,children:e=>(0,N.jsx)("div",{ref:e.innerRef,className:"h-screen",style:{opacity:a?.6:1},children:(0,N.jsxs)(N.Fragment,{children:[t,e.placeholder]})})})]})};var z=l(72652),H=l(39548),F=l(60931),K=l(45427),L=l(86949),A=l(35529),V=l(91805),U=l(47515),B=l(6986),R=l(31741),q=l(14133),Q=l(45334),G=l(42346),J=l(84017),X=l(5958),W=l(79492);const{Meta:ee}=d.Z,te=e=>{var t,l,n,a,i,s,r,c,u,v,h,y;let{data:m,goToShow:f,loading:g,setLocationsMap:x,setId:Z,setIsModalVisible:b,setText:j,setDowloadModal:C,setTabType:k}=e;const{t:_}=(0,p.$)(),S=[{title:"Client",icon:(0,N.jsx)(H.Z,{}),data:null!==m&&void 0!==m&&m.user?`${(null===(t=m.user)||void 0===t?void 0:t.firstname)||"-"} ${(null===(l=m.user)||void 0===l?void 0:l.lastname)||"-"}`:_("deleted.user")},{title:"Deliveryman",icon:(0,N.jsx)(F.Z,{}),data:`${(null===(n=m.deliveryman)||void 0===n?void 0:n.firstname)||"-"} ${(null===(a=m.deliveryman)||void 0===a?void 0:a.lastname)||"-"}`},{title:"Amount",icon:(0,N.jsx)(K.Z,{}),data:(0,J.Z)(null===m||void 0===m?void 0:m.total_price,null===(i=m.currency)||void 0===i?void 0:i.symbol,null===(s=m.currency)||void 0===s?void 0:s.position)},{title:"Payment type",icon:(0,N.jsx)(L.Z,{}),data:(null===(r=m.transaction)||void 0===r||null===(c=r.payment_system)||void 0===c?void 0:c.tag)||"-"},{title:"Payment status",icon:(0,N.jsx)(A.Z,{}),data:(null===(u=m.transaction)||void 0===u?void 0:u.status)||"-"},{title:"Delivery date",icon:(0,N.jsx)(V.Z,{}),data:O()(null===m||void 0===m?void 0:m.delivery_date).format("YYYY-MM-DD")||"-"},{title:"Created at",icon:(0,N.jsx)(V.Z,{}),data:O()(null===m||void 0===m?void 0:m.created_at).format("YYYY-MM-DD")||"-"}],{isDemo:M}=(0,W.Z)(),D=[(0,N.jsx)(X.Y4r,{size:20,onClick:e=>{e.stopPropagation(),x(m.id)}}),(0,N.jsx)(U.Z,{onClick:e=>{M?w.Am.warning(_("cannot.work.demo")):(e.stopPropagation(),Z([m.id]),b(!0),j(!0),k(m.status))}}),(0,N.jsx)(B.Z,{onClick:e=>{e.stopPropagation(),C(m.id)}}),(0,N.jsx)(R.Z,{onClick:e=>{e.stopPropagation(),f(m)}})];return(0,N.jsx)(d.Z,{actions:D,className:"order-card",children:(0,N.jsxs)(q.Z,{loading:g,avatar:!0,active:!0,children:[(0,N.jsx)(ee,{avatar:(0,N.jsx)(Q.C,{src:null===m||void 0===m||null===(v=m.user)||void 0===v?void 0:v.img}),description:`#${m.id}`,title:null===m||void 0===m||null===(h=m.shop)||void 0===h||null===(y=h.translation)||void 0===y?void 0:y.title}),(0,N.jsx)(G.ZP,{itemLayout:"horizontal",dataSource:S,renderItem:(e,t)=>(0,N.jsx)(G.ZP.Item,{children:(0,N.jsxs)(o.Z,{children:[null===e||void 0===e?void 0:e.icon,`${null===e||void 0===e?void 0:e.title}:  ${null===e||void 0===e?void 0:e.data}`]})},t)})]})})};var le=l(7142),ne=l(82508),ae=l(98501),oe=l(38628),ie=l(51282),de=l(59511);const se=e=>{let{goToEdit:t,goToShow:l,fetchOrderAllItem:a,fetchOrders:o,setLocationsMap:i,setId:d,setIsModalVisible:s,setText:r,setDowloadModal:c,type:v,setTabType:p}=e;const h=(0,u.I0)(),{statusList:m,loading:f}=(0,u.v9)((e=>e.orderStatus),u.wU),g=null===m||void 0===m?void 0:m.map((e=>null===e||void 0===e?void 0:e.name)),{items:x}=(0,u.v9)((e=>e.orders),u.wU),Z=(0,u.v9)((e=>e.orders),u.wU),[b,j]=(0,n.useState)(""),[C,k]=(0,n.useState)({}),[S,M]=(0,n.useState)({}),[D,O]=(0,n.useState)({}),[P,E]=(0,n.useState)(null),[I,Y]=(0,n.useState)(""),H=e=>{const t={...x},l=t[e.source.droppableId],[n,a]=((e,t)=>{const l=Array.from(e),[n]=l.splice(t,1);return[n,l]})(l,e.source.index);t[e.source.droppableId]=a;const o=t[e.destination.droppableId];t[e.destination.droppableId]=((e,t,l)=>{const n=Array.from(e);return n.splice(t,0,l),n})(o,e.destination.index,n),h((0,y.U7)(t)),O(null)},F=e=>{var t,l;e.destination&&(M(e),t=e.draggableId,l={status:e.destination.droppableId},_.Z.updateStatus(t,l).then((()=>{w.Am.success(`#${t} order status changed`)})),H(e))},K=e=>(0!==e||D!==g.length-1)&&Boolean(D>e);(0,n.useEffect)((()=>{h((0,y.H5)()),a()}),[v]);return(0,N.jsxs)(N.Fragment,{children:[f?(0,N.jsx)("div",{children:(0,N.jsx)(ie.Z,{})}):(0,N.jsx)(T.Z5,{onDragEnd:F,onDragStart:e=>{const t=g.findIndex((t=>t===e.source.droppableId));k(e),O(t)},children:(0,N.jsx)("div",{className:"order-board",children:null===g||void 0===g?void 0:g.map(((e,n)=>{var a,u,v,m,f,g,C;return(0,N.jsx)("div",{className:"dnd-column",children:(0,N.jsx)($,{title:e,onDragEnd:F,name:e,isDropDisabled:K(n),total:null===(a=x[e])||void 0===a?void 0:a.length,loading:null===(u=Z[e])||void 0===u?void 0:u.loading,reloadOrder:()=>(e=>{h((0,y.x9)(e)),o({status:e})})(e),children:(0,N.jsxs)(le.ZP,{onScroll:t=>((e,t)=>{const l=e.target.lastChild,n=e.target.clientHeight+e.target.scrollTop;var a;l&&n>l.offsetTop+l.clientHeight+19.9&&Z[t].meta.last_page>Z[t].meta.current_page&&(null===(a=Z[t])||void 0===a||!a.loading)&&(j(t),o({page:Z[t].meta.current_page+1,perPage:5,status:t}))})(t,e),autoHeight:!0,autoHeightMin:"75vh",autoHeightMax:"75vh",autoHide:!0,id:e,children:[Boolean((null===(v=Z[e])||void 0===v?void 0:v.loading)&&!(null!==(m=x[e])&&void 0!==m&&m.length))?null===(g=ae.Q[e])||void 0===g?void 0:g.map((()=>(0,N.jsx)(oe.Z,{loading:!0}))):null===(f=x[e])||void 0===f?void 0:f.map(((e,n)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(T._l,{draggableId:e.id.toString(),index:n,children:n=>(0,N.jsx)("div",{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,children:(0,N.jsx)(te,{data:e,goToEdit:t,goToShow:l,setLocationsMap:i,setId:d,setIsModalVisible:s,setText:r,setDowloadModal:c,setTabType:p})})},e.id)}))),(null===(C=Z[e])||void 0===C?void 0:C.loading)&&e===b&&(0,N.jsx)(z.Z,{indicator:(0,N.jsx)(ne.Z,{style:{fontSize:24},spin:!0})})]})})},e)}))})}),P&&(0,N.jsx)(de.Z,{result:S,changeColumnData:H,statusChangedOrder:P,setStatusChangedOrder:E,modalNoteType:I})]})};var re=l(21186),ce=l(3925),ue=l(97421),ve=l(27453),pe=l(47139),he=l(79637);const{RangePicker:ye}=a.Z;function me(){var e,t,l,a,D,E,I,Y,T,$;const z=(0,u.I0)(),H=(0,s.s0)(),{t:F}=(0,p.$)(),{type:K}=(0,s.UO)(),{statusList:L}=(0,u.v9)((e=>e.orderStatus),u.wU),[A,V]=(0,n.useState)(null),[U,B]=(0,n.useState)(null),[R,q]=(0,n.useState)(null),[Q,G]=(0,n.useState)(!1),[J,X]=(0,n.useState)(null),[W,ee]=(0,n.useState)(null),{setIsModalVisible:te}=(0,n.useContext)(S._),{activeMenu:le}=(0,u.v9)((e=>e.menu),u.wU),[ne,ae]=(0,n.useState)(null),[oe,ie]=(0,n.useState)(null),[de,me]=(0,n.useState)(!1),[fe,ge]=(0,n.useState)(null),xe=null===le||void 0===le?void 0:le.data,Ze={search:null!==xe&&void 0!==xe&&xe.search?xe.search:void 0,perPage:(null===xe||void 0===xe?void 0:xe.perPage)||5,page:(null===xe||void 0===xe?void 0:xe.page)||1,user_id:null===xe||void 0===xe?void 0:xe.client_id,region_id:null===xe||void 0===xe||null===(e=xe.region)||void 0===e?void 0:e.value,country_id:null===xe||void 0===xe||null===(t=xe.country)||void 0===t?void 0:t.value,city_id:null===xe||void 0===xe||null===(l=xe.city)||void 0===l?void 0:l.value,status:null===xe||void 0===xe?void 0:xe.role,type:"1",shop_id:null!==(null===(a=le.data)||void 0===a?void 0:a.shop_id)?null===(D=le.data)||void 0===D?void 0:D.shop_id:null,delivery_type:"scheduled"!==K?K:void 0,delivery_date_from:"scheduled"===K?O()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:(null===fe||void 0===fe||null===(E=fe[0])||void 0===E?void 0:E.format("YYYY-MM-DD"))||void 0,date_to:(null===fe||void 0===fe||null===(I=fe[1])||void 0===I?void 0:I.format("YYYY-MM-DD"))||void 0};(0,h.Z)((()=>{z((0,y.H5)()),ke()}),[xe,fe]);const be=(e,t)=>{(0,u.dC)((()=>{z((0,y.H5)()),z((0,v.nc)({activeMenu:le,data:{...xe,[t]:e}}))}))};const je=()=>{V(null),X(null),B(null),q(null)};const Ce=e=>{var t,l,n,a,o,i,d;const s={...e,delivery_type:"scheduled"!==K?K:void 0,delivery_date_from:"scheduled"===K?O()().add(1,"day").format("YYYY-MM-DD"):void 0,search:null!==xe&&void 0!==xe&&xe.search?xe.search:void 0,user_id:null===xe||void 0===xe?void 0:xe.client_id,region_id:null===xe||void 0===xe||null===(t=xe.region)||void 0===t?void 0:t.value,country_id:null===xe||void 0===xe||null===(l=xe.country)||void 0===l?void 0:l.value,city_id:null===xe||void 0===xe||null===(n=xe.city)||void 0===n?void 0:n.value,status:null===e||void 0===e?void 0:e.status,type:"1",shop_id:null!==(null===(a=le.data)||void 0===a?void 0:a.shop_id)?null===(o=le.data)||void 0===o?void 0:o.shop_id:null,date_from:(null===fe||void 0===fe||null===(i=fe[0])||void 0===i?void 0:i.format("YYYY-MM-DD"))||void 0,date_to:(null===fe||void 0===fe||null===(d=fe[1])||void 0===d?void 0:d.format("YYYY-MM-DD"))||void 0};switch(null===e||void 0===e?void 0:e.status){case"new":z((0,y.O7)(s));break;case"accepted":z((0,y.We)(s));break;case"ready":z((0,y.wC)(s));break;case"on_a_way":z((0,y.Ri)(s));break;case"delivered":z((0,y.Rd)(s));break;case"canceled":z((0,y.eV)(s));break;case"cooking":z((0,y.XK)(s));break;case"pause":z((0,y.p2)(s));break;default:console.log("Sorry, we are out of")}},ke=()=>{Ce({status:"new"}),Ce({status:"accepted"}),Ce({status:"ready"}),Ce({status:"on_a_way"}),Ce({status:"delivered"}),Ce({status:"canceled"}),Ce({status:"cooking"}),Ce({status:"pause"})};return(0,n.useEffect)((()=>{null!==le&&void 0!==le&&le.refetch&&(0,u.dC)((()=>{z((0,y.AU)(Ze)),z((0,v.A_)(le)),z((0,m.dX)({})),z((0,m.ZL)({}))}))}),[null===le||void 0===le?void 0:le.refetch]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.Z,{className:"w-100 justify-content-end mb-3",children:[(0,N.jsx)(re.Z,{listType:"orders-board"}),(0,N.jsxs)(i.Z,{onClick:()=>{G(!0),_.Z.export(Ze).then((e=>window.location.href=ue.S0+e.data.file_name)).finally((()=>G(!1)))},loading:Q,style:{width:"100%"},children:[(0,N.jsx)(ce.bwQ,{className:"mr-2"}),F("export")]}),(0,N.jsx)(i.Z,{icon:(0,N.jsx)(r.Z,{}),onClick:()=>{(0,u.dC)((()=>{z((0,y.H5)()),z((0,v.nc)({activeMenu:le,data:null}))})),ke()},style:{width:"100%"},children:F("clear")}),(0,N.jsx)(i.Z,{type:"primary",icon:(0,N.jsx)(c.Z,{}),onClick:()=>{z((0,g.bn)()),z((0,v.K0)({id:"pos.system_01",url:"pos-system",name:"pos.system"})),H("/pos-system")},style:{width:"100%"},children:F("add.order")})]}),(0,N.jsx)(d.Z,{children:(0,N.jsxs)(o.Z,{wrap:!0,className:"order-filter",size:[8,15],children:[(0,N.jsx)(f.Z,{defaultValue:null===xe||void 0===xe?void 0:xe.search,resetSearch:!(null!==xe&&void 0!==xe&&xe.search),placeholder:F("search"),handleChange:e=>be(e,"search")}),(0,N.jsx)(x.h,{placeholder:F("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return P.Z.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))}))},style:{width:"100%"},onClear:()=>z((0,y.H5)()),onSelect:e=>be(e.value,"shop_id"),onDeselect:()=>be(null,"shop_id"),allowClear:!0,value:null===xe||void 0===xe?void 0:xe.shop_id}),(0,N.jsx)(x.h,{placeholder:F("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return Z.Z.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:`${e.firstname} ${e.lastname}`,value:e.id,key:e.id})))}))},onSelect:e=>be(e.value,"client_id"),onDeselect:()=>be(null,"client_id"),style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.client_id}),(0,N.jsx)(x.h,{placeholder:F("select.region"),fetchOptions:e=>{const t={search:e,perPage:10,page:1};return ve.Z.get(t).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},onSelect:e=>{z((0,v.nc)({activeMenu:le,data:{...xe,region:e,country:null,city:null}}))},onDeselect:()=>{z((0,v.nc)({activeMenu:le,data:{...xe,region:null,country:null,city:null}}))},allowClear:!0,style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.region,autoComplete:"none"}),(0,N.jsx)(x.h,{placeholder:F("select.country"),fetchOptions:e=>{var t,l;const n={search:e,perPage:10,page:1,region_id:null===le||void 0===le||null===(t=le.data)||void 0===t||null===(l=t.region)||void 0===l?void 0:l.value};return pe.Z.get(n).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>{z((0,v.nc)({activeMenu:le,data:{...xe,country:e,city:null}}))},onDeselect:()=>{z((0,v.nc)({activeMenu:le,data:{...xe,country:null,city:null}}))},style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.country,autoComplete:"none",disabled:!(null!==xe&&void 0!==xe&&null!==(Y=xe.region)&&void 0!==Y&&Y.value),allowClear:!0}),(0,N.jsx)(x.h,{placeholder:F("select.city"),fetchOptions:e=>{var t,l;const n={search:e,perPage:10,page:1,country_id:null===le||void 0===le||null===(t=le.data)||void 0===t||null===(l=t.country)||void 0===l?void 0:l.value};return he.Z.get(n).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>z((0,v.nc)({activeMenu:le,data:{...xe,city:e}})),onDeselect:()=>z((0,v.nc)({activeMenu:le,data:{...xe,city:null}})),style:{width:"100%"},value:null===xe||void 0===xe?void 0:xe.city,autoComplete:"none",disabled:!(null!==xe&&void 0!==xe&&null!==(T=xe.country)&&void 0!==T&&T.value)||!(null!==xe&&void 0!==xe&&null!==($=xe.region)&&void 0!==$&&$.value),allowClear:!0}),"scheduled"!==K&&(0,N.jsx)(ye,{defaultValue:fe,onChange:e=>{be(JSON.stringify(e),"data_time"),ge(e)},disabledDate:e=>e&&e>O()().endOf("day"),allowClear:!0,style:{width:"100%"}})]})}),(0,N.jsx)(se,{goToEdit:e=>{z((0,g.bn)()),z((0,v.bL)({url:`order/${e.id}`,id:"order_edit",name:F("edit.order")})),H(`/order/${e.id}`)},goToShow:e=>{z((0,v.bL)({url:`order/details/${e.id}`,id:"order_details",name:F("order.details")})),H(`/order/details/${e.id}`)},fetchOrderAllItem:ke,fetchOrders:Ce,setLocationsMap:B,setId:ae,setIsModalVisible:te,setText:ie,setDowloadModal:q,type:K,setTabType:ee}),A&&(0,N.jsx)(b.Z,{orderDetails:A,handleCancel:je,status:L}),J&&(0,N.jsx)(j.Z,{orderDetails:J,handleCancel:je}),U&&(0,N.jsx)(C.Z,{id:U,handleCancel:je}),R&&(0,N.jsx)(k.Z,{id:R,handleCancel:je}),(0,N.jsx)(M.Z,{click:()=>{me(!0);const e={...Object.assign({},...ne.map(((e,t)=>({[`ids[${t}]`]:e}))))};_.Z.delete(e).then((()=>{te(!1),ie(null),z((0,y.H5)()),ke({status:W}),w.Am.success(F("successfully.deleted"))})).finally((()=>me(!1)))},text:F(oe?"delete":"all.delete"),loading:de,setText:ae})]})}},21186:(e,t,l)=>{l.d(t,{Z:()=>r});var n=l(39180),a=(l(47313),l(58821)),o=l(54972),i=l(97890),d=l(46417);const s=[{value:"orders-board",title:"Board",icon:(0,d.jsx)(o.Ez2,{size:20})},{value:"orders",title:"List",icon:(0,d.jsx)(a.Ps6,{size:20})}],r=e=>{let{listType:t}=e;const{type:l}=(0,i.UO)(),a=(0,i.s0)();return(0,d.jsx)(n.ZP.Group,{value:t,onChange:e=>{a(`/${e.target.value}${l?`/${l}`:""}`)},className:"float-right",buttonStyle:"solid",children:null===s||void 0===s?void 0:s.map((e=>(0,d.jsx)(n.ZP.Button,{value:e.value,children:(0,d.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)))})}},59511:(e,t,l)=>{l.d(t,{Z:()=>h});var n=l(47313),a=l(10976),o=l(9274),i=l(59491),d=l(68197),s=l(59624),r=l(66672),c=l(24511),u=l(7370),v=l(23560),p=l(46417);function h(e){let{result:t,changeColumnData:l,statusChangedOrder:h,setStatusChangedOrder:y,modalNoteType:m}=e;const[f]=a.Z.useForm(),{t:g}=(0,c.$)(),[x,Z]=(0,n.useState)(!1),b=()=>y((e=>!e));return(0,p.jsx)(o.Z,{visible:!!h,onCancel:b,footer:[(0,p.jsx)(i.Z,{type:"primary",onClick:()=>f.submit(),loading:x,children:g("save")},"save-form"),(0,p.jsx)(i.Z,{type:"default",onClick:b,children:g("cancel")},"cansel-modal")],children:(0,p.jsx)(a.Z,{form:f,layout:"vertical",onFinish:e=>{Z(!0);const n={...e,status:m};u.Z.updateStatus(h,n).then((e=>{let{data:n}=e;b(),l(t),v.Am.success(`#${n.id} order status changed`)})).finally((()=>Z(!1)))},children:(0,p.jsx)(d.Z,{gutter:12,children:(0,p.jsx)(s.Z,{span:24,children:(0,p.jsx)(a.Z.Item,{label:g("pause"===m?"pause.note":"canceled.note"),name:"pause"===m?"pause_note":"canceled_note",rules:[{required:"canceled"===m,message:g("required")}],children:(0,p.jsx)(r.Z.TextArea,{})})})})})})}},35529:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(1413),a=l(47313);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M117 368h231v64H117zm559 0h241v64H676zm-264 0h200v64H412zm0 224h200v64H412zm264 0h241v64H676zm-559 0h231v64H117zm295-160V179h-64v666h64V592zm264-64V179h-64v666h64V432z"}}]},name:"borderless-table",theme:"outlined"};var i=l(17469),d=function(e,t){return a.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:o}))};d.displayName="BorderlessTableOutlined";const s=a.forwardRef(d)},39180:(e,t,l)=>{l.d(t,{ZP:()=>P});var n=l(4942),a=l(87462),o=l(47313),i=l(56482),d=l(46123),s=l.n(d),r=l(16945),c=l(4431),u=l(91964),v=o.createContext(null),p=v.Provider;const h=v;var y=o.createContext(null),m=y.Provider,f=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]])}return l},g=function(e,t){var l,d=o.useContext(h),v=o.useContext(y),p=o.useContext(u.E_),m=p.getPrefixCls,g=p.direction,x=o.useRef(),Z=(0,r.sQ)(t,x),b=(0,o.useContext)(c.aM).isFormItemInput,j=e.prefixCls,C=e.className,k=e.children,w=e.style,_=f(e,["prefixCls","className","children","style"]),S=m("radio",j),M="button"===((null===d||void 0===d?void 0:d.optionType)||v)?"".concat(S,"-button"):S,D=(0,a.Z)({},_);d&&(D.name=d.name,D.onChange=function(t){var l,n;null===(l=e.onChange)||void 0===l||l.call(e,t),null===(n=null===d||void 0===d?void 0:d.onChange)||void 0===n||n.call(d,t)},D.checked=e.value===d.value,D.disabled=e.disabled||d.disabled);var O=s()("".concat(M,"-wrapper"),(l={},(0,n.Z)(l,"".concat(M,"-wrapper-checked"),D.checked),(0,n.Z)(l,"".concat(M,"-wrapper-disabled"),D.disabled),(0,n.Z)(l,"".concat(M,"-wrapper-rtl"),"rtl"===g),(0,n.Z)(l,"".concat(M,"-wrapper-in-form-item"),b),l),C);return o.createElement("label",{className:O,style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(i.Z,(0,a.Z)({},D,{type:"radio",prefixCls:M,ref:Z})),void 0!==k?o.createElement("span",null,k):null)},x=o.forwardRef(g);x.displayName="Radio";const Z=x;var b=l(29439),j=l(10288),C=l(21631),k=l(81176),w=o.forwardRef((function(e,t){var l=o.useContext(u.E_),i=l.getPrefixCls,d=l.direction,r=o.useContext(C.Z),c=(0,j.Z)(e.defaultValue,{value:e.value}),v=(0,b.Z)(c,2),h=v[0],y=v[1];return o.createElement(p,{value:{onChange:function(t){var l=h,n=t.target.value;"value"in e||y(n);var a=e.onChange;a&&n!==l&&a(t)},value:h,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var l,c=e.prefixCls,u=e.className,v=void 0===u?"":u,p=e.options,y=e.buttonStyle,m=void 0===y?"outline":y,f=e.disabled,g=e.children,x=e.size,b=e.style,j=e.id,C=e.onMouseEnter,w=e.onMouseLeave,_=i("radio",c),S="".concat(_,"-group"),M=g;p&&p.length>0&&(M=p.map((function(e){return"string"===typeof e||"number"===typeof e?o.createElement(Z,{key:e.toString(),prefixCls:_,disabled:f,value:e,checked:h===e},e):o.createElement(Z,{key:"radio-group-value-options-".concat(e.value),prefixCls:_,disabled:e.disabled||f,value:e.value,checked:h===e.value,style:e.style},e.label)})));var D=x||r,O=s()(S,"".concat(S,"-").concat(m),(l={},(0,n.Z)(l,"".concat(S,"-").concat(D),D),(0,n.Z)(l,"".concat(S,"-rtl"),"rtl"===d),l),v);return o.createElement("div",(0,a.Z)({},(0,k.Z)(e),{className:O,style:b,onMouseEnter:C,onMouseLeave:w,id:j,ref:t}),M)}())}));const _=o.memo(w);var S=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]])}return l},M=function(e,t){var l=o.useContext(u.E_).getPrefixCls,n=e.prefixCls,i=S(e,["prefixCls"]),d=l("radio",n);return o.createElement(m,{value:"button"},o.createElement(Z,(0,a.Z)({prefixCls:d},i,{type:"radio",ref:t})))};const D=o.forwardRef(M);var O=Z;O.Button=D,O.Group=_;const P=O},56482:(e,t,l)=>{l.d(t,{Z:()=>y});var n=l(87462),a=l(4942),o=l(45987),i=l(1413),d=l(15671),s=l(43144),r=l(60136),c=l(54062),u=l(47313),v=l(46123),p=l.n(v),h=function(e){(0,r.Z)(l,e);var t=(0,c.Z)(l);function l(e){var n;(0,d.Z)(this,l),(n=t.call(this,e)).handleChange=function(e){var t=n.props,l=t.disabled,a=t.onChange;l||("checked"in n.props||n.setState({checked:e.target.checked}),a&&a({target:(0,i.Z)((0,i.Z)({},n.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},n.saveInput=function(e){n.input=e};var a="checked"in e?e.checked:e.defaultChecked;return n.state={checked:a},n}return(0,s.Z)(l,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,l=t.prefixCls,i=t.className,d=t.style,s=t.name,r=t.id,c=t.type,v=t.disabled,h=t.readOnly,y=t.tabIndex,m=t.onClick,f=t.onFocus,g=t.onBlur,x=t.onKeyDown,Z=t.onKeyPress,b=t.onKeyUp,j=t.autoFocus,C=t.value,k=t.required,w=(0,o.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),S=this.state.checked,M=p()(l,i,(e={},(0,a.Z)(e,"".concat(l,"-checked"),S),(0,a.Z)(e,"".concat(l,"-disabled"),v),e));return u.createElement("span",{className:M,style:d},u.createElement("input",(0,n.Z)({name:s,id:r,type:c,required:k,readOnly:h,disabled:v,tabIndex:y,className:"".concat(l,"-input"),checked:!!S,onClick:m,onFocus:f,onBlur:g,onKeyUp:b,onKeyDown:x,onKeyPress:Z,onChange:this.handleChange,autoFocus:j,ref:this.saveInput,value:C},_)),u.createElement("span",{className:"".concat(l,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,i.Z)((0,i.Z)({},t),{},{checked:e.checked}):null}}]),l}(u.Component);h.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const y=h}}]);