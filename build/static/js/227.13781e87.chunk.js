"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[227],{60227:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(47313),s=a(31741),d=a(55613),r=a(45705),i=a(59491),n=a(77181),o=a(78508),u=a(23560),c=a(69658),v=a(74580),h=a(2717),p=a(90954),x=a(80314),g=a(13945),m=a(24511),f=a(28305),w=a(27290),j=a(99361),k=a(70816),Z=a.n(k),_=a(97890),y=a(53233),I=a(46417);function C(){const{t:e}=(0,m.$)(),t=(0,h.I0)(),a=(0,_.s0)(),[k,C]=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:l=>(0,I.jsxs)("div",{className:"text-hover",onClick:()=>(l=>{t((0,p.bL)({id:"order_details",url:`seller/order/details/${l}`,name:e("order.details")})),a(`/seller/order/details/${l}`)})(null===l||void 0===l?void 0:l.id),children:["#",null===l||void 0===l?void 0:l.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,I.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:e=>{var t,a;return(0,I.jsx)("div",{className:"text-hover",children:null===(t=e.shop)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,I.jsx)(d.Z,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>Z()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,I.jsx)(r.Z,{children:(0,I.jsx)(i.Z,{type:"primary",icon:(0,I.jsx)(s.Z,{}),onClick:()=>P(t.id)})})}]),{setIsModalVisible:S}=(0,l.useContext)(v._),[b,M]=(0,l.useState)(null),[z,P]=(0,l.useState)(null),[Y,$]=(0,l.useState)(!1),[N,W]=(0,l.useState)(null),{activeMenu:A}=(0,h.v9)((e=>e.menu),h.wU),{reviews:D,meta:U,loading:V,params:E}=(0,h.v9)((e=>e.orderReview),h.wU);(0,l.useEffect)((()=>{A.refetch&&(t((0,w.WI)()),t((0,p.A_)(A)))}),[A.refetch]),(0,x.Z)((()=>{const e=A.data,a={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,w.WI)(a))}),[A.data]);const K={id:b,onChange:e=>{M(e)}};return(0,I.jsxs)(n.Z,{title:e("order.reviews"),extra:(0,I.jsx)(r.Z,{wrap:!0,children:(0,I.jsx)(y.Z,{columns:k,setColumns:C})}),children:[(0,I.jsx)(o.Z,{scroll:{x:!0},rowSelection:K,columns:null===k||void 0===k?void 0:k.filter((e=>e.is_show)),dataSource:D,pagination:{pageSize:E.perPage,page:E.page,total:U.total,defaultCurrent:E.page},rowKey:e=>e.id,onChange:function(e,a,l){const{pageSize:s,current:d}=e,{field:r,order:i}=l,n=(0,g.Z)(i);t((0,p.nc)({activeMenu:A,data:{perPage:s,page:d,column:r,sort:n}}))},loading:V}),(0,I.jsx)(c.Z,{click:()=>{$(!0);const a={...Object.assign({},...b.map(((e,t)=>({[`ids[${t}]`]:e}))))};f.Z.delete(a).then((()=>{u.Am.success(e("successfully.deleted")),t((0,w.WI)()),S(!1)})).finally((()=>$(!1)))},text:e(N?"delete":"all.delete"),setText:M,loading:Y}),z&&(0,I.jsx)(j.Z,{id:z,handleCancel:()=>P(null)})]})}}}]);