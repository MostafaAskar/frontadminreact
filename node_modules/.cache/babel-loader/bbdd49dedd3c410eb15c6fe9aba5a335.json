{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/chat/admin-message.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport moment from 'moment';\nimport { Message } from '@chatscope/chat-ui-kit-react';\nimport { IoCheckmarkOutline, IoCheckmarkDone } from \"react-icons/io5\";\nimport { FaReply } from \"react-icons/fa\";\nimport { MdOutlineModeEditOutline } from \"react-icons/md\";\nimport { RiDeleteBin6Fill } from \"react-icons/ri\";\nimport { Dropdown, Menu, Space } from \"antd\";\nimport { useSelector } from \"react-redux\";\nimport { fetchRepliedMessage } from \"../../firebase\";\nimport ReplyMessage from \"./replyMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminMessage = _ref => {\n  _s();\n\n  let {\n    data,\n    onActionMessage,\n    onDeleteMessage\n  } = _ref;\n  const {\n    type,\n    time,\n    message,\n    status = '',\n    read,\n    replyDocId\n  } = data;\n  const currentChatId = useSelector(state => {\n    var _state$chat, _state$chat$currentCh;\n\n    return (_state$chat = state.chat) === null || _state$chat === void 0 ? void 0 : (_state$chat$currentCh = _state$chat.currentChat) === null || _state$chat$currentCh === void 0 ? void 0 : _state$chat$currentCh.chatId;\n  });\n  const [replyMessage, setReplyMessage] = useState(null);\n\n  const handleMenuClick = _ref2 => {\n    let {\n      key\n    } = _ref2;\n\n    switch (key) {\n      case 'delete':\n        return onDeleteMessage();\n\n      default:\n        return onActionMessage(key);\n    }\n  };\n\n  const menu = /*#__PURE__*/_jsxDEV(Menu, {\n    onClick: handleMenuClick,\n    children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n      icon: /*#__PURE__*/_jsxDEV(FaReply, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 42\n      }, this),\n      children: \"Reply\"\n    }, \"reply\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), type !== 'image' && /*#__PURE__*/_jsxDEV(Menu.Item, {\n      icon: /*#__PURE__*/_jsxDEV(MdOutlineModeEditOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 62\n      }, this),\n      children: \"Edit\"\n    }, \"edit\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n      icon: /*#__PURE__*/_jsxDEV(RiDeleteBin6Fill, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 43\n      }, this),\n      danger: true,\n      children: \"Delete\"\n    }, \"delete\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n\n  useEffect(() => {\n    if (replyDocId) {\n      return fetchRepliedMessage(replyDocId, currentChatId, setReplyMessage);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-message-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `admin-message ${type === 'image' && 'chat-image'}`,\n      children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n        overlay: menu,\n        trigger: ['contextMenu'],\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [replyMessage && /*#__PURE__*/_jsxDEV(ReplyMessage, {\n            replyMessage: replyMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 42\n          }, this), type === 'image' ? /*#__PURE__*/_jsxDEV(Message, {\n            type: \"image\",\n            model: {\n              direction: 'incoming',\n              payload: {\n                src: message,\n                alt: 'Image',\n                width: '100%',\n                height: '100%'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time\",\n        children: moment(new Date(time)).format('HH:mm')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"double-check\",\n        children: read ? /*#__PURE__*/_jsxDEV(IoCheckmarkDone, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(IoCheckmarkOutline, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AdminMessage, \"yzFHpHQO5gbSCkGD3rYa5insefQ=\", false, function () {\n  return [useSelector];\n});\n\n_c = AdminMessage;\nexport default AdminMessage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminMessage\");","map":{"version":3,"names":["React","useEffect","useState","moment","Message","IoCheckmarkOutline","IoCheckmarkDone","FaReply","MdOutlineModeEditOutline","RiDeleteBin6Fill","Dropdown","Menu","Space","useSelector","fetchRepliedMessage","ReplyMessage","AdminMessage","data","onActionMessage","onDeleteMessage","type","time","message","status","read","replyDocId","currentChatId","state","chat","currentChat","chatId","replyMessage","setReplyMessage","handleMenuClick","key","menu","direction","payload","src","alt","width","height","Date","format"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/chat/admin-message.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport moment from 'moment';\nimport {Message} from '@chatscope/chat-ui-kit-react';\nimport {IoCheckmarkOutline, IoCheckmarkDone} from \"react-icons/io5\";\nimport {FaReply} from \"react-icons/fa\";\nimport {MdOutlineModeEditOutline} from \"react-icons/md\";\nimport {RiDeleteBin6Fill} from \"react-icons/ri\";\nimport {Dropdown, Menu, Space} from \"antd\";\nimport {useSelector} from \"react-redux\";\nimport {fetchRepliedMessage} from \"../../firebase\";\nimport ReplyMessage from \"./replyMessage\";\n\nconst AdminMessage = ({data, onActionMessage, onDeleteMessage}) => {\n    const {type, time, message, status = '', read, replyDocId} = data;\n    const currentChatId = useSelector((state) => state.chat?.currentChat?.chatId)\n\n    const [replyMessage, setReplyMessage] = useState(null);\n    const handleMenuClick = ({key}) => {\n       switch (key) {\n           case 'delete':\n               return onDeleteMessage();\n           default:\n               return onActionMessage(key)\n       }\n    }\n    const menu = (\n        <Menu onClick={handleMenuClick}>\n            <Menu.Item key=\"reply\" icon={<FaReply/>}>Reply</Menu.Item>\n            {type !== 'image' && <Menu.Item key=\"edit\" icon={<MdOutlineModeEditOutline/>}>Edit</Menu.Item>}\n            <Menu.Item key=\"delete\" icon={<RiDeleteBin6Fill/>} danger>Delete</Menu.Item>\n        </Menu>\n    );\n    useEffect(() => {\n        if (replyDocId) {\n            return fetchRepliedMessage(replyDocId, currentChatId, setReplyMessage)\n        }\n    }, []);\n    return (\n        <div className='admin-message-wrapper'>\n            <div className={`admin-message ${type === 'image' && 'chat-image'}`}>\n                <Dropdown\n                    overlay={menu}\n                    trigger={['contextMenu']}>\n                    <div>\n                        {replyMessage && <ReplyMessage replyMessage={replyMessage}/>}\n                        {type === 'image' ? (\n                            <Message\n                                type='image'\n                                model={{\n                                    direction: 'incoming',\n                                    payload: {\n                                        src: message,\n                                        alt: 'Image',\n                                        width: '100%',\n                                        height: '100%',\n                                    },\n                                }}\n                            />\n                        ) : <div className='text'>{message}</div>}\n                    </div>\n                </Dropdown>\n\n                <div className='time'>{moment(new Date(time)).format('HH:mm')}</div>\n                <span className='double-check'>\n          {read ? <IoCheckmarkDone size={16}/> : <IoCheckmarkOutline size={16}/>}\n        </span>\n            </div>\n        </div>\n    );\n};\n\nexport default AdminMessage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}