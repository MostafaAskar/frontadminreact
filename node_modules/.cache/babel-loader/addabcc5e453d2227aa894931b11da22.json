{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/order/product-cards.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Card, Col, Row, Space, Spin } from 'antd';\nimport RiveResult from 'components/rive-result';\nimport getImage from 'helpers/getImage';\nimport Meta from 'antd/es/card/Meta';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { fetchRestProducts } from 'redux/slices/product';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DebounceSelect } from 'components/search';\nimport categoryService from 'services/category';\nimport SearchInput from 'components/search-input';\nimport ProductModal from './product-modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductCards() {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    products,\n    loading\n  } = useSelector(state => state.product, shallowEqual);\n  const {\n    myShop\n  } = useSelector(state => state.myShop, shallowEqual);\n  const [search, setSearch] = useState(null);\n  const [brand, setBrand] = useState(null);\n  const [category, setCategory] = useState(null);\n  const [productModal, setProductModal] = useState(null);\n\n  async function fetchCategories(search) {\n    const params = {\n      search,\n      type: 'main',\n      shop_id: myShop === null || myShop === void 0 ? void 0 : myShop.id\n    };\n    return categoryService.search(params).then(_ref => {\n      let {\n        data\n      } = _ref;\n      return data.map(item => {\n        var _item$translation;\n\n        return {\n          label: item === null || item === void 0 ? void 0 : (_item$translation = item.translation) === null || _item$translation === void 0 ? void 0 : _item$translation.title,\n          value: item === null || item === void 0 ? void 0 : item.id,\n          key: item === null || item === void 0 ? void 0 : item.id\n        };\n      });\n    });\n  }\n\n  useEffect(() => {\n    const params = {\n      perPage: 10,\n      page: 1,\n      brand_id: brand === null || brand === void 0 ? void 0 : brand.value,\n      category_id: category === null || category === void 0 ? void 0 : category.value,\n      search,\n      shop_id: myShop === null || myShop === void 0 ? void 0 : myShop.id,\n      active: 1\n    };\n    dispatch(fetchRestProducts(params));\n  }, [brand, category, search]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      title: t('products'),\n      className: 'order-add',\n      children: [/*#__PURE__*/_jsxDEV(Space, {\n        wrap: true,\n        className: 'mb-4',\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          placeholder: t('search'),\n          handleChange: value => setSearch(value),\n          defaultValue: search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DebounceSelect, {\n          placeholder: t('select.category'),\n          fetchOptions: fetchCategories,\n          style: {\n            minWidth: 150\n          },\n          onChange: value => setCategory(value),\n          value: category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(RiveResult, {\n          id: \"nosell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products-row order-items\",\n        children: [products.length ? products.map(item => {\n          var _item$translation2, _item$translation3;\n\n          return /*#__PURE__*/_jsxDEV(Card, {\n            className: \"products-col\",\n            cover: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: item === null || item === void 0 ? void 0 : (_item$translation2 = item.translation) === null || _item$translation2 === void 0 ? void 0 : _item$translation2.title,\n              src: getImage(item === null || item === void 0 ? void 0 : item.img)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this),\n            onClick: () => setProductModal(item),\n            children: [/*#__PURE__*/_jsxDEV(Meta, {\n              title: item === null || item === void 0 ? void 0 : (_item$translation3 = item.translation) === null || _item$translation3 === void 0 ? void 0 : _item$translation3.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview\",\n              children: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(RiveResult, {\n              id: \"nosell\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\",\n          children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), productModal && /*#__PURE__*/_jsxDEV(ProductModal, {\n      productData: productModal,\n      setProductData: setProductModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ProductCards, \"sRZcMgdGIZQl5NCBvts0B87/8zY=\", false, function () {\n  return [useTranslation, useDispatch, useSelector, useSelector];\n});\n\n_c = ProductCards;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCards\");","map":{"version":3,"names":["React","useEffect","useState","Card","Col","Row","Space","Spin","RiveResult","getImage","Meta","PlusOutlined","fetchRestProducts","shallowEqual","useSelector","useDispatch","useTranslation","DebounceSelect","categoryService","SearchInput","ProductModal","ProductCards","t","dispatch","products","loading","state","product","myShop","search","setSearch","brand","setBrand","category","setCategory","productModal","setProductModal","fetchCategories","params","type","shop_id","id","then","data","map","item","label","translation","title","value","key","perPage","page","brand_id","category_id","active","minWidth","length","img"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/order/product-cards.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card, Col, Row, Space, Spin } from 'antd';\nimport RiveResult from 'components/rive-result';\nimport getImage from 'helpers/getImage';\nimport Meta from 'antd/es/card/Meta';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { fetchRestProducts } from 'redux/slices/product';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DebounceSelect } from 'components/search';\nimport categoryService from 'services/category';\nimport SearchInput from 'components/search-input';\nimport ProductModal from './product-modal';\n\nexport default function ProductCards() {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const { products, loading } = useSelector(\n    (state) => state.product,\n    shallowEqual,\n  );\n  const { myShop } = useSelector((state) => state.myShop, shallowEqual);\n\n  const [search, setSearch] = useState(null);\n  const [brand, setBrand] = useState(null);\n  const [category, setCategory] = useState(null);\n  const [productModal, setProductModal] = useState(null);\n\n  async function fetchCategories(search) {\n    const params = { search, type: 'main', shop_id: myShop?.id };\n    return categoryService.search(params).then(({ data }) =>\n      data.map((item) => ({\n        label: item?.translation?.title,\n        value: item?.id,\n        key: item?.id,\n      })),\n    );\n  }\n\n  useEffect(() => {\n    const params = {\n      perPage: 10,\n      page: 1,\n      brand_id: brand?.value,\n      category_id: category?.value,\n      search,\n      shop_id: myShop?.id,\n      active: 1,\n    };\n    dispatch(fetchRestProducts(params));\n  }, [brand, category, search]);\n\n  return (\n    <>\n      <Card title={t('products')} className={'order-add'}>\n        <Space wrap className={'mb-4'}>\n          <SearchInput\n            placeholder={t('search')}\n            handleChange={(value) => setSearch(value)}\n            defaultValue={search}\n          />\n          <DebounceSelect\n            placeholder={t('select.category')}\n            fetchOptions={fetchCategories}\n            style={{ minWidth: 150 }}\n            onChange={(value) => setCategory(value)}\n            value={category}\n          />\n        </Space>\n        {products.length === 0 ? (\n          <Col span={24}>\n            <RiveResult id='nosell' />\n          </Col>\n        ) : (\n          <div className='products-row order-items'>\n            {products.length ? (\n              products.map((item) => (\n                <Card\n                  className='products-col'\n                  key={item.id}\n                  cover={\n                    <img\n                      alt={item?.translation?.title}\n                      src={getImage(item?.img)}\n                    />\n                  }\n                  onClick={() => setProductModal(item)}\n                >\n                  <Meta title={item?.translation?.title} />\n                  <div className='preview'>\n                    <PlusOutlined />\n                  </div>\n                </Card>\n              ))\n            ) : (\n              <Row>\n                <Col span={24}>\n                  <RiveResult id='nosell' />\n                </Col>\n              </Row>\n            )}\n            {loading && (\n              <div className='loader'>\n                <Spin />\n              </div>\n            )}\n          </div>\n        )}\n      </Card>\n      {productModal && (\n        <ProductModal\n          productData={productModal}\n          setProductData={setProductModal}\n        />\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}