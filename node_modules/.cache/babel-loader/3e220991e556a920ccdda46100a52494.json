{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/dashboard/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from 'redux/slices/menu';\nimport { fetchDeliverymanStatisticsCount, fetchSellerStatisticsCount, fetchStatistics } from 'redux/slices/statistics/count';\nimport { fetchTopCustomers } from 'redux/slices/statistics/topCustomers';\nimport { fetchSellerTopProducts, fetchTopProducts } from 'redux/slices/statistics/topProducts';\nimport Loading from 'components/loading';\nimport { fetchOrderCounts, fetchSellerOrderCounts } from 'redux/slices/statistics/orderCounts';\nimport { fetchOrderSales, fetchSellerOrderSales } from 'redux/slices/statistics/orderSales';\nimport GeneralDashboard from './generalDashboard';\nimport DeliverymanDashboard from './deliverymanDashboard';\nimport ManagerDashboard from './managerDashboard';\nimport ModeratorDashboard from './moderatorDashboard';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    user\n  } = useSelector(state => state.auth, shallowEqual);\n  const {\n    loading\n  } = useSelector(state => state.statisticsCount, shallowEqual);\n\n  function getDashboardsByRole() {\n    const body = {\n      time: 'subMonth'\n    };\n\n    switch (user === null || user === void 0 ? void 0 : user.role) {\n      case 'admin':\n        dispatch(fetchStatistics(body));\n        dispatch(fetchTopCustomers(body));\n        dispatch(fetchTopProducts(body));\n        dispatch(fetchOrderCounts(body));\n        dispatch(fetchOrderSales(body));\n        break;\n\n      case 'manager':\n        dispatch(fetchTopCustomers(body));\n        dispatch(fetchTopProducts(body));\n        break;\n\n      case 'seller':\n        dispatch(fetchSellerStatisticsCount(body));\n        dispatch(fetchSellerTopProducts(body));\n        dispatch(fetchSellerOrderCounts(body));\n        dispatch(fetchSellerOrderSales(body));\n        break;\n\n      case 'moderator':\n        break;\n\n      case 'deliveryman':\n        dispatch(fetchDeliverymanStatisticsCount());\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      getDashboardsByRole();\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  const renderDashboardByRole = () => {\n    switch (user.role) {\n      case 'admin':\n        return /*#__PURE__*/_jsxDEV(GeneralDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 16\n        }, this);\n\n      case 'manager':\n        return /*#__PURE__*/_jsxDEV(ManagerDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 16\n        }, this);\n\n      case 'seller':\n        return /*#__PURE__*/_jsxDEV(GeneralDashboard, {\n          isSeller: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 16\n        }, this);\n\n      case 'moderator':\n        return /*#__PURE__*/_jsxDEV(ModeratorDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 16\n        }, this);\n\n      case 'deliveryman':\n        return /*#__PURE__*/_jsxDEV(DeliverymanDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 16\n        }, this);\n\n      case 'waiter':\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/waiter/orders-board\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 16\n        }, this);\n\n      default:\n        return null;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-100\",\n    children: !loading ? renderDashboardByRole() : /*#__PURE__*/_jsxDEV(Loading, {\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 45\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dashboard, \"3m2Usz3CHSmJnjpom237NtMS7gM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","shallowEqual","useDispatch","useSelector","disableRefetch","fetchDeliverymanStatisticsCount","fetchSellerStatisticsCount","fetchStatistics","fetchTopCustomers","fetchSellerTopProducts","fetchTopProducts","Loading","fetchOrderCounts","fetchSellerOrderCounts","fetchOrderSales","fetchSellerOrderSales","GeneralDashboard","DeliverymanDashboard","ManagerDashboard","ModeratorDashboard","Navigate","Dashboard","dispatch","activeMenu","state","menu","user","auth","loading","statisticsCount","getDashboardsByRole","body","time","role","refetch","renderDashboardByRole"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/dashboard/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from 'redux/slices/menu';\nimport {\n  fetchDeliverymanStatisticsCount,\n  fetchSellerStatisticsCount,\n  fetchStatistics,\n} from 'redux/slices/statistics/count';\nimport { fetchTopCustomers } from 'redux/slices/statistics/topCustomers';\nimport {\n  fetchSellerTopProducts,\n  fetchTopProducts,\n} from 'redux/slices/statistics/topProducts';\nimport Loading from 'components/loading';\nimport {\n  fetchOrderCounts,\n  fetchSellerOrderCounts,\n} from 'redux/slices/statistics/orderCounts';\nimport {\n  fetchOrderSales,\n  fetchSellerOrderSales,\n} from 'redux/slices/statistics/orderSales';\nimport GeneralDashboard from './generalDashboard';\nimport DeliverymanDashboard from './deliverymanDashboard';\nimport ManagerDashboard from './managerDashboard';\nimport ModeratorDashboard from './moderatorDashboard';\nimport { Navigate } from 'react-router-dom';\n\nexport default function Dashboard() {\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { user } = useSelector((state) => state.auth, shallowEqual);\n  const { loading } = useSelector(\n    (state) => state.statisticsCount,\n    shallowEqual,\n  );\n\n  function getDashboardsByRole() {\n    const body = { time: 'subMonth' };\n    switch (user?.role) {\n      case 'admin':\n        dispatch(fetchStatistics(body));\n        dispatch(fetchTopCustomers(body));\n        dispatch(fetchTopProducts(body));\n        dispatch(fetchOrderCounts(body));\n        dispatch(fetchOrderSales(body));\n        break;\n      case 'manager':\n        dispatch(fetchTopCustomers(body));\n        dispatch(fetchTopProducts(body));\n        break;\n      case 'seller':\n        dispatch(fetchSellerStatisticsCount(body));\n        dispatch(fetchSellerTopProducts(body));\n        dispatch(fetchSellerOrderCounts(body));\n        dispatch(fetchSellerOrderSales(body));\n        break;\n      case 'moderator':\n        break;\n      case 'deliveryman':\n        dispatch(fetchDeliverymanStatisticsCount());\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      getDashboardsByRole();\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  const renderDashboardByRole = () => {\n    switch (user.role) {\n      case 'admin':\n        return <GeneralDashboard />;\n      case 'manager':\n        return <ManagerDashboard />;\n      case 'seller':\n        return <GeneralDashboard isSeller={true} />;\n      case 'moderator':\n        return <ModeratorDashboard />;\n      case 'deliveryman':\n        return <DeliverymanDashboard />;\n      case 'waiter':\n        return <Navigate to='/waiter/orders-board' replace />;\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className='h-100'>\n      {!loading ? renderDashboardByRole() : <Loading size='large' />}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}