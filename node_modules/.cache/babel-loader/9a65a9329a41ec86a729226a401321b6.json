{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/payout-requests/payoutRequestModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Descriptions, Modal } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { setRefetch } from '../../redux/slices/menu';\nimport walletService from '../../services/wallet';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PayoutRequestModal(_ref) {\n  _s();\n\n  var _data$user, _data$user2, _data$user3;\n\n  let {\n    data,\n    handleCancel\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    defaultCurrency\n  } = useSelector(state => state.currency, shallowEqual);\n  const dispatch = useDispatch();\n  const [loadingAccept, setLoadingAccept] = useState(false);\n  const [loadingReject, setLoadingReject] = useState(false);\n\n  const acceptRequest = () => {\n    setLoadingAccept(true);\n    const payload = {\n      status: 'paid'\n    };\n    walletService.statusChange(data.uuid, payload).then(() => {\n      handleCancel();\n      dispatch(setRefetch(activeMenu));\n    }).finally(() => setLoadingAccept(false));\n  };\n\n  const rejectRequest = () => {\n    setLoadingReject(true);\n    const payload = {\n      status: 'rejected'\n    };\n    walletService.statusChange(data.uuid, payload).then(() => {\n      handleCancel();\n      dispatch(setRefetch(activeMenu));\n    }).finally(() => setLoadingReject(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: !!data,\n    title: t('pay.to.seller'),\n    onCancel: handleCancel,\n    footer: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: acceptRequest,\n      loading: loadingAccept,\n      children: t('pay')\n    }, 'pay-btn', false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"danger\",\n      onClick: rejectRequest,\n      loading: loadingReject,\n      children: t('reject')\n    }, 'reject-btn', false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(Descriptions, {\n      bordered: true,\n      children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n        label: t('seller'),\n        span: 3,\n        children: [(_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.firstname, \" \", (_data$user2 = data.user) === null || _data$user2 === void 0 ? void 0 : _data$user2.lastname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n        label: t('phone'),\n        span: 3,\n        children: (_data$user3 = data.user) === null || _data$user3 === void 0 ? void 0 : _data$user3.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n        label: t('requested.amount'),\n        span: 3,\n        children: numberToPrice(data.price, defaultCurrency.symbol)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n        label: t('note'),\n        span: 3,\n        children: data.note\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n        label: t('created.at'),\n        span: 3,\n        children: moment(data === null || data === void 0 ? void 0 : data.created_at).format('YYYY-MM-DD HH:mm')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PayoutRequestModal, \"2y3wpUKRUCVGzcN80vNQhLIIV2s=\", false, function () {\n  return [useTranslation, useSelector, useSelector, useDispatch];\n});\n\n_c = PayoutRequestModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PayoutRequestModal\");","map":{"version":3,"names":["React","useState","Button","Descriptions","Modal","shallowEqual","useDispatch","useSelector","useTranslation","setRefetch","walletService","numberToPrice","moment","PayoutRequestModal","data","handleCancel","t","activeMenu","state","menu","defaultCurrency","currency","dispatch","loadingAccept","setLoadingAccept","loadingReject","setLoadingReject","acceptRequest","payload","status","statusChange","uuid","then","finally","rejectRequest","user","firstname","lastname","phone","price","symbol","note","created_at","format"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/payout-requests/payoutRequestModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Descriptions, Modal } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { setRefetch } from '../../redux/slices/menu';\nimport walletService from '../../services/wallet';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport moment from 'moment';\n\nexport default function PayoutRequestModal({ data, handleCancel }) {\n  const { t } = useTranslation();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual,\n  );\n  const dispatch = useDispatch();\n  const [loadingAccept, setLoadingAccept] = useState(false);\n  const [loadingReject, setLoadingReject] = useState(false);\n\n  const acceptRequest = () => {\n    setLoadingAccept(true);\n    const payload = { status: 'paid' };\n    walletService\n      .statusChange(data.uuid, payload)\n      .then(() => {\n        handleCancel();\n        dispatch(setRefetch(activeMenu));\n      })\n      .finally(() => setLoadingAccept(false));\n  };\n\n  const rejectRequest = () => {\n    setLoadingReject(true);\n    const payload = { status: 'rejected' };\n    walletService\n      .statusChange(data.uuid, payload)\n      .then(() => {\n        handleCancel();\n        dispatch(setRefetch(activeMenu));\n      })\n      .finally(() => setLoadingReject(false));\n  };\n\n  return (\n    <Modal\n      visible={!!data}\n      title={t('pay.to.seller')}\n      onCancel={handleCancel}\n      footer={[\n        <Button\n          key='pay-btn'\n          type='primary'\n          onClick={acceptRequest}\n          loading={loadingAccept}\n        >\n          {t('pay')}\n        </Button>,\n        <Button\n          key='reject-btn'\n          type='danger'\n          onClick={rejectRequest}\n          loading={loadingReject}\n        >\n          {t('reject')}\n        </Button>,\n      ]}\n    >\n      <Descriptions bordered>\n        <Descriptions.Item label={t('seller')} span={3}>\n          {data.user?.firstname} {data.user?.lastname}\n        </Descriptions.Item>\n        <Descriptions.Item label={t('phone')} span={3}>\n          {data.user?.phone}\n        </Descriptions.Item>\n        <Descriptions.Item label={t('requested.amount')} span={3}>\n          {numberToPrice(data.price, defaultCurrency.symbol)}\n        </Descriptions.Item>\n        <Descriptions.Item label={t('note')} span={3}>\n          {data.note}\n        </Descriptions.Item>\n        <Descriptions.Item label={t('created.at')} span={3}>\n          {moment(data?.created_at).format('YYYY-MM-DD HH:mm')}\n        </Descriptions.Item>\n      </Descriptions>\n    </Modal>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}