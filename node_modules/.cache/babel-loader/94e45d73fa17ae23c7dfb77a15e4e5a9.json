{"ast":null,"code":"import React,{useEffect,useState}from'react';import moment from'moment';import{Message}from'@chatscope/chat-ui-kit-react';import{IoCheckmarkOutline,IoCheckmarkDone}from\"react-icons/io5\";import{FaReply}from\"react-icons/fa\";import{MdOutlineModeEditOutline}from\"react-icons/md\";import{RiDeleteBin6Fill}from\"react-icons/ri\";import{Dropdown,Menu,Space}from\"antd\";import{useSelector}from\"react-redux\";import{fetchRepliedMessage}from\"../../firebase\";import ReplyMessage from\"./replyMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminMessage=_ref=>{let{data,onActionMessage,onDeleteMessage}=_ref;const{type,time,message,status='',read,replyDocId}=data;const currentChatId=useSelector(state=>{var _state$chat,_state$chat$currentCh;return(_state$chat=state.chat)===null||_state$chat===void 0?void 0:(_state$chat$currentCh=_state$chat.currentChat)===null||_state$chat$currentCh===void 0?void 0:_state$chat$currentCh.chatId;});const[replyMessage,setReplyMessage]=useState(null);const handleMenuClick=_ref2=>{let{key}=_ref2;switch(key){case'delete':return onDeleteMessage();default:return onActionMessage(key);}};const menu=/*#__PURE__*/_jsxs(Menu,{onClick:handleMenuClick,children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FaReply,{}),children:\"Reply\"},\"reply\"),type!=='image'&&/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(MdOutlineModeEditOutline,{}),children:\"Edit\"},\"edit\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(RiDeleteBin6Fill,{}),danger:true,children:\"Delete\"},\"delete\")]});useEffect(()=>{if(replyDocId){return fetchRepliedMessage(replyDocId,currentChatId,setReplyMessage);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"admin-message-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:`admin-message ${type==='image'&&'chat-image'}`,children:[/*#__PURE__*/_jsx(Dropdown,{overlay:menu,trigger:['contextMenu'],children:/*#__PURE__*/_jsxs(\"div\",{children:[replyMessage&&/*#__PURE__*/_jsx(ReplyMessage,{replyMessage:replyMessage}),type==='image'?/*#__PURE__*/_jsx(Message,{type:\"image\",model:{direction:'incoming',payload:{src:message,alt:'Image',width:'100%',height:'100%'}}}):/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:message})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"time\",children:moment(new Date(time)).format('HH:mm')}),/*#__PURE__*/_jsx(\"span\",{className:\"double-check\",children:read?/*#__PURE__*/_jsx(IoCheckmarkDone,{size:16}):/*#__PURE__*/_jsx(IoCheckmarkOutline,{size:16})})]})});};export default AdminMessage;","map":null,"metadata":{},"sourceType":"module"}