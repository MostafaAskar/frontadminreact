{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/dashboard/topProducts.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Card, Col, Image, Row, Select, Space, Spin } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport getImage from '../../helpers/getImage';\nimport { fetchSellerTopProducts, fetchTopProducts, filterTopProducts } from '../../redux/slices/statistics/topProducts';\nimport { useTranslation } from 'react-i18next';\nimport RiveResult from '../../components/rive-result';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TopProducts() {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    topProducts,\n    loading,\n    params\n  } = useSelector(state => state.topProducts, shallowEqual);\n  const {\n    role\n  } = useSelector(state => state.auth.user, shallowEqual);\n\n  const handleChange = (item, value) => {\n    const payload = { ...params,\n      [item]: value\n    };\n    dispatch(filterTopProducts(payload));\n\n    switch (role) {\n      case 'admin':\n        dispatch(fetchTopProducts(payload));\n        break;\n\n      case 'seller':\n        dispatch(fetchSellerTopProducts(payload));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('top.selled.products'),\n    extra: /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        value: params.perPage,\n        size: \"small\",\n        style: {\n          minWidth: 110\n        },\n        onSelect: value => handleChange('perPage', value),\n        children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n          value: 5,\n          children: `5 / ${t('page')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n          value: 10,\n          children: `10 / ${t('page')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n          value: 50,\n          children: `50 / ${t('page')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n          value: 100,\n          children: `100 / ${t('page')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        value: params.time,\n        size: \"small\",\n        style: {\n          minWidth: 110\n        },\n        onSelect: value => handleChange('time', value),\n        defaultValue: \"subMonth\",\n        children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n          value: \"subWeek\",\n          children: t('this.week')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n          value: \"subMonth\",\n          children: t('this.month')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n          value: \"subYear\",\n          children: t('this.year')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this),\n    className: \"h-100\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowY: 'auto',\n        maxHeight: 370\n      },\n      children: topProducts !== null && topProducts !== void 0 && topProducts.length ? topProducts.map((item, idx) => {\n        var _item$product, _item$product2, _item$product2$transl, _item$count;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 py-3 flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex avatar\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              src: getImage(item === null || item === void 0 ? void 0 : (_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.img),\n              width: 40,\n              height: 40,\n              preview: false,\n              style: {\n                borderRadius: 10\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-2 avatar-text\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"title\",\n                children: item === null || item === void 0 ? void 0 : (_item$product2 = item.product) === null || _item$product2 === void 0 ? void 0 : (_item$product2$transl = _item$product2.translation) === null || _item$product2$transl === void 0 ? void 0 : _item$product2$transl.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mr-3 text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-muted\",\n                children: t('sales')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-0 h5 font-weight-bold\",\n                children: (_item$count = item === null || item === void 0 ? void 0 : item.count) !== null && _item$count !== void 0 ? _item$count : 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 24,\n          children: /*#__PURE__*/_jsxDEV(RiveResult, {\n            id: \"nosell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TopProducts, \"DR4kAexLCRnWXjy68K8B51rgh2Q=\", false, function () {\n  return [useTranslation, useDispatch, useSelector, useSelector];\n});\n\n_c = TopProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopProducts\");","map":{"version":3,"names":["React","Card","Col","Image","Row","Select","Space","Spin","shallowEqual","useDispatch","useSelector","getImage","fetchSellerTopProducts","fetchTopProducts","filterTopProducts","useTranslation","RiveResult","TopProducts","t","dispatch","topProducts","loading","params","state","role","auth","user","handleChange","item","value","payload","perPage","minWidth","time","overflowY","maxHeight","length","map","idx","product","img","borderRadius","translation","title","count"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/dashboard/topProducts.js"],"sourcesContent":["import React from 'react';\nimport { Card, Col, Image, Row, Select, Space, Spin } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport getImage from '../../helpers/getImage';\nimport {\n  fetchSellerTopProducts,\n  fetchTopProducts,\n  filterTopProducts,\n} from '../../redux/slices/statistics/topProducts';\nimport { useTranslation } from 'react-i18next';\nimport RiveResult from '../../components/rive-result';\n\nexport default function TopProducts() {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { topProducts, loading, params } = useSelector(\n    (state) => state.topProducts,\n    shallowEqual,\n  );\n   const { role } = useSelector((state) => state.auth.user, shallowEqual);\n\n  const handleChange = (item, value) => {\n    const payload = { ...params, [item]: value };\n    dispatch(filterTopProducts(payload));\n    switch (role) {\n      case 'admin':\n        dispatch(fetchTopProducts(payload));\n        break;\n      case 'seller':\n        dispatch(fetchSellerTopProducts(payload));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Card\n      title={t('top.selled.products')}\n      extra={\n        <Space>\n          <Select\n            value={params.perPage}\n            size='small'\n            style={{ minWidth: 110 }}\n            onSelect={(value) => handleChange('perPage', value)}\n          >\n            <Select.Option value={5}>{`5 / ${t('page')}`}</Select.Option>\n            <Select.Option value={10}>{`10 / ${t('page')}`}</Select.Option>\n            <Select.Option value={50}>{`50 / ${t('page')}`}</Select.Option>\n            <Select.Option value={100}>{`100 / ${t('page')}`}</Select.Option>\n          </Select>\n          <Select\n            value={params.time}\n            size='small'\n            style={{ minWidth: 110 }}\n            onSelect={(value) => handleChange('time', value)}\n            defaultValue='subMonth'\n          >\n            <Select.Option value='subWeek'>{t('this.week')}</Select.Option>\n            <Select.Option value='subMonth'>{t('this.month')}</Select.Option>\n            <Select.Option value='subYear'>{t('this.year')}</Select.Option>\n          </Select>\n        </Space>\n      }\n      className='h-100'\n    >\n      {loading && (\n        <div className='loader'>\n          <Spin />\n        </div>\n      )}\n      <div style={{ overflowY: 'auto', maxHeight: 370 }}>\n        {topProducts?.length ? (\n          topProducts.map((item, idx) => (\n            <div className='w-100 py-3 flex' key={idx}>\n              <div className='d-flex avatar'>\n                <Image\n                  src={getImage(item?.product?.img)}\n                  width={40}\n                  height={40}\n                  preview={false}\n                  style={{ borderRadius: 10 }}\n                />\n                <div className='ml-2 avatar-text'>\n                  <h5 className='title'>{item?.product?.translation?.title}</h5>\n                </div>\n              </div>\n              <div className='d-flex'>\n                <div className='mr-3 text-right'>\n                  <span className='text-muted'>{t('sales')}</span>\n                  <div className='mb-0 h5 font-weight-bold'>\n                    {item?.count ?? 0}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <Row>\n            <Col span={24}>\n              <RiveResult id='nosell' />\n            </Col>\n          </Row>\n        )}\n      </div>\n    </Card>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}