{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/deliveriesMap/user-card.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Avatar, Card, Space } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { IMG_URL } from '../../configs/app-global';\nimport { UserOutlined } from '@ant-design/icons';\nimport useUserActivity from '../../helpers/useUserActivity';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { addMenu, removeFromMenu } from '../../redux/slices/menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserCard(_ref) {\n  _s();\n\n  var _data$delivery_man_se, _data$lastname, _data$delivery_man_se2, _data$delivery_man_se3;\n\n  let {\n    data\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    menuItems\n  } = useSelector(state => state.menu, shallowEqual);\n  const activeOrders = (data === null || data === void 0 ? void 0 : data.deliveryman_orders) || [];\n  const lastSeen = useUserActivity(data === null || data === void 0 ? void 0 : (_data$delivery_man_se = data.delivery_man_setting) === null || _data$delivery_man_se === void 0 ? void 0 : _data$delivery_man_se.updated_at);\n\n  const goToShow = row => {\n    const isExist = !!menuItems.find(item => item.id === 'delivery_map_orders');\n\n    if (isExist) {\n      dispatch(removeFromMenu({\n        id: `delivery_map_orders`,\n        nextUrl: 'deliveries/map'\n      }));\n    }\n\n    dispatch(addMenu({\n      url: `deliveries/map/${row.id}`,\n      id: `delivery_map_orders`,\n      name: t('delivery.orders'),\n      data: {\n        list: activeOrders,\n        item: activeOrders[0],\n        deliveryman: data\n      }\n    }));\n    navigate(`/deliveries/map/${row.id}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"user-card\",\n    onClick: () => goToShow(data),\n    children: [/*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: IMG_URL + (data === null || data === void 0 ? void 0 : data.img),\n        icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this),\n        style: {\n          color: '#1a3353'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"title\",\n          children: [data === null || data === void 0 ? void 0 : data.firstname, \" \", data === null || data === void 0 ? void 0 : (_data$lastname = data.lastname) === null || _data$lastname === void 0 ? void 0 : _data$lastname.charAt(0), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `last-seen ${data !== null && data !== void 0 && (_data$delivery_man_se2 = data.delivery_man_setting) !== null && _data$delivery_man_se2 !== void 0 && _data$delivery_man_se2.online ? 'online' : 'text-muted'}`,\n          children: data !== null && data !== void 0 && (_data$delivery_man_se3 = data.delivery_man_setting) !== null && _data$delivery_man_se3 !== void 0 && _data$delivery_man_se3.online ? t('online') : lastSeen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [t('active_orders'), \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: activeOrders.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserCard, \"DtJOOyHT83z1gml/ldTyVMTkTJg=\", false, function () {\n  return [useTranslation, useNavigate, useDispatch, useSelector, useUserActivity];\n});\n\n_c = UserCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserCard\");","map":{"version":3,"names":["React","Avatar","Card","Space","useTranslation","useNavigate","IMG_URL","UserOutlined","useUserActivity","shallowEqual","useDispatch","useSelector","addMenu","removeFromMenu","UserCard","data","t","navigate","dispatch","menuItems","state","menu","activeOrders","deliveryman_orders","lastSeen","delivery_man_setting","updated_at","goToShow","row","isExist","find","item","id","nextUrl","url","name","list","deliveryman","img","color","firstname","lastname","charAt","online","length"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/deliveriesMap/user-card.js"],"sourcesContent":["import React from 'react';\nimport { Avatar, Card, Space } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { IMG_URL } from '../../configs/app-global';\nimport { UserOutlined } from '@ant-design/icons';\nimport useUserActivity from '../../helpers/useUserActivity';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { addMenu, removeFromMenu } from '../../redux/slices/menu';\n\nexport default function UserCard({ data }) {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { menuItems } = useSelector((state) => state.menu, shallowEqual);\n  const activeOrders = data?.deliveryman_orders || [];\n  const lastSeen = useUserActivity(data?.delivery_man_setting?.updated_at);\n\n  const goToShow = (row) => {\n    const isExist = !!menuItems.find(\n      (item) => item.id === 'delivery_map_orders'\n    );\n    if (isExist) {\n      dispatch(\n        removeFromMenu({\n          id: `delivery_map_orders`,\n          nextUrl: 'deliveries/map',\n        })\n      );\n    }\n    dispatch(\n      addMenu({\n        url: `deliveries/map/${row.id}`,\n        id: `delivery_map_orders`,\n        name: t('delivery.orders'),\n        data: {\n          list: activeOrders,\n          item: activeOrders[0],\n          deliveryman: data,\n        },\n      })\n    );\n    navigate(`/deliveries/map/${row.id}`);\n  };\n\n  return (\n    <Card className='user-card' onClick={() => goToShow(data)}>\n      <Space>\n        <Avatar\n          src={IMG_URL + data?.img}\n          icon={<UserOutlined />}\n          style={{ color: '#1a3353' }}\n        />\n        <div>\n          <h4 className='title'>\n            {data?.firstname} {data?.lastname?.charAt(0)}.\n          </h4>\n          <div\n            className={`last-seen ${\n              data?.delivery_man_setting?.online ? 'online' : 'text-muted'\n            }`}\n          >\n            {data?.delivery_man_setting?.online ? t('online') : lastSeen}\n          </div>\n        </div>\n      </Space>\n      <div className='mt-2' />\n      <Space>\n        <div>{t('active_orders')}:</div>\n        <div>{activeOrders.length}</div>\n      </Space>\n    </Card>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}