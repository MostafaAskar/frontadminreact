{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  orderItems: [],\n  orderProducts: [],\n  orderData: null,\n  paymentData: null,\n  data: {\n    user: '',\n    userUuid: '',\n    address: null,\n    currency: '',\n    payment_type: '',\n    deliveries: '',\n    shop: null,\n    delivery_time: null,\n    delivery_date: null,\n    currency_shop: null,\n    coupon: null,\n    calculate: null\n  },\n  total: {},\n  coupon: {}\n};\nconst orderSlice = createSlice({\n  name: 'order',\n  initialState,\n  reducers: {\n    addOrderItem(state, action) {\n      const {\n        payload\n      } = action;\n      const existingIndex = state.orderItems.findIndex(item => {\n        var _item$stockID, _payload$stockID;\n\n        return (item === null || item === void 0 ? void 0 : (_item$stockID = item.stockID) === null || _item$stockID === void 0 ? void 0 : _item$stockID.id) === (payload === null || payload === void 0 ? void 0 : (_payload$stockID = payload.stockID) === null || _payload$stockID === void 0 ? void 0 : _payload$stockID.id);\n      });\n\n      if (existingIndex >= 0) {\n        state.orderItems[existingIndex] = payload;\n      } else {\n        state.orderItems.push(payload);\n      }\n    },\n\n    reduceOrderItem(state, action) {\n      const {\n        payload\n      } = action;\n      const itemIndex = state.orderItems.findIndex(item => {\n        var _item$stockID2, _payload$stockID2;\n\n        return ((_item$stockID2 = item.stockID) === null || _item$stockID2 === void 0 ? void 0 : _item$stockID2.id) === ((_payload$stockID2 = payload.stockID) === null || _payload$stockID2 === void 0 ? void 0 : _payload$stockID2.id);\n      });\n\n      if (state.orderItems[itemIndex].quantity > 1) {\n        state.orderItems[itemIndex].quantity -= 1;\n      } else if (state.orderItems[itemIndex].quantity === 1) {\n        const nextOrderItems = state.orderItems.filter(item => item.id !== payload.id);\n        state.orderItems = nextOrderItems;\n      }\n    },\n\n    removeFromOrder(state, action) {\n      const {\n        payload\n      } = action;\n      const nextOrderItems = state.orderItems.filter(item => item.id !== payload.id);\n      state.orderItems = nextOrderItems;\n      state.orderProducts = nextOrderItems;\n      return state;\n    },\n\n    clearOrder(state) {\n      state.orderItems = [];\n      state.orderProducts = [];\n      state.data = initialState.data;\n      state.coupons = [];\n      state.total = initialState.total;\n    },\n\n    setOrderProducts(state, action) {\n      const {\n        payload\n      } = action;\n      state.orderProducts = payload;\n    },\n\n    setOrderItems(state, action) {\n      const {\n        payload\n      } = action;\n      state.orderItems = payload;\n    },\n\n    setOrderCurrency(state, action) {\n      const {\n        payload\n      } = action;\n      state.data.currency = payload;\n    },\n\n    setCurrentShop(state, action) {\n      const {\n        payload\n      } = action;\n      state.data.shop = payload;\n    },\n\n    setOrderData(state, action) {\n      const {\n        payload\n      } = action;\n      state.data = { ...state.data,\n        ...payload\n      };\n    },\n\n    setOrder(state, action) {\n      const {\n        payload\n      } = action;\n      state.orderData = payload;\n    },\n\n    setPayment(state, action) {\n      const {\n        payload\n      } = action;\n      state.paymentData = payload;\n    },\n\n    setOrderTotal(state, action) {\n      const {\n        payload\n      } = action;\n      state.total = payload;\n    },\n\n    setCashback(state, action) {\n      const {\n        payload\n      } = action;\n      state.total.cashback = payload;\n    },\n\n    addOrderCoupon(state, action) {\n      const {\n        payload\n      } = action;\n      state.coupon = payload;\n    },\n\n    verifyOrderCoupon(state, action) {\n      const {\n        payload\n      } = action;\n      state.coupon.verified = payload.verified;\n      state.coupon.price = payload.price;\n    },\n\n    clearOrderProducts(state) {\n      state.orderProducts = [];\n      state.total = initialState.total;\n    },\n\n    clearOrderItems(state) {\n      state.orderItems = [];\n    },\n\n    changeOrderedProductQuantity(state, action) {\n      state.orderProducts = state.orderProducts.map(product => {\n        if (product.id === action.payload.id) {\n          return { ...product,\n            quantity: action.payload.quantity\n          };\n        }\n\n        return product;\n      });\n      state.orderItems = state.orderItems.map(item => {\n        if (item.id === action.payload.id) {\n          return { ...item,\n            quantity: action.payload.quantity\n          };\n        }\n\n        return item;\n      });\n    }\n\n  }\n});\nexport const {\n  addOrderItem,\n  removeFromOrder,\n  clearOrder,\n  setOrderProducts,\n  setOrderItems,\n  setOrderCurrency,\n  setOrderData,\n  clearOrderProducts,\n  setOrderTotal,\n  addOrderCoupon,\n  verifyOrderCoupon,\n  setCashback,\n  setCurrentShop,\n  clearOrderItems,\n  setOrder,\n  setPayment,\n  changeOrderedProductQuantity\n} = orderSlice.actions;\nexport default orderSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","orderItems","orderProducts","orderData","paymentData","data","user","userUuid","address","currency","payment_type","deliveries","shop","delivery_time","delivery_date","currency_shop","coupon","calculate","total","orderSlice","name","reducers","addOrderItem","state","action","payload","existingIndex","findIndex","item","stockID","id","push","reduceOrderItem","itemIndex","quantity","nextOrderItems","filter","removeFromOrder","clearOrder","coupons","setOrderProducts","setOrderItems","setOrderCurrency","setCurrentShop","setOrderData","setOrder","setPayment","setOrderTotal","setCashback","cashback","addOrderCoupon","verifyOrderCoupon","verified","price","clearOrderProducts","clearOrderItems","changeOrderedProductQuantity","map","product","actions","reducer"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/redux/slices/order.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  orderItems: [],\n  orderProducts: [],\n  orderData: null,\n  paymentData: null,\n  data: {\n    user: '',\n    userUuid: '',\n    address: null,\n    currency: '',\n    payment_type: '',\n    deliveries: '',\n    shop: null,\n    delivery_time: null,\n    delivery_date: null,\n    currency_shop: null,\n    coupon: null,\n    calculate: null,\n  },\n  total: {},\n  coupon: {},\n};\n\nconst orderSlice = createSlice({\n  name: 'order',\n  initialState,\n  reducers: {\n    addOrderItem(state, action) {\n      const { payload } = action;\n      const existingIndex = state.orderItems.findIndex(\n        (item) => item?.stockID?.id === payload?.stockID?.id,\n      );\n      if (existingIndex >= 0) {\n        state.orderItems[existingIndex] = payload;\n      } else {\n        state.orderItems.push(payload);\n      }\n    },\n    reduceOrderItem(state, action) {\n      const { payload } = action;\n      const itemIndex = state.orderItems.findIndex(\n        (item) => item.stockID?.id === payload.stockID?.id,\n      );\n      if (state.orderItems[itemIndex].quantity > 1) {\n        state.orderItems[itemIndex].quantity -= 1;\n      } else if (state.orderItems[itemIndex].quantity === 1) {\n        const nextOrderItems = state.orderItems.filter(\n          (item) => item.id !== payload.id,\n        );\n        state.orderItems = nextOrderItems;\n      }\n    },\n    removeFromOrder(state, action) {\n      const { payload } = action;\n\n      const nextOrderItems = state.orderItems.filter(\n        (item) => item.id !== payload.id,\n      );\n\n      state.orderItems = nextOrderItems;\n      state.orderProducts = nextOrderItems;\n      return state;\n    },\n    clearOrder(state) {\n      state.orderItems = [];\n      state.orderProducts = [];\n      state.data = initialState.data;\n      state.coupons = [];\n      state.total = initialState.total;\n    },\n    setOrderProducts(state, action) {\n      const { payload } = action;\n      state.orderProducts = payload;\n    },\n    setOrderItems(state, action) {\n      const { payload } = action;\n      state.orderItems = payload;\n    },\n    setOrderCurrency(state, action) {\n      const { payload } = action;\n      state.data.currency = payload;\n    },\n    setCurrentShop(state, action) {\n      const { payload } = action;\n      state.data.shop = payload;\n    },\n    setOrderData(state, action) {\n      const { payload } = action;\n      state.data = { ...state.data, ...payload };\n    },\n    setOrder(state, action) {\n      const { payload } = action;\n      state.orderData = payload;\n    },\n    setPayment(state, action) {\n      const { payload } = action;\n      state.paymentData = payload;\n    },\n    setOrderTotal(state, action) {\n      const { payload } = action;\n      state.total = payload;\n    },\n    setCashback(state, action) {\n      const { payload } = action;\n      state.total.cashback = payload;\n    },\n    addOrderCoupon(state, action) {\n      const { payload } = action;\n      state.coupon = payload;\n    },\n    verifyOrderCoupon(state, action) {\n      const { payload } = action;\n      state.coupon.verified = payload.verified;\n      state.coupon.price = payload.price;\n    },\n    clearOrderProducts(state) {\n      state.orderProducts = [];\n      state.total = initialState.total;\n    },\n    clearOrderItems(state) {\n      state.orderItems = [];\n    },\n    changeOrderedProductQuantity(state, action) {\n      state.orderProducts = state.orderProducts.map((product) => {\n        if (product.id === action.payload.id) {\n          return { ...product, quantity: action.payload.quantity };\n        }\n        return product;\n      });\n      state.orderItems = state.orderItems.map((item) => {\n        if (item.id === action.payload.id) {\n          return { ...item, quantity: action.payload.quantity };\n        }\n        return item;\n      });\n    },\n  },\n});\n\nexport const {\n  addOrderItem,\n  removeFromOrder,\n  clearOrder,\n  setOrderProducts,\n  setOrderItems,\n  setOrderCurrency,\n  setOrderData,\n  clearOrderProducts,\n  setOrderTotal,\n  addOrderCoupon,\n  verifyOrderCoupon,\n  setCashback,\n  setCurrentShop,\n  clearOrderItems,\n  setOrder,\n  setPayment,\n  changeOrderedProductQuantity,\n} = orderSlice.actions;\nexport default orderSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}