{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/refetch-search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { Select, Spin } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RefetchSearch = _ref => {\n  _s();\n\n  let {\n    fetchOptions,\n    debounceTimeout = 400,\n    refetch = false,\n    ...props\n  } = _ref;\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n  const debounceFetcher = useMemo(() => {\n    const loadOptions = value => {\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value).then(newOptions => {\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n\n  const fetchOnFocus = () => {\n    if (!options.length || refetch) {\n      debounceFetcher('');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Select, {\n    showSearch: true,\n    allowClear: true,\n    labelInValue: true,\n    onClear: () => debounceFetcher(''),\n    filterOption: false,\n    onSearch: debounceFetcher,\n    notFoundContent: fetching ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"small\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 35\n    }, this) : 'no results',\n    ...props,\n    options: options,\n    onFocus: fetchOnFocus\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RefetchSearch, \"NcQLusmkJkc8fPgQwOxkDFUfLUI=\");\n\n_c = RefetchSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"RefetchSearch\");","map":{"version":3,"names":["React","useState","useMemo","debounce","Select","Spin","RefetchSearch","fetchOptions","debounceTimeout","refetch","props","fetching","setFetching","options","setOptions","debounceFetcher","loadOptions","value","then","newOptions","fetchOnFocus","length"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/refetch-search.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { Select, Spin } from 'antd';\n\nexport const RefetchSearch = ({\n  fetchOptions,\n  debounceTimeout = 400,\n  refetch = false,\n  ...props\n}) => {\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n\n  const debounceFetcher = useMemo(() => {\n    const loadOptions = (value) => {\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value).then((newOptions) => {\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n\n  const fetchOnFocus = () => {\n    if (!options.length || refetch) {\n      debounceFetcher('');\n    }\n  };\n\n  return (\n    <Select\n      showSearch\n      allowClear\n      labelInValue={true}\n      onClear={() => debounceFetcher('')}\n      filterOption={false}\n      onSearch={debounceFetcher}\n      notFoundContent={fetching ? <Spin size='small' /> : 'no results'}\n      {...props}\n      options={options}\n      onFocus={fetchOnFocus}\n    />\n  );\n};\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,OAAzC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,MAA7B;;AAEA,OAAO,MAAMC,aAAa,GAAG,QAKvB;EAAA;;EAAA,IALwB;IAC5BC,YAD4B;IAE5BC,eAAe,GAAG,GAFU;IAG5BC,OAAO,GAAG,KAHkB;IAI5B,GAAGC;EAJyB,CAKxB;EACJ,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;EAEA,MAAMc,eAAe,GAAGb,OAAO,CAAC,MAAM;IACpC,MAAMc,WAAW,GAAIC,KAAD,IAAW;MAC7BH,UAAU,CAAC,EAAD,CAAV;MACAF,WAAW,CAAC,IAAD,CAAX;MACAL,YAAY,CAACU,KAAD,CAAZ,CAAoBC,IAApB,CAA0BC,UAAD,IAAgB;QACvCL,UAAU,CAACK,UAAD,CAAV;QACAP,WAAW,CAAC,KAAD,CAAX;MACD,CAHD;IAID,CAPD;;IAQA,OAAOT,QAAQ,CAACa,WAAD,EAAcR,eAAd,CAAf;EACD,CAV8B,EAU5B,CAACD,YAAD,EAAeC,eAAf,CAV4B,CAA/B;;EAYA,MAAMY,YAAY,GAAG,MAAM;IACzB,IAAI,CAACP,OAAO,CAACQ,MAAT,IAAmBZ,OAAvB,EAAgC;MAC9BM,eAAe,CAAC,EAAD,CAAf;IACD;EACF,CAJD;;EAMA,oBACE,QAAC,MAAD;IACE,UAAU,MADZ;IAEE,UAAU,MAFZ;IAGE,YAAY,EAAE,IAHhB;IAIE,OAAO,EAAE,MAAMA,eAAe,CAAC,EAAD,CAJhC;IAKE,YAAY,EAAE,KALhB;IAME,QAAQ,EAAEA,eANZ;IAOE,eAAe,EAAEJ,QAAQ,gBAAG,QAAC,IAAD;MAAM,IAAI,EAAC;IAAX;MAAA;MAAA;MAAA;IAAA,QAAH,GAA2B,YAPtD;IAAA,GAQMD,KARN;IASE,OAAO,EAAEG,OATX;IAUE,OAAO,EAAEO;EAVX;IAAA;IAAA;IAAA;EAAA,QADF;AAcD,CAzCM;;GAAMd,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}