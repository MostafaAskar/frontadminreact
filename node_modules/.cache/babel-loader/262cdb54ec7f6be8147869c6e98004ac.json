{"ast":null,"code":"import Loading from'components/loading';import PageLoading from'components/pageLoading';import i18n from'configs/i18next';import{PathLogout}from'context/path-logout';import{ProtectedRoute}from'context/protected-route';import AppLayout from'layout/app-layout';import{WelcomeLayout}from'layout/welcome-layout';import Providers from'providers';import{Suspense,useEffect,useState}from'react';import{Route,BrowserRouter as Router,Routes,Navigate}from'react-router-dom';import{ToastContainer}from'react-toastify';import{AllRoutes}from'routes';import informationService from'services/rest/information';import GlobalSettings from'views/global-settings/global-settings';import Login from'views/login';import NotFound from'views/not-found';import Welcome from'views/welcome/welcome';import{batch,useDispatch,useSelector}from'react-redux';import{getChat}from'./firebase';import{removeCurrentChat,setChats,setMessages}from'./redux/slices/chat';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[loading,setLoading]=useState(false);const currentUserId=useSelector(state=>{var _state$auth,_state$auth$user;return(_state$auth=state.auth)===null||_state$auth===void 0?void 0:(_state$auth$user=_state$auth.user)===null||_state$auth$user===void 0?void 0:_state$auth$user.id;});const dispatch=useDispatch();function fetchTranslations(){const params={lang:i18n.language};setLoading(true);informationService.translations(params).then(_ref=>{let{data}=_ref;return i18n.addResourceBundle(i18n.language,'translation',data);}).finally(()=>setLoading(false));}useEffect(()=>{fetchTranslations();},[]);return/*#__PURE__*/_jsx(Providers,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{index:true,path:\"/login\",element:/*#__PURE__*/_jsx(PathLogout,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/welcome\",element:/*#__PURE__*/_jsx(WelcomeLayout,{children:/*#__PURE__*/_jsx(Welcome,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/installation\",element:/*#__PURE__*/_jsx(WelcomeLayout,{children:/*#__PURE__*/_jsx(GlobalSettings,{})})}),/*#__PURE__*/_jsxs(Route,{path:\"\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AppLayout,{})}),children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"dashboard\"})}),AllRoutes.map(_ref2=>{let{path,component:Component}=_ref2;return/*#__PURE__*/_jsx(Route,{path:path,element:/*#__PURE__*/_jsx(Component,{})},path);})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loading,{}),children:/*#__PURE__*/_jsx(NotFound,{})})})]}),/*#__PURE__*/_jsx(ToastContainer,{className:\"antd-toast\",position:\"top-right\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true}),loading&&/*#__PURE__*/_jsx(PageLoading,{})]})});};export default App;","map":null,"metadata":{},"sourceType":"module"}