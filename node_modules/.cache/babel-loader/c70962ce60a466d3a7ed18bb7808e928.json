{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/booking-table/table-qrcode.js\",\n    _s = $RefreshSig$();\n\nimport { DownloadOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { QRCodeCanvas } from 'qrcode.react';\nimport React, { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'https://qr-code-rho-bay.vercel.app';\n\nconst TableQrCode = _ref => {\n  _s();\n\n  let {\n    table\n  } = _ref;\n  const {\n    settings\n  } = useSelector(state => state.globalSettings);\n  const {\n    t\n  } = useTranslation();\n  const qrRef = useRef();\n  const params = new URLSearchParams({\n    shop_id: table.shop_section.shop_id,\n    table_id: table.id,\n    chair_count: table.chair_count,\n    name: table.name\n  });\n  const qrCodeType = !!(settings !== null && settings !== void 0 && settings.qrcode_type) && settings.qrcode_type !== 'w1' ? settings.qrcode_type : '';\n  const url = `${(settings === null || settings === void 0 ? void 0 : settings.qrcode_base_url) || baseUrl}${qrCodeType}?${params.toString()}`;\n\n  const downloadQRCode = e => {\n    e.preventDefault();\n    let canvas = qrRef.current.querySelector('canvas');\n    let image = canvas.toDataURL('image/png');\n    let anchor = document.createElement('a');\n    anchor.href = image;\n    anchor.download = `qr-code.png`;\n    document.body.appendChild(anchor);\n    anchor.click();\n    document.body.removeChild(anchor);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: downloadQRCode,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: qrRef,\n          children: /*#__PURE__*/_jsxDEV(QRCodeCanvas, {\n            size: 500,\n            id: \"qrCode\",\n            includeMargin: true,\n            value: url,\n            style: {\n              width: '100%',\n              aspectRatio: '1/1',\n              height: '100%'\n            },\n            bgColor: '#fff',\n            level: 'H'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        htmlType: \"submit\",\n        disabled: !table,\n        icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this),\n        type: \"primary\",\n        children: t('download')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TableQrCode, \"ly3JQn8rRpYEdUbSjLe6P8oi0c4=\", false, function () {\n  return [useSelector, useTranslation];\n});\n\n_c = TableQrCode;\nexport default TableQrCode;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableQrCode\");","map":{"version":3,"names":["DownloadOutlined","Button","QRCodeCanvas","React","useRef","useTranslation","useSelector","baseUrl","TableQrCode","table","settings","state","globalSettings","t","qrRef","params","URLSearchParams","shop_id","shop_section","table_id","id","chair_count","name","qrCodeType","qrcode_type","url","qrcode_base_url","toString","downloadQRCode","e","preventDefault","canvas","current","querySelector","image","toDataURL","anchor","document","createElement","href","download","body","appendChild","click","removeChild","width","aspectRatio","height"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/booking-table/table-qrcode.js"],"sourcesContent":["import { DownloadOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { QRCodeCanvas } from 'qrcode.react';\nimport React, { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\n\nconst baseUrl = 'https://qr-code-rho-bay.vercel.app';\n\nconst TableQrCode = ({ table }) => {\n  const { settings } = useSelector((state) => state.globalSettings);\n  const { t } = useTranslation();\n  const qrRef = useRef();\n  const params = new URLSearchParams({\n    shop_id: table.shop_section.shop_id,\n    table_id: table.id,\n    chair_count: table.chair_count,\n    name: table.name,\n  });\n  const qrCodeType =\n    !!settings?.qrcode_type && settings.qrcode_type !== 'w1'\n      ? settings.qrcode_type\n      : '';\n  const url = `${\n    settings?.qrcode_base_url || baseUrl\n  }${qrCodeType}?${params.toString()}`;\n  const downloadQRCode = (e) => {\n    e.preventDefault();\n    let canvas = qrRef.current.querySelector('canvas');\n    let image = canvas.toDataURL('image/png');\n    let anchor = document.createElement('a');\n    anchor.href = image;\n    anchor.download = `qr-code.png`;\n    document.body.appendChild(anchor);\n    anchor.click();\n    document.body.removeChild(anchor);\n  };\n  return (\n    <form onSubmit={downloadQRCode}>\n      <div className='flex flex-column'>\n        <div className='w-100'>\n          <div ref={qrRef}>\n            <QRCodeCanvas\n              size={500}\n              id='qrCode'\n              includeMargin\n              value={url}\n              style={{ width: '100%', aspectRatio: '1/1', height: '100%' }}\n              bgColor={'#fff'}\n              level={'H'}\n            />\n          </div>\n        </div>\n        <Button\n          htmlType='submit'\n          disabled={!table}\n          icon={<DownloadOutlined />}\n          type='primary'\n        >\n          {t('download')}\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default TableQrCode;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}