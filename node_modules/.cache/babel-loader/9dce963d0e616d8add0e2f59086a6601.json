{"ast":null,"code":"import React from'react';import{CKEditor}from'@ckeditor/ckeditor5-react';import ClassicEditor from'@ckeditor/ckeditor5-build-classic';import{Form}from'antd';import{useTranslation}from'react-i18next';import galleryService from'../services/gallery';import{IMG_URL}from'../configs/app-global';import{jsx as _jsx}from\"react/jsx-runtime\";const CkeEditorEdit=_ref=>{let{getLanguageFields,form,lang,languages}=_ref;const{t}=useTranslation();function uploadAdapter(loader){return{upload:()=>{return new Promise((resolve,reject)=>{const formData=new FormData();loader.file.then(file=>{formData.append('image',file);formData.append('type','blogs');galleryService.upload(formData).then(_ref2=>{let{data}=_ref2;resolve({default:`${IMG_URL+data.title}`});}).catch(err=>{reject(err);});});});}};}function uploadPlugin(editor){editor.plugins.get('FileRepository').createUploadAdapter=loader=>{return uploadAdapter(loader);};}return/*#__PURE__*/_jsx(React.Fragment,{children:languages.map(item=>/*#__PURE__*/_jsx(Form.Item,{label:t('description'),name:`description[${item.locale}]`,valuePropName:\"data\",getValueFromEvent:(event,editor)=>{const data=editor.getData();return data;},rules:[{required:item.locale===lang,message:t('required')}],hidden:item.locale!==lang,children:/*#__PURE__*/_jsx(CKEditor,{editor:ClassicEditor,data:getLanguageFields()[`description[${item.value}]`],config:{extraPlugins:[uploadPlugin]},onBlur:(event,editor)=>{const data=editor.getData();form.setFieldsValue({[`description[${item.value}]`]:data});}})},'desc'+item.locale))});};export default CkeEditorEdit;","map":null,"metadata":{},"sourceType":"module"}