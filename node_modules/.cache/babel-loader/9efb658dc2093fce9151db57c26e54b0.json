{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import sellerCategory from'../../services/seller/category';import categoryService from'../../services/category';const initialState={loading:false,categories:[],error:'',params:{page:1,perPage:10},meta:{}};export const fetchCategories=createAsyncThunk('category/fetchCategories',function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return categoryService.getAllMain({...initialState.params,...params}).then(res=>res);});export const fetchSellerCategory=createAsyncThunk('category/fetchSellerCategory',function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return sellerCategory.getAll({...initialState.params,...params}).then(res=>res);});const categorySlice=createSlice({name:'category',initialState,extraReducers:builder=>{builder.addCase(fetchCategories.pending,state=>{state.loading=true;});builder.addCase(fetchCategories.fulfilled,(state,action)=>{var _payload$meta;const{payload}=action;state.loading=false;state.categories=payload.data.map(item=>({active:item.active,img:item.img,name:item.translation!==null?item.translation.title:'no name',key:item.uuid+'_'+item.id,uuid:item.uuid,id:item.id,locales:item.locales,status:item.status// children: item.children?.map((child) => ({\n//   name:\n//     child.translation !== null ? child.translation.title : 'no name',\n//   uuid: child.uuid,\n//   key: item.uuid + '_' + child.id,\n//   img: child.img,\n//   id: item.id,\n//   active: child.active,\n//   locales: item.locales,\n//   children: child.children?.map((three) => ({\n//     name:\n//       three.translation !== null ? three.translation.title : 'no name',\n//     uuid: three.uuid,\n//     key: child.uuid + '_' + three.id,\n//     img: three.img,\n//     id: three.id,\n//     active: three.active,\n//     locales: item.locales,\n//   })),\n// })),\n}));state.meta=payload.meta;state.params.page=(_payload$meta=payload.meta)===null||_payload$meta===void 0?void 0:_payload$meta.current_page;state.params.perPage=payload.meta.per_page;state.error='';});builder.addCase(fetchCategories.rejected,(state,action)=>{state.loading=false;state.categories=[];state.error=action.error.message;});//seller category\nbuilder.addCase(fetchSellerCategory.pending,state=>{state.loading=true;});builder.addCase(fetchSellerCategory.fulfilled,(state,action)=>{var _payload$meta2,_payload$meta3;const{payload}=action;state.loading=false;state.categories=payload.data.map(item=>({active:item.active,img:item.img,name:item.translation!==null?item.translation.title:'no name',key:item.uuid+'_'+item.id,uuid:item.uuid,id:item.id,locales:item.locales,status:item.status,shop:item.shop// children: item.children?.map((child) => ({\n//   name:\n//     child.translation !== null ? child.translation.title : 'no name',\n//   uuid: child.uuid,\n//   key: item.uuid + '_' + child.id,\n//   img: child.img,\n//   id: item.id,\n//   locales: item.locales,\n//   active: child.active,\n//   children: child.children?.map((three) => ({\n//     name:\n//       three.translation !== null ? three.translation.title : 'no name',\n//     uuid: three.uuid,\n//     key: child.uuid + '_' + three.id,\n//     img: three.img,\n//     id: three.id,\n//     active: three.active,\n//     locales: item.locales,\n//   })),\n// })),\n}));state.meta=payload===null||payload===void 0?void 0:payload.meta;state.params.page=(_payload$meta2=payload.meta)===null||_payload$meta2===void 0?void 0:_payload$meta2.current_page;state.params.perPage=(_payload$meta3=payload.meta)===null||_payload$meta3===void 0?void 0:_payload$meta3.per_page;state.error='';});builder.addCase(fetchSellerCategory.rejected,(state,action)=>{state.loading=false;state.categories=[];state.error=action.error.message;});}});export default categorySlice.reducer;","map":null,"metadata":{},"sourceType":"module"}