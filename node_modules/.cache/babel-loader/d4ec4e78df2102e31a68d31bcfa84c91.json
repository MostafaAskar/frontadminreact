{"ast":null,"code":"export default function calculateTotalPrice(shop) {\n  let deliveries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let deliveryFee = 0;\n  const delivery = deliveries.find(item => item.shop_id === shop.id);\n  if (delivery !== null && delivery !== void 0 && delivery.delivery_fee) deliveryFee = delivery.delivery_fee;\n  const totalPrice = shop.products.reduce((total, item) => total += item.total_price, 0);\n  const productTax = shop.products.reduce((total, item) => total += item.tax, 0);\n  const shopTax = shop.products.reduce((total, item) => total += item.shop_tax, 0);\n  const total = totalPrice + shopTax + deliveryFee;\n  const orderTax = shopTax + productTax;\n  return {\n    productTax,\n    shopTax,\n    total,\n    deliveryFee,\n    orderTax\n  };\n}","map":{"version":3,"names":["calculateTotalPrice","shop","deliveries","deliveryFee","delivery","find","item","shop_id","id","delivery_fee","totalPrice","products","reduce","total","total_price","productTax","tax","shopTax","shop_tax","orderTax"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/helpers/calculateTotalPrice.js"],"sourcesContent":["export default function calculateTotalPrice(shop, deliveries = []) {\n  let deliveryFee = 0;\n  const delivery = deliveries.find((item) => item.shop_id === shop.id);\n  if (delivery?.delivery_fee) deliveryFee = delivery.delivery_fee;\n\n  const totalPrice = shop.products.reduce(\n    (total, item) => (total += item.total_price),\n    0\n  );\n  const productTax = shop.products.reduce(\n    (total, item) => (total += item.tax),\n    0\n  );\n  const shopTax = shop.products.reduce(\n    (total, item) => (total += item.shop_tax),\n    0\n  );\n  const total = totalPrice + shopTax + deliveryFee;\n  const orderTax = shopTax + productTax;\n\n  return {\n    productTax,\n    shopTax,\n    total,\n    deliveryFee,\n    orderTax,\n  };\n}\n"],"mappings":"AAAA,eAAe,SAASA,mBAAT,CAA6BC,IAA7B,EAAoD;EAAA,IAAjBC,UAAiB,uEAAJ,EAAI;EACjE,IAAIC,WAAW,GAAG,CAAlB;EACA,MAAMC,QAAQ,GAAGF,UAAU,CAACG,IAAX,CAAiBC,IAAD,IAAUA,IAAI,CAACC,OAAL,KAAiBN,IAAI,CAACO,EAAhD,CAAjB;EACA,IAAIJ,QAAJ,aAAIA,QAAJ,eAAIA,QAAQ,CAAEK,YAAd,EAA4BN,WAAW,GAAGC,QAAQ,CAACK,YAAvB;EAE5B,MAAMC,UAAU,GAAGT,IAAI,CAACU,QAAL,CAAcC,MAAd,CACjB,CAACC,KAAD,EAAQP,IAAR,KAAkBO,KAAK,IAAIP,IAAI,CAACQ,WADf,EAEjB,CAFiB,CAAnB;EAIA,MAAMC,UAAU,GAAGd,IAAI,CAACU,QAAL,CAAcC,MAAd,CACjB,CAACC,KAAD,EAAQP,IAAR,KAAkBO,KAAK,IAAIP,IAAI,CAACU,GADf,EAEjB,CAFiB,CAAnB;EAIA,MAAMC,OAAO,GAAGhB,IAAI,CAACU,QAAL,CAAcC,MAAd,CACd,CAACC,KAAD,EAAQP,IAAR,KAAkBO,KAAK,IAAIP,IAAI,CAACY,QADlB,EAEd,CAFc,CAAhB;EAIA,MAAML,KAAK,GAAGH,UAAU,GAAGO,OAAb,GAAuBd,WAArC;EACA,MAAMgB,QAAQ,GAAGF,OAAO,GAAGF,UAA3B;EAEA,OAAO;IACLA,UADK;IAELE,OAFK;IAGLJ,KAHK;IAILV,WAJK;IAKLgB;EALK,CAAP;AAOD"},"metadata":{},"sourceType":"module"}