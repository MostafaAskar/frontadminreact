{"ast":null,"code":"import React,{useState}from'react';import{Button,Descriptions,Modal}from'antd';import{shallowEqual,useDispatch,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import{setRefetch}from'../../redux/slices/menu';import walletService from'../../services/wallet';import numberToPrice from'../../helpers/numberToPrice';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PayoutRequestModal(_ref){var _data$user,_data$user2,_data$user3;let{data,handleCancel}=_ref;const{t}=useTranslation();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const{defaultCurrency}=useSelector(state=>state.currency,shallowEqual);const dispatch=useDispatch();const[loadingAccept,setLoadingAccept]=useState(false);const[loadingReject,setLoadingReject]=useState(false);const acceptRequest=()=>{setLoadingAccept(true);const payload={status:'paid'};walletService.statusChange(data.uuid,payload).then(()=>{handleCancel();dispatch(setRefetch(activeMenu));}).finally(()=>setLoadingAccept(false));};const rejectRequest=()=>{setLoadingReject(true);const payload={status:'rejected'};walletService.statusChange(data.uuid,payload).then(()=>{handleCancel();dispatch(setRefetch(activeMenu));}).finally(()=>setLoadingReject(false));};return/*#__PURE__*/_jsx(Modal,{visible:!!data,title:t('pay.to.seller'),onCancel:handleCancel,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:acceptRequest,loading:loadingAccept,children:t('pay')},'pay-btn'),/*#__PURE__*/_jsx(Button,{type:\"danger\",onClick:rejectRequest,loading:loadingReject,children:t('reject')},'reject-btn')],children:/*#__PURE__*/_jsxs(Descriptions,{bordered:true,children:[/*#__PURE__*/_jsxs(Descriptions.Item,{label:t('seller'),span:3,children:[(_data$user=data.user)===null||_data$user===void 0?void 0:_data$user.firstname,\" \",(_data$user2=data.user)===null||_data$user2===void 0?void 0:_data$user2.lastname]}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('phone'),span:3,children:(_data$user3=data.user)===null||_data$user3===void 0?void 0:_data$user3.phone}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('requested.amount'),span:3,children:numberToPrice(data.price,defaultCurrency.symbol)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('note'),span:3,children:data.note}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('created.at'),span:3,children:moment(data===null||data===void 0?void 0:data.created_at).format('YYYY-MM-DD HH:mm')})]})});}","map":null,"metadata":{},"sourceType":"module"}