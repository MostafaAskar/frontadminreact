{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/subscriber/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Card, Space, Table, Tag } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport { fetchSubscriber } from '../../redux/slices/subscriber';\nimport FilterColumns from '../../components/filter-column';\nimport hideEmail from '../../components/hideEmail';\nimport useDemo from '../../helpers/useDemo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Subciribed = () => {\n  _s();\n\n  var _activeMenu$data, _activeMenu$data2, _activeMenu$data3;\n\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    isDemo\n  } = useDemo();\n  const [columns, setColumns] = useState([{\n    title: t('id'),\n    dataIndex: 'id',\n    key: 'id',\n    is_show: true\n  }, {\n    title: t('title'),\n    dataIndex: 'title',\n    key: 'title',\n    is_show: true,\n    render: (_, row) => {\n      var _row$user, _row$user2;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [row === null || row === void 0 ? void 0 : (_row$user = row.user) === null || _row$user === void 0 ? void 0 : _row$user.firstname, \" \", (row === null || row === void 0 ? void 0 : (_row$user2 = row.user) === null || _row$user2 === void 0 ? void 0 : _row$user2.lastname) || '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: t('email'),\n    dataIndex: 'email',\n    key: 'email',\n    is_show: true,\n    render: (_, row) => {\n      var _row$user3, _row$user4;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isDemo ? hideEmail((_row$user3 = row.user) === null || _row$user3 === void 0 ? void 0 : _row$user3.email) : (_row$user4 = row.user) === null || _row$user4 === void 0 ? void 0 : _row$user4.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: t('status'),\n    dataIndex: 'active',\n    key: 'active',\n    is_show: true,\n    render: active => {\n      return /*#__PURE__*/_jsxDEV(Tag, {\n        color: active === true ? 'blue' : 'red',\n        children: active === true ? t('subscriber') : t('not.subscriber')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this);\n    }\n  }]);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    subscriber,\n    meta,\n    loading,\n    params\n  } = useSelector(state => state.subscriber, shallowEqual);\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchSubscriber());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  const onChangePagination = pageNumber => {\n    const {\n      pageSize,\n      current\n    } = pageNumber;\n    dispatch(fetchSubscriber({\n      perPage: pageSize,\n      page: current\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('subscriber'),\n    extra: /*#__PURE__*/_jsxDEV(Space, {\n      children: /*#__PURE__*/_jsxDEV(FilterColumns, {\n        columns: columns,\n        setColumns: setColumns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      scroll: {\n        x: true\n      },\n      columns: columns === null || columns === void 0 ? void 0 : columns.filter(item => item.is_show),\n      dataSource: subscriber,\n      pagination: {\n        pageSize: params.perPage,\n        page: ((_activeMenu$data = activeMenu.data) === null || _activeMenu$data === void 0 ? void 0 : _activeMenu$data.page) || 1,\n        total: meta.total,\n        defaultCurrent: (_activeMenu$data2 = activeMenu.data) === null || _activeMenu$data2 === void 0 ? void 0 : _activeMenu$data2.page,\n        current: (_activeMenu$data3 = activeMenu.data) === null || _activeMenu$data3 === void 0 ? void 0 : _activeMenu$data3.page\n      },\n      rowKey: record => record.id,\n      loading: loading,\n      onChange: onChangePagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Subciribed, \"ePAumbVchpToPVU1iEHK3+w7m/4=\", false, function () {\n  return [useTranslation, useDispatch, useDemo, useSelector, useSelector];\n});\n\n_c = Subciribed;\nexport default Subciribed;\n\nvar _c;\n\n$RefreshReg$(_c, \"Subciribed\");","map":{"version":3,"names":["React","useEffect","useState","Card","Space","Table","Tag","shallowEqual","useDispatch","useSelector","disableRefetch","useTranslation","fetchSubscriber","FilterColumns","hideEmail","useDemo","Subciribed","t","dispatch","isDemo","columns","setColumns","title","dataIndex","key","is_show","render","_","row","user","firstname","lastname","email","active","activeMenu","state","menu","subscriber","meta","loading","params","refetch","onChangePagination","pageNumber","pageSize","current","perPage","page","x","filter","item","data","total","defaultCurrent","record","id"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/subscriber/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card, Space, Table, Tag } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport { fetchSubscriber } from '../../redux/slices/subscriber';\nimport FilterColumns from '../../components/filter-column';\nimport hideEmail from '../../components/hideEmail';\nimport useDemo from '../../helpers/useDemo';\n\nconst Subciribed = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { isDemo } = useDemo();\n\n  const [columns, setColumns] = useState([\n    {\n      title: t('id'),\n      dataIndex: 'id',\n      key: 'id',\n      is_show: true,\n    },\n    {\n      title: t('title'),\n      dataIndex: 'title',\n      key: 'title',\n      is_show: true,\n      render: (_, row) => {\n        return (\n          <div>\n            {row?.user?.firstname} {row?.user?.lastname || ''}\n          </div>\n        );\n      },\n    },\n    {\n      title: t('email'),\n      dataIndex: 'email',\n      key: 'email',\n      is_show: true,\n      render: (_, row) => {\n        return (\n          <div>{isDemo ? hideEmail(row.user?.email) : row.user?.email}</div>\n        );\n      },\n    },\n    {\n      title: t('status'),\n      dataIndex: 'active',\n      key: 'active',\n      is_show: true,\n      render: (active) => {\n        return (\n          <Tag color={active === true ? 'blue' : 'red'}>\n            {active === true ? t('subscriber') : t('not.subscriber')}\n          </Tag>\n        );\n      },\n    },\n  ]);\n\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { subscriber, meta, loading, params } = useSelector(\n    (state) => state.subscriber,\n    shallowEqual\n  );\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchSubscriber());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  const onChangePagination = (pageNumber) => {\n    const { pageSize, current } = pageNumber;\n    dispatch(fetchSubscriber({ perPage: pageSize, page: current }));\n  };\n\n  return (\n    <Card\n      title={t('subscriber')}\n      extra={\n        <Space>\n          <FilterColumns columns={columns} setColumns={setColumns} />\n        </Space>\n      }\n    >\n      <Table\n        scroll={{ x: true }}\n        columns={columns?.filter((item) => item.is_show)}\n        dataSource={subscriber}\n        pagination={{\n          pageSize: params.perPage,\n          page: activeMenu.data?.page || 1,\n          total: meta.total,\n          defaultCurrent: activeMenu.data?.page,\n          current: activeMenu.data?.page,\n        }}\n        rowKey={(record) => record.id}\n        loading={loading}\n        onChange={onChangePagination}\n      />\n    </Card>\n  );\n};\n\nexport default Subciribed;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}