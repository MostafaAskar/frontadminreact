{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/products/products-index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Card, Col, Form, Input, InputNumber, Row, Switch } from 'antd';\nimport { DebounceSelect } from 'components/search';\nimport shopService from 'services/restaurant';\nimport brandService from 'services/brand';\nimport categoryService from 'services/category';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport productService from 'services/product';\nimport { addMenu, replaceMenu, setMenuData } from 'redux/slices/menu';\nimport unitService from 'services/unit';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport MediaUpload from 'components/upload';\nimport TextArea from 'antd/lib/input/TextArea';\nimport { RefetchSearch } from 'components/refetch-search';\nimport { PlusOutlined, DeploymentUnitOutlined } from '@ant-design/icons';\nimport { AsyncTreeSelect } from 'components/async-tree-select-category';\nimport VideoUploaderWithModal from 'components/video-uploader';\nimport generateRandomNumbers from 'helpers/generateRandomNumbers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductsIndex = _ref => {\n  _s();\n\n  var _activeMenu$data, _activeMenu$data2, _activeMenu$data2$ima;\n\n  let {\n    next,\n    action_type = '',\n    isRequest\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const {\n    uuid\n  } = useParams();\n  const navigate = useNavigate();\n  const [error, setError] = useState(null);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    defaultLang,\n    languages\n  } = useSelector(state => state.formLang, shallowEqual);\n  const [mediaList, setMediaList] = useState((activeMenu === null || activeMenu === void 0 ? void 0 : (_activeMenu$data = activeMenu.data) === null || _activeMenu$data === void 0 ? void 0 : _activeMenu$data.initialMediaFile) || {\n    images: [],\n    previews: []\n  });\n  const [fileList, setFileList] = useState(((_activeMenu$data2 = activeMenu.data) === null || _activeMenu$data2 === void 0 ? void 0 : (_activeMenu$data2$ima = _activeMenu$data2.images) === null || _activeMenu$data2$ima === void 0 ? void 0 : _activeMenu$data2$ima.filter(item => !item.isVideo)) || []);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const randomNumbersLength = 6;\n  useEffect(() => {\n    const data = form.getFieldsValue(true);\n    dispatch(setMenuData({\n      activeMenu,\n      data: { ...activeMenu.data,\n        ...data\n      }\n    }));\n  }, []);\n\n  async function fetchUserShopList(search) {\n    const params = {\n      search,\n      active: 1\n    };\n    return shopService.get(params).then(res => res.data.map(item => ({\n      label: item.translation ? item.translation.title : 'no name',\n      value: item.id,\n      key: item.id\n    })));\n  }\n\n  async function fetchUserBrandList(search) {\n    const params = {\n      perPage: 10,\n      type: 'main',\n      search,\n      active: 1\n    };\n    return brandService.getAll(params).then(res => res.data.map(item => ({\n      label: item.title,\n      value: item.id,\n      key: item.id\n    })));\n  }\n\n  async function fetchUserCategoryList(search) {\n    const params = {\n      perPage: 100,\n      type: 'main',\n      search\n    };\n    return categoryService.getAll(params).then(res => res.data.map(item => {\n      var _item$translation, _item$children, _item$children2;\n\n      return {\n        label: (_item$translation = item.translation) === null || _item$translation === void 0 ? void 0 : _item$translation.title,\n        value: item.id,\n        key: item.id,\n        type: 'main',\n        disabled: (_item$children = item.children) === null || _item$children === void 0 ? void 0 : _item$children.length,\n        children: (_item$children2 = item.children) === null || _item$children2 === void 0 ? void 0 : _item$children2.map(el => {\n          var _el$translation, _el$children, _el$children2;\n\n          return {\n            label: (_el$translation = el.translation) === null || _el$translation === void 0 ? void 0 : _el$translation.title,\n            value: el.id,\n            key: el.id,\n            type: 'sub_main',\n            disabled: (_el$children = el.children) === null || _el$children === void 0 ? void 0 : _el$children.length,\n            children: (_el$children2 = el.children) === null || _el$children2 === void 0 ? void 0 : _el$children2.map(three => {\n              var _three$translation;\n\n              return {\n                label: (_three$translation = three.translation) === null || _three$translation === void 0 ? void 0 : _three$translation.title,\n                value: three.id,\n                key: three.id,\n                type: 'child'\n              };\n            })\n          };\n        })\n      };\n    }));\n  }\n\n  const onFinish = values => {\n    var _values$brand, _values$category, _values$shop, _values$unit, _mediaList$previews;\n\n    setLoadingBtn(true);\n    const params = { ...values,\n      digital: values.digital ? 1 : 0,\n      active: Number(values.active),\n      brand_id: (_values$brand = values.brand) === null || _values$brand === void 0 ? void 0 : _values$brand.value,\n      category_id: ((_values$category = values.category) === null || _values$category === void 0 ? void 0 : _values$category.value) || values.category,\n      shop_id: (_values$shop = values.shop) === null || _values$shop === void 0 ? void 0 : _values$shop.value,\n      unit_id: (_values$unit = values.unit) === null || _values$unit === void 0 ? void 0 : _values$unit.value,\n      images: undefined,\n      brand: undefined,\n      category: undefined,\n      shop: undefined,\n      unit: undefined,\n      tax: values.tax || 0,\n      ...Object.assign({}, ...[...(mediaList === null || mediaList === void 0 ? void 0 : mediaList.images), ...fileList].map((item, index) => ({\n        [`images[${index}]`]: item.name\n      }))),\n      ...Object.assign({}, ...(mediaList === null || mediaList === void 0 ? void 0 : (_mediaList$previews = mediaList.previews) === null || _mediaList$previews === void 0 ? void 0 : _mediaList$previews.map((item, index) => ({\n        [`previews[${index}]`]: item.name\n      }))))\n    };\n\n    if (isRequest) {\n      dispatch(setMenuData({\n        activeMenu,\n        data: { ...activeMenu.data,\n          ...params,\n          images: fileList,\n          brand: values.brand,\n          category: values.category,\n          shop: values.shop,\n          unit: values.unit,\n          tax: values.tax || 0,\n          title: { ...Object.assign({}, ...languages.map(lang => ({\n              [lang.locale]: values[`title[${lang.locale}]`]\n            })))\n          },\n          description: { ...Object.assign({}, ...languages.map(lang => ({\n              [lang.locale]: values[`description[${lang.locale}]`]\n            })))\n          }\n        }\n      }));\n      next();\n      return;\n    }\n\n    if (action_type === 'edit') {\n      productUpdate(values, params);\n    } else {\n      productCreate(values, params);\n    }\n  };\n\n  const createMediaFile = items => {\n    const mediaObject = {\n      images: [],\n      previews: []\n    };\n    const previews = items.filter(item => item.preview).map(item => ({\n      uid: item.id,\n      name: item.preview,\n      url: item.preview\n    }));\n    const videos = items.filter(item => item.preview).map(item => ({\n      uid: item.id,\n      name: item.path,\n      url: item.path,\n      isVideo: true\n    }));\n    mediaObject.previews = previews;\n    mediaObject.images = videos;\n    return mediaObject;\n  };\n\n  function productCreate(values, params) {\n    productService.create(params).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      dispatch(replaceMenu({\n        id: `product-${data.uuid}`,\n        url: `product/${data.uuid}`,\n        name: t('add.product'),\n        data: { ...values,\n          ...data,\n          initialMediaFile: createMediaFile(data.galleries)\n        },\n        refetch: false\n      }));\n      navigate(`/product/${data.uuid}/?step=1`);\n    }).catch(err => setError(err.response.data.params)).finally(() => setLoadingBtn(false));\n  }\n\n  function productUpdate(values, params) {\n    productService.update(uuid, params).then(() => {\n      dispatch(setMenuData({\n        activeMenu,\n        data: { ...values,\n          ...(activeMenu === null || activeMenu === void 0 ? void 0 : activeMenu.data),\n          digital: Boolean(params === null || params === void 0 ? void 0 : params.digital)\n        }\n      }));\n      next();\n    }).catch(err => setError(err.response.data.params)).finally(() => setLoadingBtn(false));\n  }\n\n  function fetchUnits(search) {\n    const params = {\n      perPage: 10,\n      page: 1,\n      active: 1,\n      search\n    };\n    return unitService.getAll(params).then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      return data === null || data === void 0 ? void 0 : data.map(item => {\n        var _item$translation2;\n\n        return {\n          label: item === null || item === void 0 ? void 0 : (_item$translation2 = item.translation) === null || _item$translation2 === void 0 ? void 0 : _item$translation2.title,\n          value: item === null || item === void 0 ? void 0 : item.id,\n          key: item === null || item === void 0 ? void 0 : item.id\n        };\n      });\n    });\n  }\n\n  useEffect(() => {\n    fetchUnits();\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({\n        activeMenu,\n        data: { ...activeMenu.data,\n          ...data\n        }\n      }));\n    };\n  }, []);\n\n  const goToAddCategory = () => {\n    dispatch(addMenu({\n      id: 'category-add',\n      url: 'category/add',\n      name: t('add.category')\n    }));\n    navigate('/category/add');\n  };\n\n  const goToUnit = () => {\n    dispatch(addMenu({\n      id: 'unit-add',\n      url: 'unit/add',\n      name: t('add.unit')\n    }));\n    navigate('/unit/add');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    layout: \"vertical\",\n    form: form,\n    initialValues: {\n      active: true,\n      vegetarian: true,\n      min_qty: 1,\n      max_qty: 1,\n      tax: 0,\n      interval: 1,\n      age_limit: 12,\n      digital: false,\n      ...activeMenu.data\n    },\n    onFinish: onFinish,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      gutter: 12,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 16,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: t('basic.info'),\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: languages.map(item => /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('name'),\n                    name: `title[${item.locale}]`,\n                    rules: [{\n                      validator(_, value) {\n                        if (!value && (item === null || item === void 0 ? void 0 : item.locale) === defaultLang) {\n                          return Promise.reject(new Error(t('required')));\n                        } else if (value && (value === null || value === void 0 ? void 0 : value.trim()) === '') {\n                          return Promise.reject(new Error(t('no.empty.space')));\n                        } else if (value && (value === null || value === void 0 ? void 0 : value.trim().length) < 2) {\n                          return Promise.reject(new Error(t('must.be.at.least.2')));\n                        }\n\n                        return Promise.resolve();\n                      }\n\n                    }],\n                    hidden: item.locale !== defaultLang,\n                    children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 25\n                    }, this)\n                  }, 'name' + item.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: languages.map(item => /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('description'),\n                    name: `description[${item.locale}]`,\n                    rules: [{\n                      validator(_, value) {\n                        if (!value && (item === null || item === void 0 ? void 0 : item.locale) === defaultLang) {\n                          return Promise.reject(new Error(t('required')));\n                        } else if (value && (value === null || value === void 0 ? void 0 : value.trim()) === '') {\n                          return Promise.reject(new Error(t('no.empty.space')));\n                        } else if (value && (value === null || value === void 0 ? void 0 : value.trim().length) < 5) {\n                          return Promise.reject(new Error(t('must.be.at.least.5')));\n                        }\n\n                        return Promise.resolve();\n                      }\n\n                    }],\n                    hidden: item.locale !== defaultLang,\n                    children: /*#__PURE__*/_jsxDEV(TextArea, {\n                      rows: 3\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 25\n                    }, this)\n                  }, 'description' + item.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: t('pricing'),\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 12,\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  span: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('min.qty'),\n                    name: \"min_qty\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      min: 1,\n                      className: \"w-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('max.qty'),\n                    name: \"max_qty\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      min: 1,\n                      className: \"w-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('tax'),\n                    name: \"tax\",\n                    rules: [{\n                      validator(_, value) {\n                        if (value && (value < 0 || value > 100)) {\n                          return Promise.reject(new Error(t('must.be.between.0.and.100')));\n                        }\n\n                        return Promise.resolve();\n                      }\n\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      className: \"w-100\",\n                      addonAfter: \"%\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('interval.unit'),\n                    name: \"interval\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }, {\n                      type: 'number',\n                      min: 0,\n                      message: t('must.be.positive')\n                    }],\n                    help: error !== null && error !== void 0 && error.interval ? error.interval[0] : null,\n                    validateStatus: error !== null && error !== void 0 && error.interval ? 'error' : 'success',\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      className: \"w-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: t('additions'),\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 12,\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('age.limit'),\n                    name: \"age_limit\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(InputNumber, {\n                      min: 0,\n                      className: \"w-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('active'),\n                    name: \"active\",\n                    valuePropName: \"checked\",\n                    children: /*#__PURE__*/_jsxDEV(Switch, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('digital'),\n                    name: \"digital\",\n                    valuePropName: \"checked\",\n                    children: /*#__PURE__*/_jsxDEV(Switch, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: t('video'),\n              children: /*#__PURE__*/_jsxDEV(VideoUploaderWithModal, {\n                form: form,\n                mediaList: mediaList,\n                setMediaList: setMediaList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 8,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: t('organization'),\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [!isRequest && /*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('shop/restaurant'),\n                    name: \"shop\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(RefetchSearch, {\n                      fetchOptions: fetchUserShopList,\n                      onChange: () => form.setFieldsValue({\n                        category: undefined\n                      }) // disabled={action_type === 'edit'}\n\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('category'),\n                    name: \"category\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(AsyncTreeSelect, {\n                      refetch: true,\n                      fetchOptions: fetchUserCategoryList,\n                      dropdownRender: menu => /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [menu, /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-1\",\n                          children: /*#__PURE__*/_jsxDEV(Button, {\n                            icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 513,\n                              columnNumber: 39\n                            }, this),\n                            className: \"w-100\",\n                            onClick: goToAddCategory,\n                            children: t('add.category')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 512,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 511,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true),\n                      allowClear: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('brand'),\n                    name: \"brand\",\n                    children: /*#__PURE__*/_jsxDEV(DebounceSelect, {\n                      fetchOptions: fetchUserBrandList\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 528,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: t('unit'),\n                    name: \"unit\",\n                    rules: [{\n                      required: true,\n                      message: t('required')\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(DebounceSelect, {\n                      fetchOptions: fetchUnits,\n                      dropdownRender: menu => /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [menu, /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-1\",\n                          children: /*#__PURE__*/_jsxDEV(Button, {\n                            icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 544,\n                              columnNumber: 39\n                            }, this),\n                            className: \"w-100\",\n                            onClick: goToUnit,\n                            children: t('add.unit')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 543,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 542,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 537,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: t('media'),\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 24,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"images\",\n                    rules: [{\n                      validator() {\n                        if ((fileList === null || fileList === void 0 ? void 0 : fileList.length) === 0) {\n                          return Promise.reject(new Error(t('required')));\n                        }\n\n                        return Promise.resolve();\n                      }\n\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(MediaUpload, {\n                      type: \"products\",\n                      imageList: fileList,\n                      setImageList: setFileList,\n                      form: form,\n                      multiple: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      loading: loadingBtn,\n      children: t('next')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductsIndex, \"ve2rGVccd0x9yyOHjvdirjQnWkc=\", false, function () {\n  return [useTranslation, Form.useForm, useDispatch, useParams, useNavigate, useSelector, useSelector];\n});\n\n_c = ProductsIndex;\nexport default ProductsIndex;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsIndex\");","map":{"version":3,"names":["React","useEffect","useState","Button","Card","Col","Form","Input","InputNumber","Row","Switch","DebounceSelect","shopService","brandService","categoryService","shallowEqual","useDispatch","useSelector","productService","addMenu","replaceMenu","setMenuData","unitService","useNavigate","useParams","useTranslation","MediaUpload","TextArea","RefetchSearch","PlusOutlined","DeploymentUnitOutlined","AsyncTreeSelect","VideoUploaderWithModal","generateRandomNumbers","ProductsIndex","next","action_type","isRequest","t","form","useForm","dispatch","uuid","navigate","error","setError","activeMenu","state","menu","defaultLang","languages","formLang","mediaList","setMediaList","data","initialMediaFile","images","previews","fileList","setFileList","filter","item","isVideo","loadingBtn","setLoadingBtn","randomNumbersLength","getFieldsValue","fetchUserShopList","search","params","active","get","then","res","map","label","translation","title","value","id","key","fetchUserBrandList","perPage","type","getAll","fetchUserCategoryList","disabled","children","length","el","three","onFinish","values","digital","Number","brand_id","brand","category_id","category","shop_id","shop","unit_id","unit","undefined","tax","Object","assign","index","name","lang","locale","description","productUpdate","productCreate","createMediaFile","items","mediaObject","preview","uid","url","videos","path","create","galleries","refetch","catch","err","response","finally","update","Boolean","fetchUnits","page","goToAddCategory","goToUnit","vegetarian","min_qty","max_qty","interval","age_limit","validator","_","Promise","reject","Error","trim","resolve","required","message","min","setFieldsValue"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/products/products-index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Card, Col, Form, Input, InputNumber, Row, Switch } from 'antd';\nimport { DebounceSelect } from 'components/search';\nimport shopService from 'services/restaurant';\nimport brandService from 'services/brand';\nimport categoryService from 'services/category';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport productService from 'services/product';\nimport { addMenu, replaceMenu, setMenuData } from 'redux/slices/menu';\nimport unitService from 'services/unit';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport MediaUpload from 'components/upload';\nimport TextArea from 'antd/lib/input/TextArea';\nimport { RefetchSearch } from 'components/refetch-search';\nimport { PlusOutlined, DeploymentUnitOutlined } from '@ant-design/icons';\nimport { AsyncTreeSelect } from 'components/async-tree-select-category';\nimport VideoUploaderWithModal from 'components/video-uploader';\nimport generateRandomNumbers from 'helpers/generateRandomNumbers';\n\nconst ProductsIndex = ({ next, action_type = '', isRequest }) => {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const { uuid } = useParams();\n  const navigate = useNavigate();\n  const [error, setError] = useState(null);\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { defaultLang, languages } = useSelector(\n    (state) => state.formLang,\n    shallowEqual,\n  );\n  const [mediaList, setMediaList] = useState(\n    activeMenu?.data?.initialMediaFile || { images: [], previews: [] },\n  );\n  const [fileList, setFileList] = useState(\n    activeMenu.data?.images?.filter((item) => !item.isVideo) || [],\n  );\n  const [loadingBtn, setLoadingBtn] = useState(false);\n\n  const randomNumbersLength = 6;\n\n  useEffect(() => {\n    const data = form.getFieldsValue(true);\n    dispatch(\n      setMenuData({ activeMenu, data: { ...activeMenu.data, ...data } }),\n    );\n  }, []);\n\n  async function fetchUserShopList(search) {\n    const params = { search, active: 1 };\n    return shopService.get(params).then((res) =>\n      res.data.map((item) => ({\n        label: item.translation ? item.translation.title : 'no name',\n        value: item.id,\n        key: item.id,\n      })),\n    );\n  }\n\n  async function fetchUserBrandList(search) {\n    const params = { perPage: 10, type: 'main', search, active: 1 };\n    return brandService.getAll(params).then((res) =>\n      res.data.map((item) => ({\n        label: item.title,\n        value: item.id,\n        key: item.id,\n      })),\n    );\n  }\n\n  async function fetchUserCategoryList(search) {\n    const params = { perPage: 100, type: 'main', search };\n    return categoryService.getAll(params).then((res) =>\n      res.data.map((item) => ({\n        label: item.translation?.title,\n        value: item.id,\n        key: item.id,\n        type: 'main',\n        disabled: item.children?.length,\n        children: item.children?.map((el) => ({\n          label: el.translation?.title,\n          value: el.id,\n          key: el.id,\n          type: 'sub_main',\n          disabled: el.children?.length,\n          children: el.children?.map((three) => ({\n            label: three.translation?.title,\n            value: three.id,\n            key: three.id,\n            type: 'child',\n          })),\n        })),\n      })),\n    );\n  }\n\n  const onFinish = (values) => {\n    setLoadingBtn(true);\n    const params = {\n      ...values,\n      digital: values.digital ? 1 : 0,\n      active: Number(values.active),\n      brand_id: values.brand?.value,\n      category_id: values.category?.value || values.category,\n      shop_id: values.shop?.value,\n      unit_id: values.unit?.value,\n      images: undefined,\n      brand: undefined,\n      category: undefined,\n      shop: undefined,\n      unit: undefined,\n      tax: values.tax || 0,\n      ...Object.assign(\n        {},\n        ...[...mediaList?.images, ...fileList].map((item, index) => ({\n          [`images[${index}]`]: item.name,\n        })),\n      ),\n      ...Object.assign(\n        {},\n        ...mediaList?.previews?.map((item, index) => ({\n          [`previews[${index}]`]: item.name,\n        })),\n      ),\n    };\n\n    if (isRequest) {\n      dispatch(\n        setMenuData({\n          activeMenu,\n          data: {\n            ...activeMenu.data,\n            ...params,\n            images: fileList,\n            brand: values.brand,\n            category: values.category,\n            shop: values.shop,\n            unit: values.unit,\n            tax: values.tax || 0,\n            title: {\n              ...Object.assign(\n                {},\n                ...languages.map((lang) => ({\n                  [lang.locale]: values[`title[${lang.locale}]`],\n                })),\n              ),\n            },\n            description: {\n              ...Object.assign(\n                {},\n                ...languages.map((lang) => ({\n                  [lang.locale]: values[`description[${lang.locale}]`],\n                })),\n              ),\n            },\n          },\n        }),\n      );\n      next();\n      return;\n    }\n\n    if (action_type === 'edit') {\n      productUpdate(values, params);\n    } else {\n      productCreate(values, params);\n    }\n  };\n\n  const createMediaFile = (items) => {\n    const mediaObject = { images: [], previews: [] };\n    const previews = items\n      .filter((item) => item.preview)\n      .map((item) => ({\n        uid: item.id,\n        name: item.preview,\n        url: item.preview,\n      }));\n    const videos = items\n      .filter((item) => item.preview)\n      .map((item) => ({\n        uid: item.id,\n        name: item.path,\n        url: item.path,\n        isVideo: true,\n      }));\n    mediaObject.previews = previews;\n    mediaObject.images = videos;\n\n    return mediaObject;\n  };\n\n  function productCreate(values, params) {\n    productService\n      .create(params)\n      .then(({ data }) => {\n        dispatch(\n          replaceMenu({\n            id: `product-${data.uuid}`,\n            url: `product/${data.uuid}`,\n            name: t('add.product'),\n            data: {\n              ...values,\n              ...data,\n              initialMediaFile: createMediaFile(data.galleries),\n            },\n            refetch: false,\n          }),\n        );\n        navigate(`/product/${data.uuid}/?step=1`);\n      })\n      .catch((err) => setError(err.response.data.params))\n      .finally(() => setLoadingBtn(false));\n  }\n\n  function productUpdate(values, params) {\n    productService\n      .update(uuid, params)\n      .then(() => {\n        dispatch(\n          setMenuData({\n            activeMenu,\n            data: {\n              ...values,\n              ...activeMenu?.data,\n              digital: Boolean(params?.digital),\n            },\n          }),\n        );\n        next();\n      })\n      .catch((err) => setError(err.response.data.params))\n      .finally(() => setLoadingBtn(false));\n  }\n\n  function fetchUnits(search) {\n    const params = {\n      perPage: 10,\n      page: 1,\n      active: 1,\n      search,\n    };\n    return unitService.getAll(params).then(({ data }) => {\n      return data?.map((item) => ({\n        label: item?.translation?.title,\n        value: item?.id,\n        key: item?.id,\n      }));\n    });\n  }\n\n  useEffect(() => {\n    fetchUnits();\n\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(\n        setMenuData({ activeMenu, data: { ...activeMenu.data, ...data } }),\n      );\n    };\n  }, []);\n\n  const goToAddCategory = () => {\n    dispatch(\n      addMenu({\n        id: 'category-add',\n        url: 'category/add',\n        name: t('add.category'),\n      }),\n    );\n    navigate('/category/add');\n  };\n  const goToUnit = () => {\n    dispatch(\n      addMenu({\n        id: 'unit-add',\n        url: 'unit/add',\n        name: t('add.unit'),\n      }),\n    );\n    navigate('/unit/add');\n  };\n\n  return (\n    <Form\n      layout='vertical'\n      form={form}\n      initialValues={{\n        active: true,\n        vegetarian: true,\n        min_qty: 1,\n        max_qty: 1,\n        tax: 0,\n        interval: 1,\n        age_limit: 12,\n        digital: false,\n        ...activeMenu.data,\n      }}\n      onFinish={onFinish}\n    >\n      <Row gutter={12}>\n        <Col span={16}>\n          <Row>\n            <Col span={24}>\n              <Card title={t('basic.info')}>\n                <Row>\n                  <Col span={24}>\n                    {languages.map((item) => (\n                      <Form.Item\n                        key={'name' + item.id}\n                        label={t('name')}\n                        name={`title[${item.locale}]`}\n                        rules={[\n                          {\n                            validator(_, value) {\n                              if (!value && item?.locale === defaultLang) {\n                                return Promise.reject(new Error(t('required')));\n                              } else if (value && value?.trim() === '') {\n                                return Promise.reject(\n                                  new Error(t('no.empty.space')),\n                                );\n                              } else if (value && value?.trim().length < 2) {\n                                return Promise.reject(\n                                  new Error(t('must.be.at.least.2')),\n                                );\n                              }\n                              return Promise.resolve();\n                            },\n                          },\n                        ]}\n                        hidden={item.locale !== defaultLang}\n                      >\n                        <Input />\n                      </Form.Item>\n                    ))}\n                  </Col>\n                  <Col span={24}>\n                    {languages.map((item) => (\n                      <Form.Item\n                        key={'description' + item.id}\n                        label={t('description')}\n                        name={`description[${item.locale}]`}\n                        rules={[\n                          {\n                            validator(_, value) {\n                              if (!value && item?.locale === defaultLang) {\n                                return Promise.reject(new Error(t('required')));\n                              } else if (value && value?.trim() === '') {\n                                return Promise.reject(\n                                  new Error(t('no.empty.space')),\n                                );\n                              } else if (value && value?.trim().length < 5) {\n                                return Promise.reject(\n                                  new Error(t('must.be.at.least.5')),\n                                );\n                              }\n                              return Promise.resolve();\n                            },\n                          },\n                        ]}\n                        hidden={item.locale !== defaultLang}\n                      >\n                        <TextArea rows={3} />\n                      </Form.Item>\n                    ))}\n                  </Col>\n                </Row>\n              </Card>\n            </Col>\n            <Col span={24}>\n              <Card title={t('pricing')}>\n                <Row gutter={12}>\n                  <Col span={6}>\n                    <Form.Item\n                      label={t('min.qty')}\n                      name='min_qty'\n                      rules={[{ required: true, message: t('required') }]}\n                    >\n                      <InputNumber min={1} className='w-100' />\n                    </Form.Item>\n                  </Col>\n                  <Col span={6}>\n                    <Form.Item\n                      label={t('max.qty')}\n                      name='max_qty'\n                      rules={[{ required: true, message: t('required') }]}\n                    >\n                      <InputNumber min={1} className='w-100' />\n                    </Form.Item>\n                  </Col>\n                  <Col span={6}>\n                    <Form.Item\n                      label={t('tax')}\n                      name='tax'\n                      rules={[\n                        {\n                          validator(_, value) {\n                            if (value && (value < 0 || value > 100)) {\n                              return Promise.reject(\n                                new Error(t('must.be.between.0.and.100')),\n                              );\n                            }\n                            return Promise.resolve();\n                          },\n                        },\n                      ]}\n                    >\n                      <InputNumber className='w-100' addonAfter='%' />\n                    </Form.Item>\n                  </Col>\n                  <Col span={6}>\n                    <Form.Item\n                      label={t('interval.unit')}\n                      name='interval'\n                      rules={[\n                        { required: true, message: t('required') },\n                        {\n                          type: 'number',\n                          min: 0,\n                          message: t('must.be.positive'),\n                        },\n                      ]}\n                      help={error?.interval ? error.interval[0] : null}\n                      validateStatus={error?.interval ? 'error' : 'success'}\n                    >\n                      <InputNumber className='w-100' />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              </Card>\n            </Col>\n            <Col span={24}>\n              <Card title={t('additions')}>\n                <Row gutter={12}>\n                  <Col span={24}>\n                    <Form.Item\n                      label={t('age.limit')}\n                      name='age_limit'\n                      rules={[{ required: true, message: t('required') }]}\n                    >\n                      <InputNumber min={0} className='w-100' />\n                    </Form.Item>\n                  </Col>\n                  <Col span={6}>\n                    <Form.Item\n                      label={t('active')}\n                      name='active'\n                      valuePropName='checked'\n                    >\n                      <Switch />\n                    </Form.Item>\n                  </Col>\n                  <Col span={6}>\n                    <Form.Item\n                      label={t('digital')}\n                      name='digital'\n                      valuePropName='checked'\n                    >\n                      <Switch />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              </Card>\n            </Col>\n            <Col span={24}>\n              <Card title={t('video')}>\n                <VideoUploaderWithModal\n                  form={form}\n                  mediaList={mediaList}\n                  setMediaList={setMediaList}\n                />\n              </Card>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={8}>\n          <Row>\n            <Col span={24}>\n              <Card title={t('organization')}>\n                <Row>\n                  {!isRequest && (\n                    <Col span={24}>\n                      <Form.Item\n                        label={t('shop/restaurant')}\n                        name='shop'\n                        rules={[{ required: true, message: t('required') }]}\n                      >\n                        <RefetchSearch\n                          fetchOptions={fetchUserShopList}\n                          onChange={() =>\n                            form.setFieldsValue({ category: undefined })\n                          }\n                          // disabled={action_type === 'edit'}\n                        />\n                      </Form.Item>\n                    </Col>\n                  )}\n                  <Col span={24}>\n                    <Form.Item\n                      label={t('category')}\n                      name='category'\n                      rules={[{ required: true, message: t('required') }]}\n                    >\n                      <AsyncTreeSelect\n                        refetch\n                        fetchOptions={fetchUserCategoryList}\n                        dropdownRender={(menu) => (\n                          <>\n                            {menu}\n                            <div className='p-1'>\n                              <Button\n                                icon={<PlusOutlined />}\n                                className='w-100'\n                                onClick={goToAddCategory}\n                              >\n                                {t('add.category')}\n                              </Button>\n                            </div>\n                          </>\n                        )}\n                        allowClear\n                      />\n                    </Form.Item>\n                  </Col>\n                  <Col span={24}>\n                    <Form.Item label={t('brand')} name='brand'>\n                      <DebounceSelect fetchOptions={fetchUserBrandList} />\n                    </Form.Item>\n                  </Col>\n                  <Col span={24}>\n                    <Form.Item\n                      label={t('unit')}\n                      name='unit'\n                      rules={[{ required: true, message: t('required') }]}\n                    >\n                      <DebounceSelect\n                        fetchOptions={fetchUnits}\n                        dropdownRender={(menu) => (\n                          <>\n                            {menu}\n                            <div className='p-1'>\n                              <Button\n                                icon={<PlusOutlined />}\n                                className='w-100'\n                                onClick={goToUnit}\n                              >\n                                {t('add.unit')}\n                              </Button>\n                            </div>\n                          </>\n                        )}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              </Card>\n            </Col>\n            <Col span={24}>\n              <Card title={t('media')}>\n                <Row>\n                  <Col span={24}>\n                    <Form.Item\n                      name='images'\n                      rules={[\n                        {\n                          validator() {\n                            if (fileList?.length === 0) {\n                              return Promise.reject(new Error(t('required')));\n                            }\n                            return Promise.resolve();\n                          },\n                        },\n                      ]}\n                    >\n                      <MediaUpload\n                        type='products'\n                        imageList={fileList}\n                        setImageList={setFileList}\n                        form={form}\n                        multiple={true}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              </Card>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n\n      <Button type='primary' htmlType='submit' loading={loadingBtn}>\n        {t('next')}\n      </Button>\n    </Form>\n  );\n};\n\nexport default ProductsIndex;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}