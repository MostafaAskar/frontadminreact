{"ast":null,"code":"import React,{useState}from'react';import{toast}from'react-toastify';import{Button,Modal}from'antd';import galleryService from'../../services/gallery';import Loading from'../../components/loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UploadMedia=_ref=>{let{modal,url,setModal,setPercent=()=>{},file,handleOnSubmit}=_ref;const toggle=()=>setModal(!modal);const[loading,setLoading]=useState(false);const handleUpload=()=>{setLoading(true);if(!file){return toast.error('Please upload an image first!');}let formData=new FormData();formData.append('image',file);formData.append('type','users');galleryService.upload(formData).then(res=>{handleOnSubmit({type:'image',message:res.data.title});}).catch(err=>console.error(err)).finally(()=>{setLoading(false);setModal(false);});};return/*#__PURE__*/_jsx(Modal,{visible:modal,footer:false,onOk:toggle,onCancel:toggle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"upload-form position-relative\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute h-100 w-100 d-flex justify-content-center align-items-center bg-transparent\",children:/*#__PURE__*/_jsx(Loading,{})}),/*#__PURE__*/_jsx(\"img\",{src:url}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-btns\",children:[/*#__PURE__*/_jsx(Button,{disabled:loading,onClick:toggle,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{disabled:loading,onClick:handleUpload,children:\"Send\"})]})]})});};export default UploadMedia;","map":null,"metadata":{},"sourceType":"module"}