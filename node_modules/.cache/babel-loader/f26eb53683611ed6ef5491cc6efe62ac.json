{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/menu-categories/category-add.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Button, Card, Form, Input, Modal } from 'antd';\nimport { toast } from 'react-toastify';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport categoryService from '../../services/category';\nimport { useTranslation } from 'react-i18next';\nimport { setRefetch } from 'redux/slices/menu';\nimport LanguageList from 'components/language-list';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MenuCategoryAdd = _ref => {\n  _s();\n\n  let {\n    isModalOpen,\n    handleCancel\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const [form] = Form.useForm();\n  const {\n    defaultLang,\n    languages\n  } = useSelector(state => state.formLang, shallowEqual);\n\n  const onFinish = values => {\n    const body = {\n      type: 'menu',\n      ...values\n    };\n    categoryService.create(body).then(() => {\n      toast.success(t('successfully.created'));\n      handleCancel();\n      dispatch(setRefetch(activeMenu));\n    }).catch(err => console.error(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: isModalOpen,\n    title: t('add.menu.category'),\n    onCancel: handleCancel,\n    footer: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => form.submit(),\n      children: t('save')\n    }, 'saveBtn', false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"default\",\n      onClick: handleCancel,\n      children: t('cancel')\n    }, 'cancelBtn', false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      extra: /*#__PURE__*/_jsxDEV(LanguageList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 20\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"basic\",\n        layout: \"vertical\",\n        onFinish: onFinish,\n        initialValues: { ...activeMenu.data\n        },\n        form: form,\n        children: languages.map((item, index) => /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: t('name'),\n          name: `title[${item.locale}]`,\n          rules: [{\n            validator(_, value) {\n              if (!value && (item === null || item === void 0 ? void 0 : item.locale) === defaultLang) {\n                return Promise.reject(new Error(t('required')));\n              } else if (value && (value === null || value === void 0 ? void 0 : value.trim()) === '') {\n                return Promise.reject(new Error(t('no.empty.space')));\n              } else if (value && (value === null || value === void 0 ? void 0 : value.trim().length) < 2) {\n                return Promise.reject(new Error(t('must.be.at.least.2')));\n              }\n\n              return Promise.resolve();\n            }\n\n          }],\n          hidden: item.locale !== defaultLang,\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: t('name'),\n            className: \"w-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, item.title + index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MenuCategoryAdd, \"emeY8Nl798Ny/UqJN6sutemj+iQ=\", false, function () {\n  return [useTranslation, useDispatch, useSelector, Form.useForm, useSelector];\n});\n\n_c = MenuCategoryAdd;\nexport default MenuCategoryAdd;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuCategoryAdd\");","map":{"version":3,"names":["React","Button","Card","Form","Input","Modal","toast","shallowEqual","useDispatch","useSelector","categoryService","useTranslation","setRefetch","LanguageList","MenuCategoryAdd","isModalOpen","handleCancel","t","dispatch","activeMenu","state","menu","form","useForm","defaultLang","languages","formLang","onFinish","values","body","type","create","then","success","catch","err","console","error","submit","data","map","item","index","locale","validator","_","value","Promise","reject","Error","trim","length","resolve","title"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/menu-categories/category-add.js"],"sourcesContent":["import React from 'react';\nimport { Button, Card, Form, Input, Modal } from 'antd';\nimport { toast } from 'react-toastify';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport categoryService from '../../services/category';\nimport { useTranslation } from 'react-i18next';\nimport { setRefetch } from 'redux/slices/menu';\nimport LanguageList from 'components/language-list';\n\nconst MenuCategoryAdd = ({ isModalOpen, handleCancel }) => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const [form] = Form.useForm();\n  const { defaultLang, languages } = useSelector(\n    (state) => state.formLang,\n    shallowEqual\n  );\n\n  const onFinish = (values) => {\n    const body = {\n      type: 'menu',\n      ...values,\n    };\n    categoryService\n      .create(body)\n      .then(() => {\n        toast.success(t('successfully.created'));\n        handleCancel();\n        dispatch(setRefetch(activeMenu));\n      })\n      .catch((err) => console.error(err));\n  };\n\n  return (\n    <Modal\n      visible={isModalOpen}\n      title={t('add.menu.category')}\n      onCancel={handleCancel}\n      footer={[\n        <Button type='primary' key={'saveBtn'} onClick={() => form.submit()}>\n          {t('save')}\n        </Button>,\n        <Button type='default' key={'cancelBtn'} onClick={handleCancel}>\n          {t('cancel')}\n        </Button>,\n      ]}\n    >\n      <Card extra={<LanguageList />}>\n        <Form\n          name='basic'\n          layout='vertical'\n          onFinish={onFinish}\n          initialValues={{\n            ...activeMenu.data,\n          }}\n          form={form}\n        >\n          {languages.map((item, index) => (\n            <Form.Item\n              key={item.title + index}\n              label={t('name')}\n              name={`title[${item.locale}]`}\n              rules={[\n                {\n                  validator(_, value) {\n                    if (!value && item?.locale === defaultLang) {\n                      return Promise.reject(new Error(t('required')));\n                    } else if (value && value?.trim() === '') {\n                      return Promise.reject(new Error(t('no.empty.space')));\n                    } else if (value && value?.trim().length < 2) {\n                      return Promise.reject(new Error(t('must.be.at.least.2')));\n                    }\n                    return Promise.resolve();\n                  },\n                },\n              ]}\n              hidden={item.locale !== defaultLang}\n            >\n              <Input placeholder={t('name')} className='w-100' />\n            </Form.Item>\n          ))}\n        </Form>\n      </Card>\n    </Modal>\n  );\n};\nexport default MenuCategoryAdd;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}