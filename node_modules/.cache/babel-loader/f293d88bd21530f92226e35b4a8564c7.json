{"ast":null,"code":"import{Col,Form}from'antd';import areaService from'services/deliveryzone/area';import cityService from'services/deliveryzone/city';import countryService from'services/deliveryzone/country';import regionService from'services/deliveryzone/region';import{useState}from'react';import{RefetchSearch}from'components/refetch-search';import{useTranslation}from'react-i18next';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DeliverymanAddress=_ref=>{let{form}=_ref;const{t}=useTranslation();const[formData,setFormData]=useState({});const{country,region,city}=formData;async function fetchRegion(search){const params={search,status:1,perPage:10};return regionService.get(params).then(_ref2=>{let{data}=_ref2;return data.map(item=>({label:item.translation.title||'no name',value:item.id,key:item===null||item===void 0?void 0:item.id}));});}async function fetchCountry(search){const params={search,status:1,perPage:10,region_id:region===null||region===void 0?void 0:region.value};return countryService.get(params).then(_ref3=>{let{data}=_ref3;return data.map(item=>({label:item.translation.title||'no name',value:item.id,key:item===null||item===void 0?void 0:item.id}));});}async function fetchCity(search){const params={search,status:1,perPage:10,country_id:country===null||country===void 0?void 0:country.value};return cityService.get(params).then(_ref4=>{let{data}=_ref4;return data.map(item=>({label:item.translation.title||'no name',value:item.id,key:item===null||item===void 0?void 0:item.id}));});}async function fetchArea(search){const params={search,status:1,perPage:10,city_id:city===null||city===void 0?void 0:city.value};return areaService.get(params).then(_ref5=>{let{data}=_ref5;return data.map(item=>{var _item$translation;return{label:(item===null||item===void 0?void 0:(_item$translation=item.translation)===null||_item$translation===void 0?void 0:_item$translation.title)||'no name',value:item===null||item===void 0?void 0:item.id,key:item===null||item===void 0?void 0:item.id};});});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('region'),name:\"region\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(RefetchSearch,{fetchOptions:fetchRegion,dropdownRender:menu=>/*#__PURE__*/_jsx(_Fragment,{children:menu}),refetch:true,onChange:value=>{setFormData(prev=>({...prev,region:value}));form.resetFields(['city','area','country']);},placeholder:t('select.region'),autoComplete:'none'})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('country'),name:\"country\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(RefetchSearch,{fetchOptions:fetchCountry,dropdownRender:menu=>/*#__PURE__*/_jsx(_Fragment,{children:menu}),refetch:true,onChange:value=>{setFormData(prev=>({...prev,country:value}));form.resetFields(['city','area']);},disabled:!Boolean(region===null||region===void 0?void 0:region.value),placeholder:t('select.country'),autoComplete:'none'})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('city'),name:\"city\",rules:[{required:false,message:t('required')}],children:/*#__PURE__*/_jsx(RefetchSearch,{fetchOptions:fetchCity,dropdownRender:menu=>/*#__PURE__*/_jsx(_Fragment,{children:menu}),refetch:true,disabled:!Boolean(country===null||country===void 0?void 0:country.value),onChange:value=>{setFormData(prev=>({...prev,city:value}));form.resetFields(['area']);},placeholder:t('select.city'),autoComplete:'none'})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('area'),name:\"area\",rules:[{required:false,message:t('required')}],children:/*#__PURE__*/_jsx(RefetchSearch,{fetchOptions:fetchArea,dropdownRender:menu=>/*#__PURE__*/_jsx(_Fragment,{children:menu}),refetch:true,disabled:!Boolean(city===null||city===void 0?void 0:city.value),placeholder:t('select.area')})})})]});};export default DeliverymanAddress;","map":null,"metadata":{},"sourceType":"module"}