{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import productService from'../../services/product';import restProductService from'../../services/rest/product';import sellerProductService from'../../services/seller/product';const initialState={loading:false,products:[],error:'',params:{page:1,perPage:10},links:null,meta:{}};export const fetchProducts=createAsyncThunk('product/fetchProducts',function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return productService.getAll({...initialState.params,...params}).then(res=>res);});export const fetchRestProducts=createAsyncThunk('product/fetchRestProducts',function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return restProductService.getAll({...initialState.params,...params}).then(res=>res);});export const fetchSellerProducts=createAsyncThunk('product/fetchSellerProducts',function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return sellerProductService.getAll({...initialState.params,...params}).then(res=>res);});const productSlice=createSlice({name:'product',initialState,extraReducers:builder=>{builder.addCase(fetchProducts.pending,state=>{state.loading=true;});builder.addCase(fetchProducts.fulfilled,(state,action)=>{const{payload}=action;state.loading=false;state.products=payload.data.map(item=>{var _item$category;return{...item,id:item.id,uuid:item.uuid,name:item.translation?item.translation.title:'no name',active:item.active,img:item.img,category_name:(_item$category=item.category)!==null&&_item$category!==void 0&&_item$category.translation?item.category.translation.title:'no name'};});state.meta=payload.meta;state.links=payload.links;state.params.page=payload.meta.current_page;state.params.perPage=payload.meta.per_page;state.error='';});builder.addCase(fetchProducts.rejected,(state,action)=>{state.loading=false;state.products=[];state.error=action.error.message;});//rest products\nbuilder.addCase(fetchRestProducts.pending,state=>{state.loading=true;});builder.addCase(fetchRestProducts.fulfilled,(state,action)=>{const{payload}=action;state.loading=false;state.products=payload.data.map(item=>{var _item$product,_item$product2,_item$product3,_item$product3$catego,_item$product4;return{...item,id:item.id,uuid:item.uuid,name:(_item$product=item.product)!==null&&_item$product!==void 0&&_item$product.translation?(_item$product2=item.product)===null||_item$product2===void 0?void 0:_item$product2.translation.title:'no name',active:item.active,img:item===null||item===void 0?void 0:item.img,category_name:(_item$product3=item.product)!==null&&_item$product3!==void 0&&(_item$product3$catego=_item$product3.category)!==null&&_item$product3$catego!==void 0&&_item$product3$catego.translation?(_item$product4=item.product)===null||_item$product4===void 0?void 0:_item$product4.category.translation.title:'no name',unit:item===null||item===void 0?void 0:item.unit};});state.meta=payload.meta;state.links=payload.links;state.params.page=payload.meta.current_page;state.params.perPage=payload.meta.per_page;state.error='';});builder.addCase(fetchRestProducts.rejected,(state,action)=>{state.loading=false;state.products=[];state.error=action.error.message;});//seller product\nbuilder.addCase(fetchSellerProducts.pending,state=>{state.loading=true;});builder.addCase(fetchSellerProducts.fulfilled,(state,action)=>{var _payload$data;const{payload}=action;state.loading=false;state.products=(_payload$data=payload.data)===null||_payload$data===void 0?void 0:_payload$data.map(item=>{var _item$category2,_item$category3,_item$category3$trans;return{...item,id:item.id,uuid:item.uuid,name:item!==null&&item!==void 0&&item.translation?item===null||item===void 0?void 0:item.translation.title:'no name',active:item.active,img:item===null||item===void 0?void 0:item.img,category_name:item!==null&&item!==void 0&&(_item$category2=item.category)!==null&&_item$category2!==void 0&&_item$category2.translation?item===null||item===void 0?void 0:(_item$category3=item.category)===null||_item$category3===void 0?void 0:(_item$category3$trans=_item$category3.translation)===null||_item$category3$trans===void 0?void 0:_item$category3$trans.title:'no name'};});state.meta=payload.meta;state.links=payload.links;state.params.page=payload.meta.current_page;state.params.perPage=payload.meta.per_page;state.error='';});builder.addCase(fetchSellerProducts.rejected,(state,action)=>{state.loading=false;state.products=[];state.error=action.error.message;});}});export default productSlice.reducer;","map":null,"metadata":{},"sourceType":"module"}