{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button,Card,Col,Modal,Row,Spin}from'antd';import{useTranslation}from'react-i18next';import{toast}from'react-toastify';import Paystack from'../../assets/images/paystack.svg';import{FaPaypal}from'react-icons/fa';import{SiStripe,SiRazorpay}from'react-icons/si';import{AiOutlineWallet}from'react-icons/ai';import restPaymentService from'../../services/rest/payment';import{BsCoin}from'react-icons/bs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PaymentPartnersConfirmation(_ref){let{open,onCancel,onConfirm,isPaying}=_ref;const{t}=useTranslation();const[paymentType,setPaymentType]=useState({});const[paymentData,setPaymentData]=useState(null);const[paymentsLoading,setPaymentsLoading]=useState(false);async function fetchPaymentList(){setPaymentsLoading(true);return restPaymentService.getAll().then(_ref2=>{let{data}=_ref2;return setPaymentData(data.map(item=>({label:item.tag||'no name',value:item.id,key:item.id})));}).finally(()=>{setPaymentsLoading(false);});}useEffect(()=>{fetchPaymentList();},[]);const handleSubmit=()=>{if(!paymentType.value){toast.warning(t('please.select.payment.type'));return;}onConfirm(paymentType.value);};const selectPayment=type=>{setPaymentType(type);};const handleAddIcon=data=>{switch(data){case'wallet':return/*#__PURE__*/_jsx(AiOutlineWallet,{size:80});case'paypal':return/*#__PURE__*/_jsx(FaPaypal,{size:80});case'stripe':return/*#__PURE__*/_jsx(SiStripe,{size:80});case'razorpay':return/*#__PURE__*/_jsx(SiRazorpay,{size:80});case'paystack':return/*#__PURE__*/_jsx(\"img\",{src:Paystack,alt:\"img\",width:\"80\",height:\"80\"});default:return/*#__PURE__*/_jsx(BsCoin,{size:80});}};return/*#__PURE__*/_jsx(Modal,{visible:open,title:t('pay.to.partner'),onCancel:onCancel,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",disabled:paymentsLoading||!paymentType.value,loading:isPaying,onClick:handleSubmit,children:t('confirm')},'save-btn'),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:onCancel,children:t('cancel')},'cancel-btn')],children:/*#__PURE__*/_jsx(Spin,{spinning:paymentsLoading,children:/*#__PURE__*/_jsx(Row,{gutter:12,children:paymentData===null||paymentData===void 0?void 0:paymentData.map((item,index)=>item.label==='cash'||item.label==='wallet'?/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Card,{style:{display:'flex',justifyContent:'center'},className:`payment-card ${(paymentType===null||paymentType===void 0?void 0:paymentType.label)===item.label?'active':''}`,onClick:()=>selectPayment(item),children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment-icon\",children:handleAddIcon(item===null||item===void 0?void 0:item.label)}),/*#__PURE__*/_jsx(\"div\",{className:\"font-weight-bold mt-2 text-center\",children:t(item===null||item===void 0?void 0:item.label)})]})},index):null)})})});}","map":null,"metadata":{},"sourceType":"module"}