{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Card,Col,Descriptions,Modal,Row,Tag}from'antd';import{useTranslation}from'react-i18next';import parcelOrderService from'services/parcelOrder';import Loading from'components/loading';import getFullDateTime from'helpers/getFullDateTime';import numberToPrice from'helpers/numberToPrice';import moment from'moment';import{EditOutlined}from'@ant-design/icons';import TransactionStatusModal from'./transaction-status-modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ShowParcelDetails=_ref=>{var _data$address_from,_data$address_from2,_data$address_from3,_data$address_from4,_data$address_to,_data$address_to2,_data$address_to3,_data$address_to4,_data$user,_data$user2,_data$note,_data$transaction;let{id,handleCancel}=_ref;const{t}=useTranslation();const[loading,setLoading]=useState(null);const[data,setData]=useState(null);const[transactionStatusModal,setTransactionStatusModal]=useState(false);function fetchParcelDetails(){setLoading(true);parcelOrderService.getById(id).then(_ref2=>{let{data}=_ref2;setData(data);}).finally(()=>{setLoading(false);});}useEffect(()=>{fetchParcelDetails();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Modal,{visible:!!id,title:`${t('parcel.id')} #${id}`,onCancel:()=>handleCancel(),footer:[/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')},'cancelBtn')],className:\"large-modal\",children:!loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{gutter:24,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Descriptions,{title:t('sender.details'),bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:t('username'),span:3,children:data===null||data===void 0?void 0:data.username_from}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('phone'),span:3,children:data===null||data===void 0?void 0:data.phone_from}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('address'),span:3,children:data===null||data===void 0?void 0:(_data$address_from=data.address_from)===null||_data$address_from===void 0?void 0:_data$address_from.address}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('house'),span:3,children:data===null||data===void 0?void 0:(_data$address_from2=data.address_from)===null||_data$address_from2===void 0?void 0:_data$address_from2.house}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('stage'),span:3,children:data===null||data===void 0?void 0:(_data$address_from3=data.address_from)===null||_data$address_from3===void 0?void 0:_data$address_from3.stage}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('room'),span:3,children:data===null||data===void 0?void 0:(_data$address_from4=data.address_from)===null||_data$address_from4===void 0?void 0:_data$address_from4.room})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Descriptions,{title:t('receiver.details'),bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:t('username'),span:3,children:data===null||data===void 0?void 0:data.username_to}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('phone'),span:3,children:data===null||data===void 0?void 0:data.phone_to}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('address'),span:3,children:data===null||data===void 0?void 0:(_data$address_to=data.address_to)===null||_data$address_to===void 0?void 0:_data$address_to.address}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('house'),span:3,children:data===null||data===void 0?void 0:(_data$address_to2=data.address_to)===null||_data$address_to2===void 0?void 0:_data$address_to2.house}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('stage'),span:3,children:data===null||data===void 0?void 0:(_data$address_to3=data.address_to)===null||_data$address_to3===void 0?void 0:_data$address_to3.stage}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('room'),span:3,children:data===null||data===void 0?void 0:(_data$address_to4=data.address_to)===null||_data$address_to4===void 0?void 0:_data$address_to4.room})]})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Descriptions,{bordered:true,className:\"mt-4\",children:[/*#__PURE__*/_jsxs(Descriptions.Item,{label:t('client'),span:3,children:[data===null||data===void 0?void 0:(_data$user=data.user)===null||_data$user===void 0?void 0:_data$user.firstname,\" \",data===null||data===void 0?void 0:(_data$user2=data.user)===null||_data$user2===void 0?void 0:_data$user2.lastname]}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('delivery.date.&.time'),span:3,children:data===null||data===void 0?void 0:data.delivery_date}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('price'),span:3,children:numberToPrice(data===null||data===void 0?void 0:data.total_price)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('created.at'),span:3,children:moment(data===null||data===void 0?void 0:data.created_at).format('YYYY-MM-DD HH:mm')}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('note'),span:3,children:(_data$note=data===null||data===void 0?void 0:data.note)!==null&&_data$note!==void 0?_data$note:'---'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:t('transaction'),span:3,children:/*#__PURE__*/_jsxs(\"span\",{style:{cursor:'pointer'},onClick:()=>setTransactionStatusModal(true),children:[data===null||data===void 0?void 0:(_data$transaction=data.transaction)===null||_data$transaction===void 0?void 0:_data$transaction.status,\" \",/*#__PURE__*/_jsx(EditOutlined,{})]})})]})})]}),transactionStatusModal&&/*#__PURE__*/_jsx(TransactionStatusModal,{handleCancel:()=>setTransactionStatusModal(false),data:data,fetchParcelDetails:fetchParcelDetails})]}):/*#__PURE__*/_jsx(Loading,{})})});};export default ShowParcelDetails;","map":null,"metadata":{},"sourceType":"module"}