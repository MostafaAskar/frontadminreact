{"ast":null,"code":"import{Card,Col,Row,Space,Typography,Divider,Select}from'antd';import React,{useMemo}from'react';import{LineChartOutlined,BarChartOutlined}from'@ant-design/icons';import ChartWidget from'../chart-widget';import{COLORS}from'../../constants/ChartConstant';import{useTranslation}from'react-i18next';import{useContext}from'react';import{ReportContext}from'../../context/report';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const{Title}=Typography;const ReportChart=_ref=>{let{reportData={}}=_ref;const{by_time,options,handleByTime,chart_type,setChartType}=useContext(ReportContext);const{t}=useTranslation();const categories=useMemo(()=>{var _reportData$chart;return reportData===null||reportData===void 0?void 0:(_reportData$chart=reportData.chart)===null||_reportData$chart===void 0?void 0:_reportData$chart.map(item=>item.time);},[reportData===null||reportData===void 0?void 0:reportData.chart]);const chartData=useMemo(()=>{var _reportData$chart2;if(Boolean(reportData.charts)){return reportData.charts.map(item=>{var _item$stocks;return{name:item.translation.title,data:((_item$stocks=item.stocks)===null||_item$stocks===void 0?void 0:_item$stocks.map(item=>item.total_order_quantity||item.avg_quantity||item.quantity||item.count||item.price||item.order_details_sum_quantity||0))||[]};});}else return[{name:t('orders'),data:(reportData===null||reportData===void 0?void 0:(_reportData$chart2=reportData.chart)===null||_reportData$chart2===void 0?void 0:_reportData$chart2.map(item=>parseInt(item.count||item.total_price||item.quantity||item.price||item.products_count||item.order_details_avg_quantity||item.order_details_avg_total_price||item.order_details_sum_quantity||item.avg_price||item.avg_quantity||0,10)))||[]}];},[reportData===null||reportData===void 0?void 0:reportData.chart]);return/*#__PURE__*/_jsx(Row,{gutter:24,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Row,{gutter:24,className:\"w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between w-100\",children:[/*#__PURE__*/_jsx(Space,{size:\"large\",className:\"d-flex\",children:/*#__PURE__*/_jsx(Title,{level:3,className:\"mb-0\",children:t('item.sold')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Select,{style:{width:100},onChange:handleByTime,options:options,defaultValue:by_time}),/*#__PURE__*/_jsx(Divider,{type:\"vertical\",style:{height:'100%'}}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(LineChartOutlined,{style:{fontSize:'22px',cursor:'pointer',color:chart_type==='area'?'green':''},onClick:()=>setChartType('area')}),/*#__PURE__*/_jsx(BarChartOutlined,{style:{fontSize:'22px',cursor:'pointer',color:chart_type==='bar'?'green':''},onClick:()=>setChartType('bar')})]})]})]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(ChartWidget,{type:chart_type||\"area\",card:false,series:chartData,xAxis:categories,height:280,customOptions:{colors:[COLORS[1],COLORS[2],COLORS[3],COLORS[4],COLORS[5],COLORS[6],COLORS[0]],legend:{show:false},stroke:{width:2.5,curve:'smooth'}}})]})})});};export default ReportChart;","map":null,"metadata":{},"sourceType":"module"}