{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/products/products-add.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { steps } from './steps';\nimport { Card, Steps } from 'antd';\nimport ProductProperty from './product-property';\nimport ProductFinish from './product-finish';\nimport ProductStock from './product-stock';\nimport ProductExtras from './product-extras';\nimport ProductsIndex from './products-index';\nimport LanguageList from '../../components/language-list';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport ProductGallery from './product-gallery';\nimport ProductDigital from './product-digital';\nimport Wholesale from './wholesale';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Step\n} = Steps;\n\nconst ProductsAdd = () => {\n  _s();\n\n  var _activeMenu$data, _activeMenu$data2, _filteredExtras$value, _activeMenu$data3, _activeMenu$data4;\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const [current, setCurrent] = useState(((_activeMenu$data = activeMenu.data) === null || _activeMenu$data === void 0 ? void 0 : _activeMenu$data.step) || 0);\n  const [newSteps, setNewSteps] = useState(steps);\n  const {\n    extras\n  } = (activeMenu === null || activeMenu === void 0 ? void 0 : activeMenu.data) || {};\n  const isDigital = activeMenu === null || activeMenu === void 0 ? void 0 : (_activeMenu$data2 = activeMenu.data) === null || _activeMenu$data2 === void 0 ? void 0 : _activeMenu$data2.digital;\n  const isTypeColorExists = extras === null || extras === void 0 ? void 0 : extras.some(extra => {\n    var _extra$group;\n\n    return (extra === null || extra === void 0 ? void 0 : (_extra$group = extra.group) === null || _extra$group === void 0 ? void 0 : _extra$group.type) === 'color';\n  });\n  const filteredExtras = useMemo(() => extras === null || extras === void 0 ? void 0 : extras.find(item => {\n    var _item$group;\n\n    return (item === null || item === void 0 ? void 0 : (_item$group = item.group) === null || _item$group === void 0 ? void 0 : _item$group.type) === 'color';\n  }), [extras]);\n  const uniqueData = Array.from(new Set(filteredExtras === null || filteredExtras === void 0 ? void 0 : (_filteredExtras$value = filteredExtras.values) === null || _filteredExtras$value === void 0 ? void 0 : _filteredExtras$value.map(item => item.value))).map(value => {\n    var _filteredExtras$value2;\n\n    return filteredExtras === null || filteredExtras === void 0 ? void 0 : (_filteredExtras$value2 = filteredExtras.values) === null || _filteredExtras$value2 === void 0 ? void 0 : _filteredExtras$value2.find(item => item.value === value);\n  });\n  const colorItems = uniqueData.filter(item => item.group_type === 'color');\n\n  const next = () => {\n    const step = current + 1;\n    setCurrent(step);\n  };\n\n  const prev = () => {\n    const step = current - 1;\n    setCurrent(step);\n  };\n\n  useEffect(() => {\n    if (isDigital) {\n      setNewSteps(steps.filter(item => item.title !== 'product.extras'));\n    } else if (isDigital === false) {\n      setNewSteps(steps.filter(item => item.title !== 'product.digital'));\n    }\n\n    if (isTypeColorExists) {\n      setNewSteps(prev => prev);\n    } else {\n      setNewSteps(prev => prev.filter(item => item.title !== 'Gallery'));\n    }\n  }, [isTypeColorExists, isDigital]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      title: t('add.product'),\n      extra: /*#__PURE__*/_jsxDEV(LanguageList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 45\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Steps, {\n        current: current,\n        children: newSteps.map(item => /*#__PURE__*/_jsxDEV(Step, {\n          title: t(item.title)\n        }, item.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"steps-content\",\n      children: [newSteps[current].content === 'First-content' && /*#__PURE__*/_jsxDEV(ProductsIndex, {\n        next: next\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), ((_activeMenu$data3 = activeMenu.data) === null || _activeMenu$data3 === void 0 ? void 0 : _activeMenu$data3.digital) && newSteps[current].content === 'Product-digital' && /*#__PURE__*/_jsxDEV(ProductDigital, {\n        next: next,\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), !((_activeMenu$data4 = activeMenu.data) !== null && _activeMenu$data4 !== void 0 && _activeMenu$data4.digital) && newSteps[current].content === 'Second-content' && /*#__PURE__*/_jsxDEV(ProductExtras, {\n        next: next,\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), newSteps[current].content === 'Third-content' && /*#__PURE__*/_jsxDEV(ProductStock, {\n        next: next,\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), newSteps[current].content === 'wholesale-content' && /*#__PURE__*/_jsxDEV(Wholesale, {\n        next: next,\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), (colorItems === null || colorItems === void 0 ? void 0 : colorItems.length) > 0 && newSteps[current].content === 'Gallery-content' && /*#__PURE__*/_jsxDEV(ProductGallery, {\n        next: next,\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), newSteps[current].content === 'Fourth-content' && /*#__PURE__*/_jsxDEV(ProductProperty, {\n        next: next,\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), newSteps[current].content === 'Finish-content' && /*#__PURE__*/_jsxDEV(ProductFinish, {\n        prev: prev\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductsAdd, \"7eOAH0HRJBhKo6SLlyVjHOKgYM4=\", false, function () {\n  return [useTranslation, useSelector];\n});\n\n_c = ProductsAdd;\nexport default ProductsAdd;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsAdd\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","steps","Card","Steps","ProductProperty","ProductFinish","ProductStock","ProductExtras","ProductsIndex","LanguageList","shallowEqual","useSelector","useTranslation","ProductGallery","ProductDigital","Wholesale","Step","ProductsAdd","t","activeMenu","state","menu","current","setCurrent","data","step","newSteps","setNewSteps","extras","isDigital","digital","isTypeColorExists","some","extra","group","type","filteredExtras","find","item","uniqueData","Array","from","Set","values","map","value","colorItems","filter","group_type","next","prev","title","content","length"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/products/products-add.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { steps } from './steps';\nimport { Card, Steps } from 'antd';\nimport ProductProperty from './product-property';\nimport ProductFinish from './product-finish';\nimport ProductStock from './product-stock';\nimport ProductExtras from './product-extras';\nimport ProductsIndex from './products-index';\nimport LanguageList from '../../components/language-list';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport ProductGallery from './product-gallery';\nimport ProductDigital from './product-digital';\nimport Wholesale from './wholesale';\n\nconst { Step } = Steps;\n\nconst ProductsAdd = () => {\n  const { t } = useTranslation();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const [current, setCurrent] = useState(activeMenu.data?.step || 0);\n  const [newSteps, setNewSteps] = useState(steps);\n  const { extras } = activeMenu?.data || {};\n  const isDigital = activeMenu?.data?.digital;\n  const isTypeColorExists = extras?.some(\n    (extra) => extra?.group?.type === 'color',\n  );\n\n  const filteredExtras = useMemo(\n    () => extras?.find((item) => item?.group?.type === 'color'),\n    [extras],\n  );\n  const uniqueData = Array.from(\n    new Set(filteredExtras?.values?.map((item) => item.value)),\n  ).map((value) => {\n    return filteredExtras?.values?.find((item) => item.value === value);\n  });\n  const colorItems = uniqueData.filter((item) => item.group_type === 'color');\n\n  const next = () => {\n    const step = current + 1;\n    setCurrent(step);\n  };\n\n  const prev = () => {\n    const step = current - 1;\n    setCurrent(step);\n  };\n\n  useEffect(() => {\n    if (isDigital) {\n      setNewSteps(steps.filter((item) => item.title !== 'product.extras'));\n    } else if (isDigital === false) {\n      setNewSteps(steps.filter((item) => item.title !== 'product.digital'));\n    }\n    if (isTypeColorExists) {\n      setNewSteps((prev) => prev);\n    } else {\n      setNewSteps((prev) => prev.filter((item) => item.title !== 'Gallery'));\n    }\n  }, [isTypeColorExists, isDigital]);\n\n  return (\n    <>\n      <Card title={t('add.product')} extra={<LanguageList />}>\n        <Steps current={current}>\n          {newSteps.map((item) => (\n            <Step title={t(item.title)} key={item.title} />\n          ))}\n        </Steps>\n      </Card>\n      <div className='steps-content'>\n        {newSteps[current].content === 'First-content' && (\n          <ProductsIndex next={next} />\n        )}\n\n        {activeMenu.data?.digital &&\n          newSteps[current].content === 'Product-digital' && (\n            <ProductDigital next={next} prev={prev} />\n          )}\n\n        {!activeMenu.data?.digital &&\n          newSteps[current].content === 'Second-content' && (\n            <ProductExtras next={next} prev={prev} />\n          )}\n\n        {newSteps[current].content === 'Third-content' && (\n          <ProductStock next={next} prev={prev} />\n        )}\n\n        {newSteps[current].content === 'wholesale-content' && (\n          <Wholesale next={next} prev={prev} />\n        )}\n\n        {colorItems?.length > 0 &&\n          newSteps[current].content === 'Gallery-content' && (\n            <ProductGallery next={next} prev={prev} />\n          )}\n\n        {newSteps[current].content === 'Fourth-content' && (\n          <ProductProperty next={next} prev={prev} />\n        )}\n\n        {newSteps[current].content === 'Finish-content' && (\n          <ProductFinish prev={prev} />\n        )}\n      </div>\n    </>\n  );\n};\nexport default ProductsAdd;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}