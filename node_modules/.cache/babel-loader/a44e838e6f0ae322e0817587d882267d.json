{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Card,Image,Space,Table}from'antd';import{shallowEqual,useDispatch,useSelector}from'react-redux';import{disableRefetch}from'../../redux/slices/menu';import{useTranslation}from'react-i18next';import{fetchAdminStoreis,fetchStoreis}from'../../redux/slices/storeis';import FilterColumns from'../../components/filter-column';import{IMG_URL}from'../../configs/app-global';import{jsx as _jsx}from\"react/jsx-runtime\";const Storeis=()=>{const{t}=useTranslation();const dispatch=useDispatch();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const{storeis,meta,loading}=useSelector(state=>state.storeis,shallowEqual);const[columns,setColumns]=useState([{title:t('id'),dataIndex:'id',key:'id',is_show:true},{title:t('image'),dataIndex:'file_urls',key:'file_urls',is_show:true,render:file_urls=>{return/*#__PURE__*/_jsx(Image,{src:file_urls?file_urls[0].search('stories/')?IMG_URL+file_urls[0]:'https://api.foodyman.org/storage/'+file_urls[0]:'https://via.placeholder.com/150',alt:\"img_gallery\",width:100,className:\"rounded\",preview:true,placeholder:true});}},{title:t('product'),dataIndex:'stock',key:'stock',is_show:true,render:(_,row)=>{var _row$product,_row$product$translat;return row===null||row===void 0?void 0:(_row$product=row.product)===null||_row$product===void 0?void 0:(_row$product$translat=_row$product.translation)===null||_row$product$translat===void 0?void 0:_row$product$translat.title;}},{title:t('shop'),dataIndex:'shop',key:'shop',is_show:true,render:(_,row)=>{var _row$shop,_row$shop$translation;return(_row$shop=row.shop)===null||_row$shop===void 0?void 0:(_row$shop$translation=_row$shop.translation)===null||_row$shop$translation===void 0?void 0:_row$shop$translation.title;}}]);useEffect(()=>{if(activeMenu.refetch){dispatch(fetchAdminStoreis());dispatch(disableRefetch(activeMenu));}},[activeMenu.refetch]);const onChangePagination=pageNumber=>{const{pageSize,current}=pageNumber;dispatch(fetchStoreis({perPage:pageSize,page:current}));};return/*#__PURE__*/_jsx(Card,{title:t('storeis'),extra:/*#__PURE__*/_jsx(Space,{children:/*#__PURE__*/_jsx(FilterColumns,{columns:columns,setColumns:setColumns})}),children:/*#__PURE__*/_jsx(Table,{scroll:{x:true},columns:columns===null||columns===void 0?void 0:columns.filter(item=>item.is_show),dataSource:storeis,pagination:{pageSize:meta.per_page,page:meta.current_page,total:meta.total},rowKey:record=>record.id,loading:loading,onChange:onChangePagination})});};export default Storeis;","map":null,"metadata":{},"sourceType":"module"}