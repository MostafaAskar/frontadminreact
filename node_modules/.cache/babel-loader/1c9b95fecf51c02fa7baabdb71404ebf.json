{"ast":null,"code":"import React,{useState}from'react';import{Button,Card,Col,Form,Input,Row}from'antd';import{EyeInvisibleOutlined,EyeTwoTone}from'@ant-design/icons';import installationService from'../../services/installation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DatabaseInfo(_ref){let{next}=_ref;const[form]=Form.useForm();const[loading,setLoading]=useState();function databaseMigration(){installationService.migrationRun().then(res=>res);}const onFinish=values=>{const data={...values,env:1};setLoading(true);installationService.updateDatabase(data).then(()=>{next();databaseMigration();}).finally(()=>setLoading(false));};return/*#__PURE__*/_jsx(Card,{title:\"Database info\",className:\"w-100\",extra:/*#__PURE__*/_jsx(\"p\",{children:\"Fill database credentials\"}),children:/*#__PURE__*/_jsxs(Form,{form:form,onFinish:onFinish,children:[/*#__PURE__*/_jsx(Row,{gutter:24,children:/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Database\",name:\"database\",rules:[{required:true,message:'Missing database name'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Username\",name:\"username\",rules:[{required:true,message:''}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Password\",name:\"password\",rules:[{required:true,message:''}],children:/*#__PURE__*/_jsx(Input.Password,{iconRender:visible=>visible?/*#__PURE__*/_jsx(EyeTwoTone,{}):/*#__PURE__*/_jsx(EyeInvisibleOutlined,{})})})]})}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loading,className:\"mt-4\",children:\"Save\"})]})});}","map":null,"metadata":{},"sourceType":"module"}