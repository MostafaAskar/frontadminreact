{"ast":null,"code":"import React,{useMemo,useState}from'react';import{steps}from'./steps';import{Card,Steps}from'antd';import ProductProperty from'./product-property';import ProductFinish from'./product-finish';import ProductStock from'./product-stock';import ProductExtras from'./product-extras';import ProductsIndex from'./products-index';import LanguageList from'../../../components/language-list';import{shallowEqual,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import ProductGallery from'./product-gallery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const{Step}=Steps;const SellerProductAdd=()=>{var _activeMenu$data,_filteredExtras$value;const{t}=useTranslation();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const[current,setCurrent]=useState(((_activeMenu$data=activeMenu.data)===null||_activeMenu$data===void 0?void 0:_activeMenu$data.step)||0);const{extras}=(activeMenu===null||activeMenu===void 0?void 0:activeMenu.data)||{};const filteredExtras=useMemo(()=>extras===null||extras===void 0?void 0:extras.find(item=>{var _item$group;return(item===null||item===void 0?void 0:(_item$group=item.group)===null||_item$group===void 0?void 0:_item$group.type)==='color';}),[extras]);const uniqueData=Array.from(new Set(filteredExtras===null||filteredExtras===void 0?void 0:(_filteredExtras$value=filteredExtras.values)===null||_filteredExtras$value===void 0?void 0:_filteredExtras$value.map(item=>item.value))).map(value=>{var _filteredExtras$value2;return filteredExtras===null||filteredExtras===void 0?void 0:(_filteredExtras$value2=filteredExtras.values)===null||_filteredExtras$value2===void 0?void 0:_filteredExtras$value2.find(item=>item.value===value);});const colorItems=uniqueData.filter(item=>item.group_type==='color');const next=()=>{const step=current+1;setCurrent(step);};const prev=()=>{const step=current-1;setCurrent(step);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{title:t('add.product'),extra:/*#__PURE__*/_jsx(LanguageList,{}),children:/*#__PURE__*/_jsx(Steps,{current:current,children:steps.map(item=>/*#__PURE__*/_jsx(Step,{title:t(item.title)},item.title))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[steps[current].content==='First-content'&&/*#__PURE__*/_jsx(ProductsIndex,{next:next}),steps[current].content==='Second-content'&&/*#__PURE__*/_jsx(ProductExtras,{next:next,prev:prev}),steps[current].content==='Third-content'&&/*#__PURE__*/_jsx(ProductStock,{next:next,prev:prev}),steps[current].content==='gallery-content'&&colorItems.length>0&&/*#__PURE__*/_jsx(ProductGallery,{next:next,prev:prev}),steps[current].content==='Fourth-content'&&/*#__PURE__*/_jsx(ProductProperty,{next:next,prev:prev}),steps[current].content==='Finish-content'&&/*#__PURE__*/_jsx(ProductFinish,{prev:prev})]})]});};export default SellerProductAdd;","map":null,"metadata":{},"sourceType":"module"}