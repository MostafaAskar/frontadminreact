{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/delivery-price/price-edit.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Form } from 'antd';\nimport { batch, shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu } from 'redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport deliveryPriceService from 'services/delivery-price';\nimport { fetchDeliveryPrice } from 'redux/slices/delivery-price';\nimport PriceForm from './price-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditDeliveryPrice = () => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    id\n  } = useParams();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n\n  const onFinish = values => {\n    const {\n      area,\n      city,\n      country,\n      region,\n      price,\n      fitting_rooms,\n      active,\n      shop_id\n    } = values;\n    const body = {\n      price,\n      fitting_rooms,\n      active: Number(active),\n      area_id: area === null || area === void 0 ? void 0 : area.value,\n      city_id: city === null || city === void 0 ? void 0 : city.value,\n      country_id: country === null || country === void 0 ? void 0 : country.value,\n      region_id: region === null || region === void 0 ? void 0 : region.value,\n      shop_id: shop_id === null || shop_id === void 0 ? void 0 : shop_id.value\n    };\n    const nextUrl = 'delivery-price';\n    return deliveryPriceService.update(id, body).then(() => {\n      toast.success(t('successfully.updated'));\n      batch(() => {\n        dispatch(removeFromMenu({ ...activeMenu,\n          nextUrl\n        }));\n        dispatch(fetchDeliveryPrice({}));\n      });\n      navigate(`/${nextUrl}`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(PriceForm, {\n    form: form,\n    handleSubmit: onFinish\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 10\n  }, this);\n};\n\n_s(EditDeliveryPrice, \"3Z44YFOrlZutC4jPKe/uraBkcH4=\", false, function () {\n  return [useTranslation, useParams, useSelector, useDispatch, Form.useForm, useNavigate];\n});\n\n_c = EditDeliveryPrice;\nexport default EditDeliveryPrice;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditDeliveryPrice\");","map":{"version":3,"names":["React","useNavigate","useParams","toast","Form","batch","shallowEqual","useDispatch","useSelector","removeFromMenu","useTranslation","deliveryPriceService","fetchDeliveryPrice","PriceForm","EditDeliveryPrice","t","id","activeMenu","state","menu","dispatch","form","useForm","navigate","onFinish","values","area","city","country","region","price","fitting_rooms","active","shop_id","body","Number","area_id","value","city_id","country_id","region_id","nextUrl","update","then","success"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/delivery-price/price-edit.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Form } from 'antd';\nimport { batch, shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu } from 'redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport deliveryPriceService from 'services/delivery-price';\nimport { fetchDeliveryPrice } from 'redux/slices/delivery-price';\nimport PriceForm from './price-form';\n\nconst EditDeliveryPrice = () => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n\n  const onFinish = (values) => {\n    const {\n      area,\n      city,\n      country,\n      region,\n      price,\n      fitting_rooms,\n      active,\n      shop_id,\n    } = values;\n    const body = {\n      price,\n      fitting_rooms,\n      active: Number(active),\n      area_id: area?.value,\n      city_id: city?.value,\n      country_id: country?.value,\n      region_id: region?.value,\n      shop_id: shop_id?.value,\n    };\n    const nextUrl = 'delivery-price';\n    return deliveryPriceService.update(id, body).then(() => {\n      toast.success(t('successfully.updated'));\n      batch(() => {\n        dispatch(removeFromMenu({ ...activeMenu, nextUrl }));\n        dispatch(fetchDeliveryPrice({}));\n      });\n      navigate(`/${nextUrl}`);\n    });\n  };\n\n  return <PriceForm form={form} handleSubmit={onFinish} />;\n};\n\nexport default EditDeliveryPrice;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,KAAT,EAAgBC,YAAhB,EAA8BC,WAA9B,EAA2CC,WAA3C,QAA8D,aAA9D;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;AACA,SAASC,kBAAT,QAAmC,6BAAnC;AACA,OAAOC,SAAP,MAAsB,cAAtB;;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;EAAA;;EAC9B,MAAM;IAAEC;EAAF,IAAQL,cAAc,EAA5B;EACA,MAAM;IAAEM;EAAF,IAASd,SAAS,EAAxB;EACA,MAAM;IAAEe;EAAF,IAAiBT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwBb,YAAxB,CAAlC;EACA,MAAMc,QAAQ,GAAGb,WAAW,EAA5B;EACA,MAAM,CAACc,IAAD,IAASjB,IAAI,CAACkB,OAAL,EAAf;EACA,MAAMC,QAAQ,GAAGtB,WAAW,EAA5B;;EAEA,MAAMuB,QAAQ,GAAIC,MAAD,IAAY;IAC3B,MAAM;MACJC,IADI;MAEJC,IAFI;MAGJC,OAHI;MAIJC,MAJI;MAKJC,KALI;MAMJC,aANI;MAOJC,MAPI;MAQJC;IARI,IASFR,MATJ;IAUA,MAAMS,IAAI,GAAG;MACXJ,KADW;MAEXC,aAFW;MAGXC,MAAM,EAAEG,MAAM,CAACH,MAAD,CAHH;MAIXI,OAAO,EAAEV,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEW,KAJJ;MAKXC,OAAO,EAAEX,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEU,KALJ;MAMXE,UAAU,EAAEX,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAES,KANV;MAOXG,SAAS,EAAEX,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEQ,KAPR;MAQXJ,OAAO,EAAEA,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEI;IARP,CAAb;IAUA,MAAMI,OAAO,GAAG,gBAAhB;IACA,OAAO9B,oBAAoB,CAAC+B,MAArB,CAA4B1B,EAA5B,EAAgCkB,IAAhC,EAAsCS,IAAtC,CAA2C,MAAM;MACtDxC,KAAK,CAACyC,OAAN,CAAc7B,CAAC,CAAC,sBAAD,CAAf;MACAV,KAAK,CAAC,MAAM;QACVe,QAAQ,CAACX,cAAc,CAAC,EAAE,GAAGQ,UAAL;UAAiBwB;QAAjB,CAAD,CAAf,CAAR;QACArB,QAAQ,CAACR,kBAAkB,CAAC,EAAD,CAAnB,CAAR;MACD,CAHI,CAAL;MAIAW,QAAQ,CAAE,IAAGkB,OAAQ,EAAb,CAAR;IACD,CAPM,CAAP;EAQD,CA9BD;;EAgCA,oBAAO,QAAC,SAAD;IAAW,IAAI,EAAEpB,IAAjB;IAAuB,YAAY,EAAEG;EAArC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAzCD;;GAAMV,iB;UACUJ,c,EACCR,S,EACQM,W,EACND,W,EACFH,IAAI,CAACkB,O,EACHrB,W;;;KANba,iB;AA2CN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}