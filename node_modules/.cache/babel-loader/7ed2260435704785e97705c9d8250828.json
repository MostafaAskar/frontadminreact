{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/pos-system/components/pos-user-address.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, Form, Input, Modal } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport Map from '../../../../components/map';\nimport getDefaultLocation from '../../../../helpers/getDefaultLocation';\nimport { getCartData } from '../../../../redux/selectors/cartSelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PosUserAddress(_ref) {\n  _s();\n\n  var _parentFormValues$loc, _parentFormValues$loc2, _parentFormValues$loc3;\n\n  let {\n    uuid,\n    handleCancel,\n    parentForm\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const [form] = Form.useForm();\n  const {\n    defaultLang\n  } = useSelector(state => state.formLang, shallowEqual);\n  const {\n    currentBag\n  } = useSelector(state => state.cart, shallowEqual);\n  const {\n    settings\n  } = useSelector(state => state.globalSettings, shallowEqual);\n  const parentFormValues = parentForm.getFieldsValue();\n  const [location, setLocation] = useState((_parentFormValues$loc = parentFormValues.location) !== null && _parentFormValues$loc !== void 0 && _parentFormValues$loc.latitude ? {\n    lat: (_parentFormValues$loc2 = parentFormValues.location) === null || _parentFormValues$loc2 === void 0 ? void 0 : _parentFormValues$loc2.latitude,\n    lng: (_parentFormValues$loc3 = parentFormValues.location) === null || _parentFormValues$loc3 === void 0 ? void 0 : _parentFormValues$loc3.longitude\n  } : getDefaultLocation(settings));\n\n  const onFinish = values => {\n    const body = {\n      address: {\n        address: values === null || values === void 0 ? void 0 : values[`address[${defaultLang}]`]\n      },\n      location: {\n        latitude: location.lat,\n        longitude: location.lng\n      }\n    };\n    parentForm.setFieldsValue(body);\n    handleCancel();\n  };\n\n  useEffect(() => {\n    form.setFieldsValue({\n      address: parentFormValues.address.address || null\n    });\n  }, [currentBag]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: !!uuid,\n    title: t('create.address'),\n    onCancel: handleCancel,\n    footer: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => form.submit(),\n      children: t('save')\n    }, 'saveBtn', false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"default\",\n      onClick: handleCancel,\n      children: t('cancel')\n    }, 'cancelBtn', false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      layout: \"vertical\",\n      name: \"user-address\",\n      form: form,\n      onFinish: onFinish,\n      initialValues: {\n        [`address[${defaultLang}]`]: parentFormValues.address.address\n      },\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"address\",\n        label: t('address'),\n        rules: [{\n          required: true,\n          message: t('required')\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: t('map'),\n        children: /*#__PURE__*/_jsxDEV(Map, {\n          location: location,\n          setLocation: setLocation,\n          setAddress: value => form.setFieldsValue({\n            address: value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PosUserAddress, \"g7R0PCyGYgA6t7xayYBddExMlxA=\", false, function () {\n  return [useTranslation, Form.useForm, useSelector, useSelector, useSelector];\n});\n\n_c = PosUserAddress;\n\nvar _c;\n\n$RefreshReg$(_c, \"PosUserAddress\");","map":{"version":3,"names":["React","useState","useEffect","Button","Form","Input","Modal","shallowEqual","useDispatch","useSelector","useTranslation","Map","getDefaultLocation","getCartData","PosUserAddress","uuid","handleCancel","parentForm","t","form","useForm","defaultLang","state","formLang","currentBag","cart","settings","globalSettings","parentFormValues","getFieldsValue","location","setLocation","latitude","lat","lng","longitude","onFinish","values","body","address","setFieldsValue","submit","required","message","value"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/pos-system/components/pos-user-address.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Form, Input, Modal } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport Map from '../../../../components/map';\nimport getDefaultLocation from '../../../../helpers/getDefaultLocation';\nimport { getCartData } from '../../../../redux/selectors/cartSelector';\n\nexport default function PosUserAddress({ uuid, handleCancel, parentForm }) {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n  const { defaultLang } = useSelector((state) => state.formLang, shallowEqual);\n  const { currentBag } = useSelector((state) => state.cart, shallowEqual);\n  const { settings } = useSelector(\n    (state) => state.globalSettings,\n    shallowEqual,\n  );\n  const parentFormValues = parentForm.getFieldsValue();\n\n  const [location, setLocation] = useState(\n    parentFormValues.location?.latitude\n      ? {\n          lat: parentFormValues.location?.latitude,\n          lng: parentFormValues.location?.longitude,\n        }\n      : getDefaultLocation(settings),\n  );\n\n  const onFinish = (values) => {\n    const body = {\n      address: { address: values?.[`address[${defaultLang}]`] },\n      location: {\n        latitude: location.lat,\n        longitude: location.lng,\n      },\n    };\n\n    parentForm.setFieldsValue(body);\n    handleCancel();\n  };\n\n  useEffect(() => {\n    form.setFieldsValue({\n      address: parentFormValues.address.address || null,\n    });\n  }, [currentBag]);\n\n  return (\n    <Modal\n      visible={!!uuid}\n      title={t('create.address')}\n      onCancel={handleCancel}\n      footer={[\n        <Button type='primary' key={'saveBtn'} onClick={() => form.submit()}>\n          {t('save')}\n        </Button>,\n        <Button type='default' key={'cancelBtn'} onClick={handleCancel}>\n          {t('cancel')}\n        </Button>,\n      ]}\n    >\n      <Form\n        layout='vertical'\n        name='user-address'\n        form={form}\n        onFinish={onFinish}\n        initialValues={{\n          [`address[${defaultLang}]`]: parentFormValues.address.address,\n        }}\n      >\n        <Form.Item\n          name='address'\n          label={t('address')}\n          rules={[{ required: true, message: t('required') }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item label={t('map')}>\n          <Map\n            location={location}\n            setLocation={setLocation}\n            setAddress={(value) => form.setFieldsValue({ address: value })}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}