{"ast":null,"code":"import React,{useState,useMemo}from'react';import debounce from'lodash/debounce';import{Select,Spin}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";export const RefetchSearch=_ref=>{let{fetchOptions,debounceTimeout=400,refetch=false,...props}=_ref;const[fetching,setFetching]=useState(false);const[options,setOptions]=useState([]);const debounceFetcher=useMemo(()=>{const loadOptions=value=>{setOptions([]);setFetching(true);fetchOptions(value).then(newOptions=>{setOptions(newOptions);setFetching(false);});};return debounce(loadOptions,debounceTimeout);},[fetchOptions,debounceTimeout]);const fetchOnFocus=()=>{if(!options.length||refetch){debounceFetcher('');}};return/*#__PURE__*/_jsx(Select,{showSearch:true,allowClear:true,labelInValue:true,onClear:()=>debounceFetcher(''),filterOption:false,onSearch:debounceFetcher,notFoundContent:fetching?/*#__PURE__*/_jsx(Spin,{size:\"small\"}):'no results',...props,options:options,onFocus:fetchOnFocus});};","map":null,"metadata":{},"sourceType":"module"}