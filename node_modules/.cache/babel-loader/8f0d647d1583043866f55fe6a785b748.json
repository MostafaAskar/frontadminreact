{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/advert/assign-product.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Button, Col, Form, Modal, Row } from 'antd';\nimport { DebounceSelect } from 'components/search';\nimport { useTranslation } from 'react-i18next';\nimport productService from 'services/seller/product';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AssignProduct = _ref => {\n  _s();\n\n  let {\n    form,\n    id,\n    onClose,\n    handlePurchase,\n    loading\n  } = _ref;\n  const {\n    t\n  } = useTranslation(); //functions\n\n  function fetchProductsOptions(search) {\n    const params = {\n      search,\n      perPage: 10,\n      status: 'published'\n    };\n    return productService.getAll(params).then(res => formatProduct(res.data));\n  } //helper functions\n\n\n  function formatProduct(data) {\n    return data.map(item => {\n      var _item$translation;\n\n      return {\n        label: item === null || item === void 0 ? void 0 : (_item$translation = item.translation) === null || _item$translation === void 0 ? void 0 : _item$translation.title,\n        value: item.id,\n        key: item.id\n      };\n    });\n  } //submit form\n\n\n  const onFinish = values => {\n    var _values$products;\n\n    const product_ids = values === null || values === void 0 ? void 0 : (_values$products = values.products) === null || _values$products === void 0 ? void 0 : _values$products.map(item => item.value);\n    handlePurchase({\n      ads_package_id: id,\n      product_ids\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: !!id,\n    title: t('ad.detail'),\n    onCancel: onClose,\n    footer: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: onClose,\n      children: t('close')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      name: \"banner-form\",\n      layout: \"vertical\",\n      onFinish: onFinish,\n      form: form,\n      initialValues: {\n        clickable: true\n      },\n      className: \"d-flex flex-column h-100\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        gutter: 24,\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 24,\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: t('products'),\n            name: 'products',\n            rules: [{\n              required: true,\n              message: t('required')\n            }],\n            children: /*#__PURE__*/_jsxDEV(DebounceSelect, {\n              mode: \"multiple\",\n              fetchOptions: fetchProductsOptions,\n              debounceTimeout: 200\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow-1 d-flex flex-column justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pb-5\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: loading,\n            children: t('submit')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AssignProduct, \"zlIdU9EjM2llFt74AbE2KsUJXyM=\", false, function () {\n  return [useTranslation];\n});\n\n_c = AssignProduct;\nexport default AssignProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssignProduct\");","map":{"version":3,"names":["React","Button","Col","Form","Modal","Row","DebounceSelect","useTranslation","productService","AssignProduct","form","id","onClose","handlePurchase","loading","t","fetchProductsOptions","search","params","perPage","status","getAll","then","res","formatProduct","data","map","item","label","translation","title","value","key","onFinish","values","product_ids","products","ads_package_id","clickable","required","message"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/advert/assign-product.js"],"sourcesContent":["import React from 'react';\nimport { Button, Col, Form, Modal, Row } from 'antd';\nimport { DebounceSelect } from 'components/search';\nimport { useTranslation } from 'react-i18next';\nimport productService from 'services/seller/product';\n\nconst AssignProduct = ({ form, id, onClose, handlePurchase, loading }) => {\n  const { t } = useTranslation();\n  //functions\n  function fetchProductsOptions(search) {\n    const params = {\n      search,\n      perPage: 10,\n      status: 'published',\n    };\n    return productService.getAll(params).then((res) => formatProduct(res.data));\n  }\n\n  //helper functions\n  function formatProduct(data) {\n    return data.map((item) => ({\n      label: item?.translation?.title,\n      value: item.id,\n      key: item.id,\n    }));\n  }\n\n  //submit form\n  const onFinish = (values) => {\n    const product_ids = values?.products?.map((item) => item.value);\n    handlePurchase({ ads_package_id: id, product_ids });\n  };\n\n  return (\n    <Modal\n      visible={!!id}\n      title={t('ad.detail')}\n      onCancel={onClose}\n      footer={[<Button onClick={onClose}>{t('close')}</Button>]}\n    >\n      <Form\n        name='banner-form'\n        layout='vertical'\n        onFinish={onFinish}\n        form={form}\n        initialValues={{ clickable: true }}\n        className='d-flex flex-column h-100'\n      >\n        <Row gutter={24}>\n          <Col span={24}>\n            <Form.Item\n              label={t('products')}\n              name={'products'}\n              rules={[{ required: true, message: t('required') }]}\n            >\n              <DebounceSelect\n                mode='multiple'\n                fetchOptions={fetchProductsOptions}\n                debounceTimeout={200}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <div className='flex-grow-1 d-flex flex-column justify-content-end'>\n          <div className='pb-5'>\n            <Button type='primary' htmlType='submit' loading={loading}>\n              {t('submit')}\n            </Button>\n          </div>\n        </div>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default AssignProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}