{"ast":null,"code":"import React,{useState}from'react';import{Button,Col,Form,Input,InputNumber,Modal,Row,Switch}from'antd';import{useTranslation}from'react-i18next';import subscriptionService from'../../services/subscriptions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SubscriptionEditModal(_ref){let{modal,handleCancel,refetch}=_ref;const[form]=Form.useForm();const{t}=useTranslation();const[loadingBtn,setLoadingBtn]=useState(false);const onFinish=values=>{const payload={...values,active:Number(values.active),with_report:Number(values.with_report),type:'shop'};setLoadingBtn(true);subscriptionService.create(payload).then(()=>{handleCancel();refetch();}).finally(()=>setLoadingBtn(false));};return/*#__PURE__*/_jsx(Modal,{visible:!!modal,title:t('add.subscription'),onCancel:handleCancel,style:{minWidth:800},footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>form.submit(),loading:loadingBtn,children:t('save')},'save-btn'),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')},'cancel-btn')],children:/*#__PURE__*/_jsx(Form,{form:form,layout:\"vertical\",onFinish:onFinish,initialValues:{active:true,with_report:true,...modal},children:/*#__PURE__*/_jsxs(Row,{gutter:12,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('title'),name:\"title\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(Input,{})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('period'),name:\"month\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,max:12,className:\"w-100\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('product_limit'),name:\"product_limit\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,className:\"w-100\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('order_limit'),name:\"order_limit\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,className:\"w-100\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('price'),name:\"price\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,className:\"w-100\"})})}),/*#__PURE__*/_jsx(Col,{span:12}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('with_report'),name:\"with_report\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(Switch,{})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('active'),name:\"active\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Switch,{})})})]})})});}","map":null,"metadata":{},"sourceType":"module"}