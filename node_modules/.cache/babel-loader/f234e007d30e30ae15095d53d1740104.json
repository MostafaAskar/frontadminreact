{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/global-settings/database-info.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Card, Col, Form, Input, Row } from 'antd';\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\nimport installationService from '../../services/installation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DatabaseInfo(_ref) {\n  _s();\n\n  let {\n    next\n  } = _ref;\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState();\n\n  function databaseMigration() {\n    installationService.migrationRun().then(res => res);\n  }\n\n  const onFinish = values => {\n    const data = { ...values,\n      env: 1\n    };\n    setLoading(true);\n    installationService.updateDatabase(data).then(() => {\n      next();\n      databaseMigration();\n    }).finally(() => setLoading(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Database info\",\n    className: \"w-100\",\n    extra: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Fill database credentials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 14\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        gutter: 24,\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Database\",\n            name: \"database\",\n            rules: [{\n              required: true,\n              message: 'Missing database name'\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Username\",\n            name: \"username\",\n            rules: [{\n              required: true,\n              message: ''\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Password\",\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: ''\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {\n              iconRender: visible => visible ? /*#__PURE__*/_jsxDEV(EyeTwoTone, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 29\n              }, this) : /*#__PURE__*/_jsxDEV(EyeInvisibleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        loading: loading,\n        className: \"mt-4\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DatabaseInfo, \"H96r+LC60a1lr2H3FYZYWr0lmLg=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = DatabaseInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"DatabaseInfo\");","map":{"version":3,"names":["React","useState","Button","Card","Col","Form","Input","Row","EyeInvisibleOutlined","EyeTwoTone","installationService","DatabaseInfo","next","form","useForm","loading","setLoading","databaseMigration","migrationRun","then","res","onFinish","values","data","env","updateDatabase","finally","required","message","visible"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/global-settings/database-info.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Card, Col, Form, Input, Row } from 'antd';\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\nimport installationService from '../../services/installation';\n\nexport default function DatabaseInfo({ next }) {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState();\n\n  function databaseMigration() {\n    installationService\n      .migrationRun()\n      .then((res) => res);\n  }\n\n  const onFinish = (values) => {\n    const data = {\n      ...values,\n      env: 1,\n    };\n    setLoading(true);\n    installationService\n      .updateDatabase(data)\n      .then(() => {\n        next();\n        databaseMigration();\n      })\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <Card\n      title='Database info'\n      className='w-100'\n      extra={<p>Fill database credentials</p>}\n    >\n      <Form form={form} onFinish={onFinish}>\n        <Row gutter={24}>\n          <Col span={12}>\n            <Form.Item\n              label='Database'\n              name='database'\n              rules={[{ required: true, message: 'Missing database name' }]}\n            >\n              <Input />\n            </Form.Item>\n            <Form.Item\n              label='Username'\n              name='username'\n              rules={[{ required: true, message: '' }]}\n            >\n              <Input />\n            </Form.Item>\n            <Form.Item\n              label='Password'\n              name='password'\n              rules={[{ required: true, message: '' }]}\n            >\n              <Input.Password\n                iconRender={(visible) =>\n                  visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />\n                }\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Button\n          type='primary'\n          htmlType='submit'\n          loading={loading}\n          className='mt-4'\n        >\n          Save\n        </Button>\n      </Form>\n    </Card>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,GAAvB,EAA4BC,IAA5B,EAAkCC,KAAlC,EAAyCC,GAAzC,QAAoD,MAApD;AACA,SAASC,oBAAT,EAA+BC,UAA/B,QAAiD,mBAAjD;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;;AAEA,eAAe,SAASC,YAAT,OAAgC;EAAA;;EAAA,IAAV;IAAEC;EAAF,CAAU;EAC7C,MAAM,CAACC,IAAD,IAASR,IAAI,CAACS,OAAL,EAAf;EACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,EAAtC;;EAEA,SAASgB,iBAAT,GAA6B;IAC3BP,mBAAmB,CAChBQ,YADH,GAEGC,IAFH,CAESC,GAAD,IAASA,GAFjB;EAGD;;EAED,MAAMC,QAAQ,GAAIC,MAAD,IAAY;IAC3B,MAAMC,IAAI,GAAG,EACX,GAAGD,MADQ;MAEXE,GAAG,EAAE;IAFM,CAAb;IAIAR,UAAU,CAAC,IAAD,CAAV;IACAN,mBAAmB,CAChBe,cADH,CACkBF,IADlB,EAEGJ,IAFH,CAEQ,MAAM;MACVP,IAAI;MACJK,iBAAiB;IAClB,CALH,EAMGS,OANH,CAMW,MAAMV,UAAU,CAAC,KAAD,CAN3B;EAOD,CAbD;;EAeA,oBACE,QAAC,IAAD;IACE,KAAK,EAAC,eADR;IAEE,SAAS,EAAC,OAFZ;IAGE,KAAK,eAAE;MAAA,UAAG;IAAH;MAAA;MAAA;MAAA;IAAA,QAHT;IAAA,uBAKE,QAAC,IAAD;MAAM,IAAI,EAAEH,IAAZ;MAAkB,QAAQ,EAAEQ,QAA5B;MAAA,wBACE,QAAC,GAAD;QAAK,MAAM,EAAE,EAAb;QAAA,uBACE,QAAC,GAAD;UAAK,IAAI,EAAE,EAAX;UAAA,wBACE,QAAC,IAAD,CAAM,IAAN;YACE,KAAK,EAAC,UADR;YAEE,IAAI,EAAC,UAFP;YAGE,KAAK,EAAE,CAAC;cAAEM,QAAQ,EAAE,IAAZ;cAAkBC,OAAO,EAAE;YAA3B,CAAD,CAHT;YAAA,uBAKE,QAAC,KAAD;cAAA;cAAA;cAAA;YAAA;UALF;YAAA;YAAA;YAAA;UAAA,QADF,eAQE,QAAC,IAAD,CAAM,IAAN;YACE,KAAK,EAAC,UADR;YAEE,IAAI,EAAC,UAFP;YAGE,KAAK,EAAE,CAAC;cAAED,QAAQ,EAAE,IAAZ;cAAkBC,OAAO,EAAE;YAA3B,CAAD,CAHT;YAAA,uBAKE,QAAC,KAAD;cAAA;cAAA;cAAA;YAAA;UALF;YAAA;YAAA;YAAA;UAAA,QARF,eAeE,QAAC,IAAD,CAAM,IAAN;YACE,KAAK,EAAC,UADR;YAEE,IAAI,EAAC,UAFP;YAGE,KAAK,EAAE,CAAC;cAAED,QAAQ,EAAE,IAAZ;cAAkBC,OAAO,EAAE;YAA3B,CAAD,CAHT;YAAA,uBAKE,QAAC,KAAD,CAAO,QAAP;cACE,UAAU,EAAGC,OAAD,IACVA,OAAO,gBAAG,QAAC,UAAD;gBAAA;gBAAA;gBAAA;cAAA,QAAH,gBAAoB,QAAC,oBAAD;gBAAA;gBAAA;gBAAA;cAAA;YAF/B;cAAA;cAAA;cAAA;YAAA;UALF;YAAA;YAAA;YAAA;UAAA,QAfF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eA8BE,QAAC,MAAD;QACE,IAAI,EAAC,SADP;QAEE,QAAQ,EAAC,QAFX;QAGE,OAAO,EAAEd,OAHX;QAIE,SAAS,EAAC,MAJZ;QAAA,UAKC;MALD;QAAA;QAAA;QAAA;MAAA,QA9BF;IAAA;MAAA;MAAA;MAAA;IAAA;EALF;IAAA;IAAA;IAAA;EAAA,QADF;AA+CD;;GAxEuBJ,Y;UACPN,IAAI,CAACS,O;;;KADEH,Y"},"metadata":{},"sourceType":"module"}