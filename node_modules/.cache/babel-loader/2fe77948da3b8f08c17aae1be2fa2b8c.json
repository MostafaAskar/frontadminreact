{"ast":null,"code":"import React,{useState}from'react';import{Form,Input,Card,Row,Col,Button}from'antd';import{EyeInvisibleOutlined,EyeTwoTone}from'@ant-design/icons';import installationService from'../../services/installation';import{useDispatch}from'react-redux';import{setUserData}from'../../redux/slices/auth';import{data}from'../../configs/menu-config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserInfo(){const[form]=Form.useForm();const[loading,setLoading]=useState(false);const dispatch=useDispatch();const onFinish=values=>{setLoading(true);installationService.createAdmin(values).then(res=>{const user={fullName:res.data.user.firstname+' '+res.data.user.lastname,role:res.data.user.role,urls:data[res.data.user.role],img:'',token:res.data.access_token,email:res.data.user.email,id:res.data.user.id};dispatch(setUserData(user));localStorage.setItem('token',res.data.access_token);}).finally(()=>setLoading(false));};return/*#__PURE__*/_jsx(Card,{title:\"User info\",extra:/*#__PURE__*/_jsx(\"p\",{children:\"Fill admin credentials\"}),className:\"w-100\",children:/*#__PURE__*/_jsxs(Form,{form:form,onFinish:onFinish,children:[/*#__PURE__*/_jsx(Row,{gutter:24,children:/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"First name\",name:\"firstname\",rules:[{required:true,message:'Missing user firstname'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Last name\",name:\"lastname\",rules:[{required:true,message:'Missing user lastname'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Email\",name:\"email\",rules:[{required:true,message:'Missing user email'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Phone\",name:\"phone\",rules:[{required:true,message:'Missing user phone'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Password\",name:\"password\",rules:[{required:true,message:'Missing password'}],children:/*#__PURE__*/_jsx(Input.Password,{id:\"password\",iconRender:visible=>visible?/*#__PURE__*/_jsx(EyeTwoTone,{}):/*#__PURE__*/_jsx(EyeInvisibleOutlined,{})})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Password confirmation\",name:\"password_confirmation\",rules:[{required:true,message:'Missing password confirmation'},_ref=>{let{getFieldValue}=_ref;return{validator(rule,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject('Password does not match!');}};}],children:/*#__PURE__*/_jsx(Input.Password,{id:\"password_confirmation\",iconRender:visible=>visible?/*#__PURE__*/_jsx(EyeTwoTone,{}):/*#__PURE__*/_jsx(EyeInvisibleOutlined,{})})})]})}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loading,className:\"mt-4\",children:\"Submit\"})]})});}","map":null,"metadata":{},"sourceType":"module"}