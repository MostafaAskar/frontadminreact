{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/order-status/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Switch, Table } from 'antd';\nimport GlobalContainer from '../../components/global-container';\nimport CustomModal from '../../components/modal';\nimport { Context } from '../../context/context';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport OrderStatusService from '../../services/orderStatus';\nimport { fetchOrderStatus } from '../../redux/slices/orderStatus';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderStatus = () => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const columns = [{\n    title: t('id'),\n    dataIndex: 'id',\n    key: 'id'\n  }, {\n    title: t('name'),\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: t('active'),\n    dataIndex: 'active',\n    key: 'active',\n    render: (active, row) => {\n      return /*#__PURE__*/_jsxDEV(Switch, {\n        onChange: () => {\n          setIsModalVisible(true);\n          setActiveId(row.id);\n        },\n        checked: active,\n        disabled: row.name === 'canceled' || row.name === 'delivered' || row.name === 'accepted'\n      }, row.id + active, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  const {\n    setIsModalVisible\n  } = useContext(Context);\n  const [activeId, setActiveId] = useState(null);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    statusList,\n    loading\n  } = useSelector(state => state.orderStatus, shallowEqual);\n\n  const handleActive = () => {\n    setLoadingBtn(true);\n    OrderStatusService.status(activeId).then(() => {\n      setIsModalVisible(false);\n      dispatch(fetchOrderStatus());\n      toast.success(t('successfully.updated'));\n    }).finally(() => setLoadingBtn(false));\n  };\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchOrderStatus());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n  return /*#__PURE__*/_jsxDEV(GlobalContainer, {\n    headerTitle: t('order.status'),\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      scroll: {\n        x: true\n      },\n      columns: columns,\n      dataSource: statusList,\n      rowKey: record => record.id,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      click: handleActive,\n      text: t('set.active.order.status'),\n      loading: loadingBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderStatus, \"tmJtiEf1S/21FnNuxPPlPk2CZUw=\", false, function () {\n  return [useTranslation, useDispatch, useSelector, useSelector];\n});\n\n_c = OrderStatus;\nexport default OrderStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderStatus\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Switch","Table","GlobalContainer","CustomModal","Context","shallowEqual","useDispatch","useSelector","disableRefetch","OrderStatusService","fetchOrderStatus","toast","useTranslation","OrderStatus","t","dispatch","columns","title","dataIndex","key","render","active","row","setIsModalVisible","setActiveId","id","name","activeId","loadingBtn","setLoadingBtn","activeMenu","state","menu","statusList","loading","orderStatus","handleActive","status","then","success","finally","refetch","x","record"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/order-status/index.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Switch, Table } from 'antd';\nimport GlobalContainer from '../../components/global-container';\nimport CustomModal from '../../components/modal';\nimport { Context } from '../../context/context';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport OrderStatusService from '../../services/orderStatus';\nimport { fetchOrderStatus } from '../../redux/slices/orderStatus';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\n\nconst OrderStatus = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const columns = [\n    {\n      title: t('id'),\n      dataIndex: 'id',\n      key: 'id',\n    },\n    {\n      title: t('name'),\n      dataIndex: 'name',\n      key: 'name',\n    },\n    {\n      title: t('active'),\n      dataIndex: 'active',\n      key: 'active',\n      render: (active, row) => {\n    \n        return (\n          <Switch\n            key={row.id + active}\n            onChange={() => {\n              setIsModalVisible(true);\n              setActiveId(row.id);\n            }}\n            checked={active}\n            disabled={\n              row.name === 'canceled' ||\n              row.name === 'delivered' ||\n              row.name === 'accepted'\n            }\n          />\n        );\n      },\n    },\n  ];\n\n  const { setIsModalVisible } = useContext(Context);\n  const [activeId, setActiveId] = useState(null);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { statusList, loading } = useSelector(\n    (state) => state.orderStatus,\n    shallowEqual\n  );\n\n  const handleActive = () => {\n    setLoadingBtn(true);\n    OrderStatusService.status(activeId)\n      .then(() => {\n        setIsModalVisible(false);\n        dispatch(fetchOrderStatus());\n        toast.success(t('successfully.updated'));\n      })\n      .finally(() => setLoadingBtn(false));\n  };\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchOrderStatus());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n\n  return (\n    <GlobalContainer headerTitle={t('order.status')}>\n      <Table\n        scroll={{ x: true }}\n        columns={columns}\n        dataSource={statusList}\n        rowKey={(record) => record.id}\n        loading={loading}\n      />\n      <CustomModal\n        click={handleActive}\n        text={t('set.active.order.status')}\n        loading={loadingBtn}\n      />\n    </GlobalContainer>\n  );\n};\n\nexport default OrderStatus;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}