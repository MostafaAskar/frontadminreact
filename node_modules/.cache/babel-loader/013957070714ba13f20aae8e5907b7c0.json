{"ast":null,"code":"import{DownloadOutlined}from'@ant-design/icons';import{Button}from'antd';import{QRCodeCanvas}from'qrcode.react';import React,{useRef}from'react';import{useTranslation}from'react-i18next';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const baseUrl='https://qr-code-rho-bay.vercel.app';const TableQrCode=_ref=>{let{table}=_ref;const{settings}=useSelector(state=>state.globalSettings);const{t}=useTranslation();const qrRef=useRef();const params=new URLSearchParams({shop_id:table.shop_section.shop_id,table_id:table.id,chair_count:table.chair_count,name:table.name});const qrCodeType=!!(settings!==null&&settings!==void 0&&settings.qrcode_type)&&settings.qrcode_type!=='w1'?settings.qrcode_type:'';const url=`${(settings===null||settings===void 0?void 0:settings.qrcode_base_url)||baseUrl}${qrCodeType}?${params.toString()}`;const downloadQRCode=e=>{e.preventDefault();let canvas=qrRef.current.querySelector('canvas');let image=canvas.toDataURL('image/png');let anchor=document.createElement('a');anchor.href=image;anchor.download=`qr-code.png`;document.body.appendChild(anchor);anchor.click();document.body.removeChild(anchor);};return/*#__PURE__*/_jsx(\"form\",{onSubmit:downloadQRCode,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsx(\"div\",{ref:qrRef,children:/*#__PURE__*/_jsx(QRCodeCanvas,{size:500,id:\"qrCode\",includeMargin:true,value:url,style:{width:'100%',aspectRatio:'1/1',height:'100%'},bgColor:'#fff',level:'H'})})}),/*#__PURE__*/_jsx(Button,{htmlType:\"submit\",disabled:!table,icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),type:\"primary\",children:t('download')})]})});};export default TableQrCode;","map":null,"metadata":{},"sourceType":"module"}