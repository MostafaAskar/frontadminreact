{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/map.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { GoogleApiWrapper, Map, Marker } from 'google-maps-react';\nimport { MAP_API_KEY } from '../configs/app-global';\nimport pinIcon from '../assets/images/pin.png';\nimport getAddressFromLocation from '../helpers/getAddressFromLocation';\nimport { BiCurrentLocation } from 'react-icons/bi';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GoogleMap(props) {\n  _s();\n\n  const [loc, setLoc] = useState();\n  const {\n    t\n  } = useTranslation();\n\n  const onClickMap = async (t, map, coord) => {\n    const {\n      latLng\n    } = coord;\n    const location = {\n      lat: latLng.lat(),\n      lng: latLng.lng()\n    };\n    props.setLocation(location);\n    const address = await getAddressFromLocation(location, MAP_API_KEY);\n    props.setAddress(address);\n  };\n\n  const handleSubmit = async event => {\n    const location = {\n      lat: event === null || event === void 0 ? void 0 : event.lat,\n      lng: event === null || event === void 0 ? void 0 : event.lng\n    };\n    props.setLocation(location);\n    const address = await getAddressFromLocation(location, MAP_API_KEY);\n    props.setAddress(address);\n  };\n\n  const currentLocation = async () => {\n    await navigator.geolocation.getCurrentPosition(function (position) {\n      const location = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      setLoc(location);\n    }, function (error) {\n      toast.warning(t('turn.on.gps'));\n    });\n  };\n\n  useEffect(() => {\n    currentLocation();\n  }, []);\n  const markers = [{\n    lat: Number(props.location.lat) || 0,\n    lng: Number(props.location.lng) || 0\n  }];\n  var bounds = new props.google.maps.LatLngBounds();\n\n  for (var i = 0; i < markers.length; i++) {\n    bounds.extend(markers[i]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    style: {\n      height: 400,\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"map-button\",\n      type: \"button\",\n      onClick: () => {\n        currentLocation();\n\n        if (loc) {\n          handleSubmit(loc);\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(BiCurrentLocation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Map, {\n      cursor: 'pointer',\n      onClick: onClickMap,\n      google: props.google,\n      defaultZoom: 12,\n      zoom: 10,\n      className: \"clickable\",\n      initialCenter: props.location,\n      center: props.location // bounds={bounds}\n      ,\n      children: /*#__PURE__*/_jsxDEV(Marker, {\n        position: props.location,\n        icon: {\n          url: pinIcon,\n          scaledSize: new props.google.maps.Size(32, 32)\n        },\n        className: \"marker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GoogleMap, \"OQvxYzSFxRiODSgl120QEenzLNI=\", false, function () {\n  return [useTranslation];\n});\n\n_c = GoogleMap;\nexport default GoogleApiWrapper({\n  apiKey: MAP_API_KEY\n})(GoogleMap);\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleMap\");","map":{"version":3,"names":["React","useEffect","useState","GoogleApiWrapper","Map","Marker","MAP_API_KEY","pinIcon","getAddressFromLocation","BiCurrentLocation","toast","useTranslation","GoogleMap","props","loc","setLoc","t","onClickMap","map","coord","latLng","location","lat","lng","setLocation","address","setAddress","handleSubmit","event","currentLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","error","warning","markers","Number","bounds","google","maps","LatLngBounds","i","length","extend","height","width","url","scaledSize","Size","apiKey"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/map.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { GoogleApiWrapper, Map, Marker } from 'google-maps-react';\nimport { MAP_API_KEY } from '../configs/app-global';\nimport pinIcon from '../assets/images/pin.png';\nimport getAddressFromLocation from '../helpers/getAddressFromLocation';\nimport { BiCurrentLocation } from 'react-icons/bi';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\n\nfunction GoogleMap(props) {\n  const [loc, setLoc] = useState();\n  const { t } = useTranslation();\n\n  const onClickMap = async (t, map, coord) => {\n    const { latLng } = coord;\n    const location = {\n      lat: latLng.lat(),\n      lng: latLng.lng(),\n    };\n    props.setLocation(location);\n    const address = await getAddressFromLocation(location, MAP_API_KEY);\n    props.setAddress(address);\n  };\n\n  const handleSubmit = async (event) => {\n    const location = {\n      lat: event?.lat,\n      lng: event?.lng,\n    };\n    props.setLocation(location);\n    const address = await getAddressFromLocation(location, MAP_API_KEY);\n    props.setAddress(address);\n  };\n\n  const currentLocation = async () => {\n    await navigator.geolocation.getCurrentPosition(\n      function (position) {\n        const location = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        };\n        setLoc(location);\n      },\n      function (error) {\n        toast.warning(t('turn.on.gps'));\n      },\n    );\n  };\n\n  useEffect(() => {\n    currentLocation();\n  }, []);\n\n  const markers = [\n    {\n      lat: Number(props.location.lat) || 0,\n      lng: Number(props.location.lng) || 0,\n    },\n  ];\n\n  var bounds = new props.google.maps.LatLngBounds();\n  for (var i = 0; i < markers.length; i++) {\n    bounds.extend(markers[i]);\n  }\n  return (\n    <div className='map-container' style={{ height: 400, width: '100%' }}>\n      <button\n        className='map-button'\n        type='button'\n        onClick={() => {\n          currentLocation();\n          if (loc) {\n            handleSubmit(loc);\n          }\n        }}\n      >\n        <BiCurrentLocation />\n      </button>\n      <Map\n        cursor={'pointer'}\n        onClick={onClickMap}\n        google={props.google}\n        defaultZoom={12}\n        zoom={10}\n        className='clickable'\n        initialCenter={props.location}\n        center={props.location}\n        // bounds={bounds}\n      >\n        <Marker\n          position={props.location}\n          icon={{\n            url: pinIcon,\n            scaledSize: new props.google.maps.Size(32, 32),\n          }}\n          className='marker'\n        />\n      </Map>\n    </div>\n  );\n}\n\nexport default GoogleApiWrapper({\n  apiKey: MAP_API_KEY,\n})(GoogleMap);\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,gBAAT,EAA2BC,GAA3B,EAAgCC,MAAhC,QAA8C,mBAA9C;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,sBAAP,MAAmC,mCAAnC;AACA,SAASC,iBAAT,QAAkC,gBAAlC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,cAAT,QAA+B,eAA/B;;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;EAAA;;EACxB,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBb,QAAQ,EAA9B;EACA,MAAM;IAAEc;EAAF,IAAQL,cAAc,EAA5B;;EAEA,MAAMM,UAAU,GAAG,OAAOD,CAAP,EAAUE,GAAV,EAAeC,KAAf,KAAyB;IAC1C,MAAM;MAAEC;IAAF,IAAaD,KAAnB;IACA,MAAME,QAAQ,GAAG;MACfC,GAAG,EAAEF,MAAM,CAACE,GAAP,EADU;MAEfC,GAAG,EAAEH,MAAM,CAACG,GAAP;IAFU,CAAjB;IAIAV,KAAK,CAACW,WAAN,CAAkBH,QAAlB;IACA,MAAMI,OAAO,GAAG,MAAMjB,sBAAsB,CAACa,QAAD,EAAWf,WAAX,CAA5C;IACAO,KAAK,CAACa,UAAN,CAAiBD,OAAjB;EACD,CATD;;EAWA,MAAME,YAAY,GAAG,MAAOC,KAAP,IAAiB;IACpC,MAAMP,QAAQ,GAAG;MACfC,GAAG,EAAEM,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEN,GADG;MAEfC,GAAG,EAAEK,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEL;IAFG,CAAjB;IAIAV,KAAK,CAACW,WAAN,CAAkBH,QAAlB;IACA,MAAMI,OAAO,GAAG,MAAMjB,sBAAsB,CAACa,QAAD,EAAWf,WAAX,CAA5C;IACAO,KAAK,CAACa,UAAN,CAAiBD,OAAjB;EACD,CARD;;EAUA,MAAMI,eAAe,GAAG,YAAY;IAClC,MAAMC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACJ,UAAUC,QAAV,EAAoB;MAClB,MAAMZ,QAAQ,GAAG;QACfC,GAAG,EAAEW,QAAQ,CAACC,MAAT,CAAgBC,QADN;QAEfZ,GAAG,EAAEU,QAAQ,CAACC,MAAT,CAAgBE;MAFN,CAAjB;MAIArB,MAAM,CAACM,QAAD,CAAN;IACD,CAPG,EAQJ,UAAUgB,KAAV,EAAiB;MACf3B,KAAK,CAAC4B,OAAN,CAActB,CAAC,CAAC,aAAD,CAAf;IACD,CAVG,CAAN;EAYD,CAbD;;EAeAf,SAAS,CAAC,MAAM;IACd4B,eAAe;EAChB,CAFQ,EAEN,EAFM,CAAT;EAIA,MAAMU,OAAO,GAAG,CACd;IACEjB,GAAG,EAAEkB,MAAM,CAAC3B,KAAK,CAACQ,QAAN,CAAeC,GAAhB,CAAN,IAA8B,CADrC;IAEEC,GAAG,EAAEiB,MAAM,CAAC3B,KAAK,CAACQ,QAAN,CAAeE,GAAhB,CAAN,IAA8B;EAFrC,CADc,CAAhB;EAOA,IAAIkB,MAAM,GAAG,IAAI5B,KAAK,CAAC6B,MAAN,CAAaC,IAAb,CAAkBC,YAAtB,EAAb;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,OAAO,CAACO,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;IACvCJ,MAAM,CAACM,MAAP,CAAcR,OAAO,CAACM,CAAD,CAArB;EACD;;EACD,oBACE;IAAK,SAAS,EAAC,eAAf;IAA+B,KAAK,EAAE;MAAEG,MAAM,EAAE,GAAV;MAAeC,KAAK,EAAE;IAAtB,CAAtC;IAAA,wBACE;MACE,SAAS,EAAC,YADZ;MAEE,IAAI,EAAC,QAFP;MAGE,OAAO,EAAE,MAAM;QACbpB,eAAe;;QACf,IAAIf,GAAJ,EAAS;UACPa,YAAY,CAACb,GAAD,CAAZ;QACD;MACF,CARH;MAAA,uBAUE,QAAC,iBAAD;QAAA;QAAA;QAAA;MAAA;IAVF;MAAA;MAAA;MAAA;IAAA,QADF,eAaE,QAAC,GAAD;MACE,MAAM,EAAE,SADV;MAEE,OAAO,EAAEG,UAFX;MAGE,MAAM,EAAEJ,KAAK,CAAC6B,MAHhB;MAIE,WAAW,EAAE,EAJf;MAKE,IAAI,EAAE,EALR;MAME,SAAS,EAAC,WANZ;MAOE,aAAa,EAAE7B,KAAK,CAACQ,QAPvB;MAQE,MAAM,EAAER,KAAK,CAACQ,QARhB,CASE;MATF;MAAA,uBAWE,QAAC,MAAD;QACE,QAAQ,EAAER,KAAK,CAACQ,QADlB;QAEE,IAAI,EAAE;UACJ6B,GAAG,EAAE3C,OADD;UAEJ4C,UAAU,EAAE,IAAItC,KAAK,CAAC6B,MAAN,CAAaC,IAAb,CAAkBS,IAAtB,CAA2B,EAA3B,EAA+B,EAA/B;QAFR,CAFR;QAME,SAAS,EAAC;MANZ;QAAA;QAAA;QAAA;MAAA;IAXF;MAAA;MAAA;MAAA;IAAA,QAbF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoCD;;GA3FQxC,S;UAEOD,c;;;KAFPC,S;AA6FT,eAAeT,gBAAgB,CAAC;EAC9BkD,MAAM,EAAE/C;AADsB,CAAD,CAAhB,CAEZM,SAFY,CAAf"},"metadata":{},"sourceType":"module"}