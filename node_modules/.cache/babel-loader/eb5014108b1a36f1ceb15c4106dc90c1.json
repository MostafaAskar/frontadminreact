{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/chat/chat-icons.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { IoChatbubbleEllipsesOutline } from 'react-icons/io5';\nimport { NavLink } from 'react-router-dom';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { addMenu } from '../../redux/slices/menu';\nimport { Badge } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { getAllUnreadMessages } from '../../redux/selectors/chatSelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatIcons = () => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n\n  const goToChat = () => {\n    dispatch(addMenu({\n      url: 'chat',\n      id: 'chat',\n      name: t('chat')\n    }));\n  };\n\n  const {\n    user\n  } = useSelector(state => state.auth, shallowEqual);\n  const {\n    myShop\n  } = useSelector(state => state.myShop, shallowEqual);\n  const unreadMessages = useSelector(state => getAllUnreadMessages(state.chat.messages), shallowEqual);\n  return /*#__PURE__*/_jsxDEV(NavLink, {\n    onClick: goToChat,\n    to: \"/chat\",\n    className: \"chat\",\n    children: /*#__PURE__*/_jsxDEV(Badge, {\n      count: unreadMessages.filter(item => user.role == 'admin' ? item.roleId == 'admin' : user.role == 'seller' ? item.roleId == myShop.id : item.roleId == user.id).length,\n      children: /*#__PURE__*/_jsxDEV(IoChatbubbleEllipsesOutline, {\n        className: \"chat-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatIcons, \"R4MD2MXStGds0PYuRbPmHS63YII=\", false, function () {\n  return [useTranslation, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ChatIcons;\nexport default ChatIcons;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatIcons\");","map":{"version":3,"names":["React","IoChatbubbleEllipsesOutline","NavLink","shallowEqual","useDispatch","useSelector","addMenu","Badge","useTranslation","getAllUnreadMessages","ChatIcons","t","dispatch","goToChat","url","id","name","user","state","auth","myShop","unreadMessages","chat","messages","filter","item","role","roleId","length"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/chat/chat-icons.js"],"sourcesContent":["import React from 'react';\nimport { IoChatbubbleEllipsesOutline } from 'react-icons/io5';\nimport { NavLink } from 'react-router-dom';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { addMenu } from '../../redux/slices/menu';\nimport { Badge } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { getAllUnreadMessages } from '../../redux/selectors/chatSelector';\n\nconst ChatIcons = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const goToChat = () => {\n    dispatch(\n      addMenu({\n        url: 'chat',\n        id: 'chat',\n        name: t('chat'),\n      })\n    );\n  };\n  const { user } = useSelector((state) => state.auth, shallowEqual);\n  const { myShop } = useSelector((state) => state.myShop, shallowEqual);\n  const unreadMessages = useSelector(\n    (state) => getAllUnreadMessages(state.chat.messages),\n    shallowEqual\n  );\n  return (\n    <NavLink onClick={goToChat} to='/chat' className='chat'>\n      <Badge\n        count={\n          unreadMessages.filter((item) =>\n            user.role == 'admin'\n              ? item.roleId == 'admin'\n              : user.role == 'seller'\n              ? item.roleId == myShop.id\n              : item.roleId == user.id\n          ).length\n        }\n      >\n        <IoChatbubbleEllipsesOutline className='chat-icon' />\n      </Badge>\n    </NavLink>\n  );\n};\n\nexport default ChatIcons;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,2BAAT,QAA4C,iBAA5C;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,QAAuD,aAAvD;AACA,SAASC,OAAT,QAAwB,yBAAxB;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,oBAAT,QAAqC,oCAArC;;;AAEA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EACtB,MAAM;IAAEC;EAAF,IAAQH,cAAc,EAA5B;EACA,MAAMI,QAAQ,GAAGR,WAAW,EAA5B;;EACA,MAAMS,QAAQ,GAAG,MAAM;IACrBD,QAAQ,CACNN,OAAO,CAAC;MACNQ,GAAG,EAAE,MADC;MAENC,EAAE,EAAE,MAFE;MAGNC,IAAI,EAAEL,CAAC,CAAC,MAAD;IAHD,CAAD,CADD,CAAR;EAOD,CARD;;EASA,MAAM;IAAEM;EAAF,IAAWZ,WAAW,CAAEa,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwBhB,YAAxB,CAA5B;EACA,MAAM;IAAEiB;EAAF,IAAaf,WAAW,CAAEa,KAAD,IAAWA,KAAK,CAACE,MAAlB,EAA0BjB,YAA1B,CAA9B;EACA,MAAMkB,cAAc,GAAGhB,WAAW,CAC/Ba,KAAD,IAAWT,oBAAoB,CAACS,KAAK,CAACI,IAAN,CAAWC,QAAZ,CADC,EAEhCpB,YAFgC,CAAlC;EAIA,oBACE,QAAC,OAAD;IAAS,OAAO,EAAEU,QAAlB;IAA4B,EAAE,EAAC,OAA/B;IAAuC,SAAS,EAAC,MAAjD;IAAA,uBACE,QAAC,KAAD;MACE,KAAK,EACHQ,cAAc,CAACG,MAAf,CAAuBC,IAAD,IACpBR,IAAI,CAACS,IAAL,IAAa,OAAb,GACID,IAAI,CAACE,MAAL,IAAe,OADnB,GAEIV,IAAI,CAACS,IAAL,IAAa,QAAb,GACAD,IAAI,CAACE,MAAL,IAAeP,MAAM,CAACL,EADtB,GAEAU,IAAI,CAACE,MAAL,IAAeV,IAAI,CAACF,EAL1B,EAMEa,MARN;MAAA,uBAWE,QAAC,2BAAD;QAA6B,SAAS,EAAC;MAAvC;QAAA;QAAA;QAAA;MAAA;IAXF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD,CAnCD;;GAAMlB,S;UACUF,c,EACGJ,W,EAUAC,W,EACEA,W,EACIA,W;;;KAdnBK,S;AAqCN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}