{"ast":null,"code":"import React from'react';import{Card}from'antd';import{shallowEqual,useDispatch,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import Dragger from'antd/lib/upload/Dragger';import{InboxOutlined}from'@ant-design/icons';import{toast}from'react-toastify';import{setMenuData}from'../../../redux/slices/menu';import categoryService from'../../../services/category';import{fetchCategories}from'../../../redux/slices/category';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecipeCategoryImport(){const{t}=useTranslation();const dispatch=useDispatch();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const createFile=file=>{return{uid:file.name,name:file.name,status:'done',url:file.name,created:true};};const handleUpload=_ref=>{let{file,onSuccess}=_ref;const formData=new FormData();formData.append('file',file);categoryService.import(formData).then(data=>{toast.success(t('successfully.import'));dispatch(setMenuData({activeMenu,data:createFile(file)}));onSuccess('ok');dispatch(fetchCategories());});};return/*#__PURE__*/_jsx(Card,{title:t('import'),children:/*#__PURE__*/_jsxs(Dragger,{name:\"file\",multiple:false,maxCount:1,customRequest:handleUpload,defaultFileList:activeMenu!==null&&activeMenu!==void 0&&activeMenu.data?[activeMenu===null||activeMenu===void 0?void 0:activeMenu.data]:null,accept:\".csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-drag-icon\",children:/*#__PURE__*/_jsx(InboxOutlined,{})}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-text\",children:\"Click or drag file to this area to upload\"}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-hint\",children:\"Import Categories from file to this area\"})]})});}","map":null,"metadata":{},"sourceType":"module"}