{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/products/product-digital.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Button, Card, Space } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport Dragger from 'antd/lib/upload/Dragger';\nimport { InboxOutlined } from '@ant-design/icons';\nimport { toast } from 'react-toastify';\nimport digitalProductService from 'services/digital-product';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductDigital(_ref) {\n  _s();\n\n  let {\n    prev,\n    next\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n\n  const handleUpload = _ref2 => {\n    var _activeMenu$data;\n\n    let {\n      file,\n      onSuccess,\n      onError\n    } = _ref2;\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('active', 1);\n    formData.append('product_id', (_activeMenu$data = activeMenu.data) === null || _activeMenu$data === void 0 ? void 0 : _activeMenu$data.id);\n    digitalProductService.create(formData).then(() => {\n      toast.success(t('successfully.import'));\n      onSuccess('ok');\n    }).catch(error => {\n      console.log('upload error', error);\n      onError('error');\n      toast.error(t('file.upload.error'));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bordered: false,\n    className: \"mb-0\",\n    children: [/*#__PURE__*/_jsxDEV(Dragger, {\n      name: \"file\",\n      multiple: false,\n      maxCount: 1,\n      customRequest: handleUpload // accept='.csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      ,\n      accept: \".zip\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ant-upload-drag-icon\",\n        children: /*#__PURE__*/_jsxDEV(InboxOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ant-upload-text\",\n        children: t('upload-drag')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ant-upload-hint\",\n        children: t('upload-text')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Space, {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: prev,\n        children: t('prev')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: next,\n        children: t('next')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductDigital, \"PP4S6bYkafA6+taFMj6c0+aBMpU=\", false, function () {\n  return [useTranslation, useSelector];\n});\n\n_c = ProductDigital;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDigital\");","map":{"version":3,"names":["React","Button","Card","Space","useTranslation","Dragger","InboxOutlined","toast","digitalProductService","shallowEqual","useSelector","ProductDigital","prev","next","t","activeMenu","state","menu","handleUpload","file","onSuccess","onError","formData","FormData","append","data","id","create","then","success","catch","error","console","log"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/products/product-digital.js"],"sourcesContent":["import React from 'react';\nimport { Button, Card, Space } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport Dragger from 'antd/lib/upload/Dragger';\nimport { InboxOutlined } from '@ant-design/icons';\nimport { toast } from 'react-toastify';\nimport digitalProductService from 'services/digital-product';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nexport default function ProductDigital({ prev, next }) {\n  const { t } = useTranslation();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const handleUpload = ({ file, onSuccess, onError }) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('active', 1);\n    formData.append('product_id', activeMenu.data?.id);\n    digitalProductService\n      .create(formData)\n      .then(() => {\n        toast.success(t('successfully.import'));\n        onSuccess('ok');\n      })\n      .catch((error) => {\n        console.log('upload error', error);\n        onError('error');\n        toast.error(t('file.upload.error'));\n      });\n  };\n\n  return (\n    <Card bordered={false} className='mb-0'>\n      <Dragger\n        name='file'\n        multiple={false}\n        maxCount={1}\n        customRequest={handleUpload}\n        // accept='.csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        accept='.zip'\n      >\n        <p className='ant-upload-drag-icon'>\n          <InboxOutlined />\n        </p>\n        <p className='ant-upload-text'>{t('upload-drag')}</p>\n        <p className='ant-upload-hint'>{t('upload-text')}</p>\n      </Dragger>\n      <Space className='mt-3'>\n        <Button onClick={prev}>{t('prev')}</Button>\n        <Button type='primary' onClick={next}>\n          {t('next')}\n        </Button>\n      </Space>\n    </Card>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,MAApC;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,qBAAP,MAAkC,0BAAlC;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,aAA1C;;AAEA,eAAe,SAASC,cAAT,OAAwC;EAAA;;EAAA,IAAhB;IAAEC,IAAF;IAAQC;EAAR,CAAgB;EACrD,MAAM;IAAEC;EAAF,IAAQV,cAAc,EAA5B;EACA,MAAM;IAAEW;EAAF,IAAiBL,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwBR,YAAxB,CAAlC;;EACA,MAAMS,YAAY,GAAG,SAAkC;IAAA;;IAAA,IAAjC;MAAEC,IAAF;MAAQC,SAAR;MAAmBC;IAAnB,CAAiC;IACrD,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;IACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBL,IAAxB;IACAG,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,CAA1B;IACAF,QAAQ,CAACE,MAAT,CAAgB,YAAhB,sBAA8BT,UAAU,CAACU,IAAzC,qDAA8B,iBAAiBC,EAA/C;IACAlB,qBAAqB,CAClBmB,MADH,CACUL,QADV,EAEGM,IAFH,CAEQ,MAAM;MACVrB,KAAK,CAACsB,OAAN,CAAcf,CAAC,CAAC,qBAAD,CAAf;MACAM,SAAS,CAAC,IAAD,CAAT;IACD,CALH,EAMGU,KANH,CAMUC,KAAD,IAAW;MAChBC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,KAA5B;MACAV,OAAO,CAAC,OAAD,CAAP;MACAd,KAAK,CAACwB,KAAN,CAAYjB,CAAC,CAAC,mBAAD,CAAb;IACD,CAVH;EAWD,CAhBD;;EAkBA,oBACE,QAAC,IAAD;IAAM,QAAQ,EAAE,KAAhB;IAAuB,SAAS,EAAC,MAAjC;IAAA,wBACE,QAAC,OAAD;MACE,IAAI,EAAC,MADP;MAEE,QAAQ,EAAE,KAFZ;MAGE,QAAQ,EAAE,CAHZ;MAIE,aAAa,EAAEI,YAJjB,CAKE;MALF;MAME,MAAM,EAAC,MANT;MAAA,wBAQE;QAAG,SAAS,EAAC,sBAAb;QAAA,uBACE,QAAC,aAAD;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QARF,eAWE;QAAG,SAAS,EAAC,iBAAb;QAAA,UAAgCJ,CAAC,CAAC,aAAD;MAAjC;QAAA;QAAA;QAAA;MAAA,QAXF,eAYE;QAAG,SAAS,EAAC,iBAAb;QAAA,UAAgCA,CAAC,CAAC,aAAD;MAAjC;QAAA;QAAA;QAAA;MAAA,QAZF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAeE,QAAC,KAAD;MAAO,SAAS,EAAC,MAAjB;MAAA,wBACE,QAAC,MAAD;QAAQ,OAAO,EAAEF,IAAjB;QAAA,UAAwBE,CAAC,CAAC,MAAD;MAAzB;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,MAAD;QAAQ,IAAI,EAAC,SAAb;QAAuB,OAAO,EAAED,IAAhC;QAAA,UACGC,CAAC,CAAC,MAAD;MADJ;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAfF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAwBD;;GA7CuBH,c;UACRP,c,EACSM,W;;;KAFDC,c"},"metadata":{},"sourceType":"module"}