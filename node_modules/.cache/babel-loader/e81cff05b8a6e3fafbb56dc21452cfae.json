{"ast":null,"code":"import React,{useState}from'react';import{Button,Col,DatePicker,Form,Input,InputNumber,Row,Select}from'antd';import moment from'moment/moment';import{useTranslation}from'react-i18next';import{shallowEqual,useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CouponForm(_ref){let{form,handleSubmit}=_ref;const{t}=useTranslation();const{defaultLang,languages}=useSelector(state=>state.formLang,shallowEqual);const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const forOptions=[{label:t('delivery.fee'),value:'delivery_fee',key:'delivery_fee'},{label:t('total.price'),value:'total_price',key:'total_price'}];// states\nconst[loadingBtn,setLoadingBtn]=useState(false);//submit form\nconst onFinish=values=>{setLoadingBtn(true);handleSubmit(values).finally(()=>setLoadingBtn(false));};return/*#__PURE__*/_jsxs(Form,{form:form,name:\"coupon-form\",layout:\"vertical\",onFinish:onFinish,initialValues:{for:'delivery_fee',type:'fix',...(activeMenu===null||activeMenu===void 0?void 0:activeMenu.data)},children:[/*#__PURE__*/_jsxs(Row,{gutter:12,children:[/*#__PURE__*/_jsx(Col,{span:12,children:languages.map(item=>/*#__PURE__*/_jsx(Form.Item,{label:t('title'),name:`title[${item.locale}]`,rules:[{required:item.locale===defaultLang,message:t('required')}],hidden:item.locale!==defaultLang,children:/*#__PURE__*/_jsx(Input,{})},'title'+item.id))}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('name'),name:\"name\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(Input,{})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('type'),name:\"type\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsxs(Select,{children:[/*#__PURE__*/_jsx(Select.Option,{value:\"fix\",children:t('fix')}),/*#__PURE__*/_jsx(Select.Option,{value:\"percent\",children:t('percent')})]})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"expired_at\",label:t('expired.at'),rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(DatePicker,{className:\"w-100\",placeholder:\"\",disabledDate:current=>moment().add(-1,'days')>=current})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('quantity'),name:\"qty\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,className:\"w-100\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:t('price'),name:\"price\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,className:\"w-100\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"for\",label:\"for\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(Select,{options:forOptions})})})]}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loadingBtn,children:t('submit')})]});}","map":null,"metadata":{},"sourceType":"module"}