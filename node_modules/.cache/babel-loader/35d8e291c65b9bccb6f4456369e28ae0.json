{"ast":null,"code":"import{DeleteOutlined,PlusOutlined}from'@ant-design/icons';import{Button,Col,Form,Input,Row,Space,InputNumber}from'antd';import React from'react';import{useTranslation}from'react-i18next';import{shallowEqual,useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ReceptNutritions=_ref=>{let{prev,loading}=_ref;const{t}=useTranslation();const{defaultLang,languages}=useSelector(state=>state.formLang,shallowEqual);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{gutter:12,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.List,{name:\"nutrition\",initialValue:[{weight:undefined,percentage:undefined,en:undefined,ru:undefined}],children:(fields,_ref2)=>{let{add,remove}=_ref2;return/*#__PURE__*/_jsxs(_Fragment,{children:[fields.map((_ref3,i)=>{let{key,name,...restField}=_ref3;return/*#__PURE__*/_jsxs(Row,{gutter:12,align:\"middle\",children:[/*#__PURE__*/_jsx(Col,{span:7,children:languages.map(item=>/*#__PURE__*/_jsx(Form.Item,{label:t('name'),name:[name,item.locale],rules:[{validator(_,value){if(!value&&(item===null||item===void 0?void 0:item.locale)===defaultLang){return Promise.reject(new Error(t('required')));}else if(value&&(value===null||value===void 0?void 0:value.trim())===''){return Promise.reject(new Error(t('no.empty.space')));}else if(value&&(value===null||value===void 0?void 0:value.trim().length)<2){return Promise.reject(new Error(t('must.be.at.least.2')));}return Promise.resolve();}}],hidden:item.locale!==defaultLang,children:/*#__PURE__*/_jsx(Input,{})},'name'+item.id))}),/*#__PURE__*/_jsx(Col,{span:7,children:/*#__PURE__*/_jsx(Form.Item,{...restField,label:t('weight'),name:[name,'weight'],rules:[{required:true,message:t('required')},{type:'number',min:0,message:t('must.be.positive')}],children:/*#__PURE__*/_jsx(InputNumber,{className:\"w-100\",addonAfter:\"g\"})})}),/*#__PURE__*/_jsx(Col,{span:7,children:/*#__PURE__*/_jsx(Form.Item,{...restField,label:t('percentage'),name:[name,'percentage'],rules:[{required:true,message:t('required')},{type:'number',min:0,max:100,message:t('must.be.between.0.and.100')}],children:/*#__PURE__*/_jsx(InputNumber,{className:\"w-100\",addonAfter:\"%\"})})}),i!==0&&/*#__PURE__*/_jsx(Col,{span:3,className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(Button,{onClick:()=>remove(name),danger:true,className:\"w-100\",type:\"primary\",icon:/*#__PURE__*/_jsx(DeleteOutlined,{})})})]});}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>add(),block:true,icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:t('add.nutrition')})})]});}})})}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"button\",onClick:()=>prev(),children:t('prev')}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loading,children:t('submit')})]})]});};export default ReceptNutritions;","map":null,"metadata":{},"sourceType":"module"}