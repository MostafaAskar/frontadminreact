{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/story/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Card, Image, Space, Table } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport { fetchAdminStoreis, fetchStoreis } from '../../redux/slices/storeis';\nimport FilterColumns from '../../components/filter-column';\nimport { IMG_URL } from '../../configs/app-global';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Storeis = () => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    storeis,\n    meta,\n    loading\n  } = useSelector(state => state.storeis, shallowEqual);\n  const [columns, setColumns] = useState([{\n    title: t('id'),\n    dataIndex: 'id',\n    key: 'id',\n    is_show: true\n  }, {\n    title: t('image'),\n    dataIndex: 'file_urls',\n    key: 'file_urls',\n    is_show: true,\n    render: file_urls => {\n      return /*#__PURE__*/_jsxDEV(Image, {\n        src: file_urls ? file_urls[0].search('stories/') ? IMG_URL + file_urls[0] : 'https://api.foodyman.org/storage/' + file_urls[0] : 'https://via.placeholder.com/150',\n        alt: \"img_gallery\",\n        width: 100,\n        className: \"rounded\",\n        preview: true,\n        placeholder: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: t('product'),\n    dataIndex: 'stock',\n    key: 'stock',\n    is_show: true,\n    render: (_, row) => {\n      var _row$product, _row$product$translat;\n\n      return row === null || row === void 0 ? void 0 : (_row$product = row.product) === null || _row$product === void 0 ? void 0 : (_row$product$translat = _row$product.translation) === null || _row$product$translat === void 0 ? void 0 : _row$product$translat.title;\n    }\n  }, {\n    title: t('shop'),\n    dataIndex: 'shop',\n    key: 'shop',\n    is_show: true,\n    render: (_, row) => {\n      var _row$shop, _row$shop$translation;\n\n      return (_row$shop = row.shop) === null || _row$shop === void 0 ? void 0 : (_row$shop$translation = _row$shop.translation) === null || _row$shop$translation === void 0 ? void 0 : _row$shop$translation.title;\n    }\n  }]);\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchAdminStoreis());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  const onChangePagination = pageNumber => {\n    const {\n      pageSize,\n      current\n    } = pageNumber;\n    dispatch(fetchStoreis({\n      perPage: pageSize,\n      page: current\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('storeis'),\n    extra: /*#__PURE__*/_jsxDEV(Space, {\n      children: /*#__PURE__*/_jsxDEV(FilterColumns, {\n        columns: columns,\n        setColumns: setColumns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      scroll: {\n        x: true\n      },\n      columns: columns === null || columns === void 0 ? void 0 : columns.filter(item => item.is_show),\n      dataSource: storeis,\n      pagination: {\n        pageSize: meta.per_page,\n        page: meta.current_page,\n        total: meta.total\n      },\n      rowKey: record => record.id,\n      loading: loading,\n      onChange: onChangePagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Storeis, \"Dv9aYHTOV3s/uDQE7g0Afb65DZs=\", false, function () {\n  return [useTranslation, useDispatch, useSelector, useSelector];\n});\n\n_c = Storeis;\nexport default Storeis;\n\nvar _c;\n\n$RefreshReg$(_c, \"Storeis\");","map":{"version":3,"names":["React","useEffect","useState","Card","Image","Space","Table","shallowEqual","useDispatch","useSelector","disableRefetch","useTranslation","fetchAdminStoreis","fetchStoreis","FilterColumns","IMG_URL","Storeis","t","dispatch","activeMenu","state","menu","storeis","meta","loading","columns","setColumns","title","dataIndex","key","is_show","render","file_urls","search","_","row","product","translation","shop","refetch","onChangePagination","pageNumber","pageSize","current","perPage","page","x","filter","item","per_page","current_page","total","record","id"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/story/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card, Image, Space, Table } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport { fetchAdminStoreis, fetchStoreis } from '../../redux/slices/storeis';\nimport FilterColumns from '../../components/filter-column';\nimport { IMG_URL } from '../../configs/app-global';\n\nconst Storeis = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { storeis, meta, loading } = useSelector(\n    (state) => state.storeis,\n    shallowEqual\n  );\n\n  const [columns, setColumns] = useState([\n    {\n      title: t('id'),\n      dataIndex: 'id',\n      key: 'id',\n      is_show: true,\n    },\n    {\n      title: t('image'),\n      dataIndex: 'file_urls',\n      key: 'file_urls',\n      is_show: true,\n      render: (file_urls) => {\n        return (\n          <Image\n            src={\n              file_urls\n                ? file_urls[0].search('stories/')\n                  ? IMG_URL + file_urls[0]\n                  : 'https://api.foodyman.org/storage/' + file_urls[0]\n                : 'https://via.placeholder.com/150'\n            }\n            alt='img_gallery'\n            width={100}\n            className='rounded'\n            preview\n            placeholder\n          />\n        );\n      },\n    },\n    {\n      title: t('product'),\n      dataIndex: 'stock',\n      key: 'stock',\n      is_show: true,\n      render: (_, row) => row?.product?.translation?.title,\n    },\n    {\n      title: t('shop'),\n      dataIndex: 'shop',\n      key: 'shop',\n      is_show: true,\n      render: (_, row) => row.shop?.translation?.title,\n    },\n  ]);\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchAdminStoreis());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  const onChangePagination = (pageNumber) => {\n    const { pageSize, current } = pageNumber;\n    dispatch(fetchStoreis({ perPage: pageSize, page: current }));\n  };\n\n  return (\n    <Card\n      title={t('storeis')}\n      extra={\n        <Space>\n          <FilterColumns columns={columns} setColumns={setColumns} />\n        </Space>\n      }\n    >\n      <Table\n        scroll={{ x: true }}\n        columns={columns?.filter((item) => item.is_show)}\n        dataSource={storeis}\n        pagination={{\n          pageSize: meta.per_page,\n          page: meta.current_page,\n          total: meta.total,\n        }}\n        rowKey={(record) => record.id}\n        loading={loading}\n        onChange={onChangePagination}\n      />\n    </Card>\n  );\n};\n\nexport default Storeis;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,KAA7B,QAA0C,MAA1C;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,QAAuD,aAAvD;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,4BAAhD;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,SAASC,OAAT,QAAwB,0BAAxB;;;AAEA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACpB,MAAM;IAAEC;EAAF,IAAQN,cAAc,EAA5B;EACA,MAAMO,QAAQ,GAAGV,WAAW,EAA5B;EACA,MAAM;IAAEW;EAAF,IAAiBV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwBd,YAAxB,CAAlC;EACA,MAAM;IAAEe,OAAF;IAAWC,IAAX;IAAiBC;EAAjB,IAA6Bf,WAAW,CAC3CW,KAAD,IAAWA,KAAK,CAACE,OAD2B,EAE5Cf,YAF4C,CAA9C;EAKA,MAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAAC,CACrC;IACEyB,KAAK,EAAEV,CAAC,CAAC,IAAD,CADV;IAEEW,SAAS,EAAE,IAFb;IAGEC,GAAG,EAAE,IAHP;IAIEC,OAAO,EAAE;EAJX,CADqC,EAOrC;IACEH,KAAK,EAAEV,CAAC,CAAC,OAAD,CADV;IAEEW,SAAS,EAAE,WAFb;IAGEC,GAAG,EAAE,WAHP;IAIEC,OAAO,EAAE,IAJX;IAKEC,MAAM,EAAGC,SAAD,IAAe;MACrB,oBACE,QAAC,KAAD;QACE,GAAG,EACDA,SAAS,GACLA,SAAS,CAAC,CAAD,CAAT,CAAaC,MAAb,CAAoB,UAApB,IACElB,OAAO,GAAGiB,SAAS,CAAC,CAAD,CADrB,GAEE,sCAAsCA,SAAS,CAAC,CAAD,CAH5C,GAIL,iCANR;QAQE,GAAG,EAAC,aARN;QASE,KAAK,EAAE,GATT;QAUE,SAAS,EAAC,SAVZ;QAWE,OAAO,MAXT;QAYE,WAAW;MAZb;QAAA;QAAA;QAAA;MAAA,QADF;IAgBD;EAtBH,CAPqC,EA+BrC;IACEL,KAAK,EAAEV,CAAC,CAAC,SAAD,CADV;IAEEW,SAAS,EAAE,OAFb;IAGEC,GAAG,EAAE,OAHP;IAIEC,OAAO,EAAE,IAJX;IAKEC,MAAM,EAAE,CAACG,CAAD,EAAIC,GAAJ;MAAA;;MAAA,OAAYA,GAAZ,aAAYA,GAAZ,uCAAYA,GAAG,CAAEC,OAAjB,0EAAY,aAAcC,WAA1B,0DAAY,sBAA2BV,KAAvC;IAAA;EALV,CA/BqC,EAsCrC;IACEA,KAAK,EAAEV,CAAC,CAAC,MAAD,CADV;IAEEW,SAAS,EAAE,MAFb;IAGEC,GAAG,EAAE,MAHP;IAIEC,OAAO,EAAE,IAJX;IAKEC,MAAM,EAAE,CAACG,CAAD,EAAIC,GAAJ;MAAA;;MAAA,oBAAYA,GAAG,CAACG,IAAhB,uEAAY,UAAUD,WAAtB,0DAAY,sBAAuBV,KAAnC;IAAA;EALV,CAtCqC,CAAD,CAAtC;EA+CA1B,SAAS,CAAC,MAAM;IACd,IAAIkB,UAAU,CAACoB,OAAf,EAAwB;MACtBrB,QAAQ,CAACN,iBAAiB,EAAlB,CAAR;MACAM,QAAQ,CAACR,cAAc,CAACS,UAAD,CAAf,CAAR;IACD;EACF,CALQ,EAKN,CAACA,UAAU,CAACoB,OAAZ,CALM,CAAT;;EAOA,MAAMC,kBAAkB,GAAIC,UAAD,IAAgB;IACzC,MAAM;MAAEC,QAAF;MAAYC;IAAZ,IAAwBF,UAA9B;IACAvB,QAAQ,CAACL,YAAY,CAAC;MAAE+B,OAAO,EAAEF,QAAX;MAAqBG,IAAI,EAAEF;IAA3B,CAAD,CAAb,CAAR;EACD,CAHD;;EAKA,oBACE,QAAC,IAAD;IACE,KAAK,EAAE1B,CAAC,CAAC,SAAD,CADV;IAEE,KAAK,eACH,QAAC,KAAD;MAAA,uBACE,QAAC,aAAD;QAAe,OAAO,EAAEQ,OAAxB;QAAiC,UAAU,EAAEC;MAA7C;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAHJ;IAAA,uBAQE,QAAC,KAAD;MACE,MAAM,EAAE;QAAEoB,CAAC,EAAE;MAAL,CADV;MAEE,OAAO,EAAErB,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEsB,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAAClB,OAA/B,CAFX;MAGE,UAAU,EAAER,OAHd;MAIE,UAAU,EAAE;QACVoB,QAAQ,EAAEnB,IAAI,CAAC0B,QADL;QAEVJ,IAAI,EAAEtB,IAAI,CAAC2B,YAFD;QAGVC,KAAK,EAAE5B,IAAI,CAAC4B;MAHF,CAJd;MASE,MAAM,EAAGC,MAAD,IAAYA,MAAM,CAACC,EAT7B;MAUE,OAAO,EAAE7B,OAVX;MAWE,QAAQ,EAAEgB;IAXZ;MAAA;MAAA;MAAA;IAAA;EARF;IAAA;IAAA;IAAA;EAAA,QADF;AAwBD,CA5FD;;GAAMxB,O;UACUL,c,EACGH,W,EACMC,W,EACYA,W;;;KAJ/BO,O;AA8FN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}