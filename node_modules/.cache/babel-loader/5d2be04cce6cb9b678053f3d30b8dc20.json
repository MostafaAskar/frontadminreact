{"ast":null,"code":"import React,{useState}from'react';import{Button,Col,Form,Modal,Row,Select}from'antd';import{useDispatch}from'react-redux';import{useTranslation}from'react-i18next';import{toast}from'react-toastify';import transactionService from'../../../services/seller/transaction';import{fetchSellerTransactions}from'../../../redux/slices/transaction';import{jsx as _jsx}from\"react/jsx-runtime\";const status=['paid','canceled'];export default function StatusModal(_ref){let{transactionDetails:data,handleCancel,paramsData}=_ref;const[form]=Form.useForm();const dispatch=useDispatch();const{t}=useTranslation();const[loading,setLoading]=useState(false);const onFinish=values=>{setLoading(true);transactionService.updateTransactionStatus(data.id,values).then(()=>{handleCancel();dispatch(fetchSellerTransactions(paramsData));}).catch(err=>toast.error(err.message)).finally(()=>setLoading(false));};return/*#__PURE__*/_jsx(Modal,{visible:!!data,title:t('transaction.status'),closable:false,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>form.submit(),loading:loading,children:t('save')},'save-form'),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')},'cansel-modal')],children:/*#__PURE__*/_jsx(Form,{form:form,layout:\"vertical\",onFinish:onFinish,initialValues:{status:data.status},children:/*#__PURE__*/_jsx(Row,{gutter:12,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:t('status'),name:\"status\",rules:[{validator(_,value){if(!value||value==='progress')return Promise.reject(new Error(t('required')));return Promise.resolve();}}],children:/*#__PURE__*/_jsx(Select,{children:status.map((item,index)=>/*#__PURE__*/_jsx(Select.Option,{value:item,children:t(item)},index))})})})})})});}","map":null,"metadata":{},"sourceType":"module"}