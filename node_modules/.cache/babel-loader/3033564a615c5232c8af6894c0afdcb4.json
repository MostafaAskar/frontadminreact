{"ast":null,"code":"import React from'react';import{Button,Card}from'antd';import{shallowEqual,useDispatch,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import Dragger from'antd/lib/upload/Dragger';import{InboxOutlined,InfoCircleOutlined}from'@ant-design/icons';import{toast}from'react-toastify';import{setMenuData}from'../../redux/slices/menu';import{example}from'../../configs/app-global';import productService from'services/product';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductImport(){const{t}=useTranslation();const dispatch=useDispatch();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const createFile=file=>{return{uid:file.name,name:file.name,status:'done',url:file.name,created:true};};const handleUpload=_ref=>{let{file,onSuccess}=_ref;const formData=new FormData();formData.append('file',file);productService.import(formData).then(data=>{toast.success(t('successfully.import'));dispatch(setMenuData({activeMenu,data:createFile(file)}));onSuccess('ok');});};const downloadFile=()=>{const body=example+'import-example/product_import.xls';window.location.href=body;};return/*#__PURE__*/_jsxs(Card,{title:t('import'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert\",role:\"alert\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-header\",children:[/*#__PURE__*/_jsx(InfoCircleOutlined,{className:\"alert-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:t('info')})]}),/*#__PURE__*/_jsxs(\"ol\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"li\",{children:t('import.text_1')}),/*#__PURE__*/_jsx(\"li\",{children:t('import.text_2')}),/*#__PURE__*/_jsx(\"li\",{children:t('import.text_3')}),/*#__PURE__*/_jsx(\"li\",{children:t('import.text_4')})]})]}),/*#__PURE__*/_jsx(Button,{type:\"primary\",className:\"mb-4\",onClick:downloadFile,children:t('download.csv')}),/*#__PURE__*/_jsxs(Dragger,{name:\"file\",multiple:false,maxCount:1,customRequest:handleUpload,defaultFileList:activeMenu!==null&&activeMenu!==void 0&&activeMenu.data?[activeMenu===null||activeMenu===void 0?void 0:activeMenu.data]:null,accept:\".csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-drag-icon\",children:/*#__PURE__*/_jsx(InboxOutlined,{})}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-text\",children:t('upload-drag')}),/*#__PURE__*/_jsx(\"p\",{className:\"ant-upload-hint\",children:t('upload-text')})]})]});}","map":null,"metadata":{},"sourceType":"module"}