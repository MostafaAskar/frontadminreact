{"ast":null,"code":"import React from'react';import{Button,Card,Form,Input,Modal}from'antd';import{toast}from'react-toastify';import{shallowEqual,useDispatch,useSelector}from'react-redux';import categoryService from'../../services/category';import{useTranslation}from'react-i18next';import{setRefetch}from'redux/slices/menu';import LanguageList from'components/language-list';import{jsx as _jsx}from\"react/jsx-runtime\";const MenuCategoryAdd=_ref=>{let{isModalOpen,handleCancel}=_ref;const{t}=useTranslation();const dispatch=useDispatch();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const[form]=Form.useForm();const{defaultLang,languages}=useSelector(state=>state.formLang,shallowEqual);const onFinish=values=>{const body={type:'menu',...values};categoryService.create(body).then(()=>{toast.success(t('successfully.created'));handleCancel();dispatch(setRefetch(activeMenu));}).catch(err=>console.error(err));};return/*#__PURE__*/_jsx(Modal,{visible:isModalOpen,title:t('add.menu.category'),onCancel:handleCancel,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>form.submit(),children:t('save')},'saveBtn'),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')},'cancelBtn')],children:/*#__PURE__*/_jsx(Card,{extra:/*#__PURE__*/_jsx(LanguageList,{}),children:/*#__PURE__*/_jsx(Form,{name:\"basic\",layout:\"vertical\",onFinish:onFinish,initialValues:{...activeMenu.data},form:form,children:languages.map((item,index)=>/*#__PURE__*/_jsx(Form.Item,{label:t('name'),name:`title[${item.locale}]`,rules:[{validator(_,value){if(!value&&(item===null||item===void 0?void 0:item.locale)===defaultLang){return Promise.reject(new Error(t('required')));}else if(value&&(value===null||value===void 0?void 0:value.trim())===''){return Promise.reject(new Error(t('no.empty.space')));}else if(value&&(value===null||value===void 0?void 0:value.trim().length)<2){return Promise.reject(new Error(t('must.be.at.least.2')));}return Promise.resolve();}}],hidden:item.locale!==defaultLang,children:/*#__PURE__*/_jsx(Input,{placeholder:t('name'),className:\"w-100\"})},item.title+index))})})});};export default MenuCategoryAdd;","map":null,"metadata":{},"sourceType":"module"}