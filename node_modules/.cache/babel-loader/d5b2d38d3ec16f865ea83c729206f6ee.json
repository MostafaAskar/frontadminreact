{"ast":null,"code":"import{Button,Card,Table,Tag,Typography}from'antd';import numberToPrice from'helpers/numberToPrice';import moment from'moment';import React,{useCallback,useEffect,useState}from'react';import{useTranslation}from'react-i18next';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import{disableRefetch}from'redux/slices/menu';import userService from'services/user';import WalletTopUp from'./top-up';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SellerWallet=()=>{var _user$wallet;const[user,setUser]=useState(null);const{t}=useTranslation();const dispatch=useDispatch();const[loading,setLoading]=useState(false);const[open,setOpen]=useState(false);const{activeMenu}=useSelector(state=>state.menu);const getProfile=useCallback(()=>{setLoading(true);userService.profileShow().then(res=>{setUser(res.data);}).finally(()=>{setLoading(false);});},[]);useEffect(()=>{if(activeMenu!==null&&activeMenu!==void 0&&activeMenu.refetch){getProfile();}dispatch(disableRefetch(activeMenu));},[activeMenu===null||activeMenu===void 0?void 0:activeMenu.refetch]);const columns=[{title:t('created.at'),dataIndex:'created_at',render:created_at=>moment(created_at).format('YYYY-MM-DD hh:mm')},{title:t('status'),dataIndex:'status',render:status=>/*#__PURE__*/_jsx(\"div\",{children:status==='paid'?/*#__PURE__*/_jsx(Tag,{color:\"cyan\",children:status}):/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:status})})},{title:t('type'),dataIndex:'type',render:type=>type==='topup'?/*#__PURE__*/_jsx(Tag,{color:\"cyan\",children:type}):/*#__PURE__*/_jsx(Tag,{color:\"error\",children:type})},{title:t('note'),dataIndex:'note'}];return/*#__PURE__*/_jsxs(Card,{title:t('user.wallet'),extra:!loading?/*#__PURE__*/_jsx(Button,{onClick:()=>setOpen(true),children:t('top.up')}):null,children:[user!==null&&user!==void 0&&user.wallet?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography.Title,{children:numberToPrice(user===null||user===void 0?void 0:user.wallet.price)}),/*#__PURE__*/_jsx(Table,{loading:loading,dataSource:user===null||user===void 0?void 0:(_user$wallet=user.wallet)===null||_user$wallet===void 0?void 0:_user$wallet.histories,columns:columns})]}):/*#__PURE__*/_jsx(Table,{dataSource:[],columns:columns,loading:loading}),/*#__PURE__*/_jsx(WalletTopUp,{refetch:getProfile,open:open,handleCancel:()=>setOpen(false)})]});};export default SellerWallet;","map":null,"metadata":{},"sourceType":"module"}