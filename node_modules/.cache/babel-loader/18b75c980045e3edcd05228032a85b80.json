{"ast":null,"code":"import React,{useState}from'react';import{Button,Modal,Form,Row,Col,Input,InputNumber}from'antd';import{useTranslation}from'react-i18next';import{shallowEqual,useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const{TextArea}=Input;export default function NoteModal(_ref){let{showModal,setShowModal,handleSubmit,userData}=_ref;const{t}=useTranslation();const[form]=Form.useForm();const{before_order_phone_required}=useSelector(state=>state.globalSettings.settings,shallowEqual);console.log('before_order_phone_required',before_order_phone_required);const[loading,setLoading]=useState(false);const onFinish=values=>{setLoading(true);handleSubmit(values).finally(()=>setLoading(false));};return/*#__PURE__*/_jsx(Modal,{visible:showModal,title:t('note'),onCancel:()=>setShowModal(false),footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>form.submit(),loading:loading,children:t('submit')},'submit-modal'),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:()=>setShowModal(null),children:t('cancel')},'cancel-modal')],children:/*#__PURE__*/_jsx(Form,{form:form,layout:'vertical',onFinish:onFinish,initialValues:{phone:userData===null||userData===void 0?void 0:userData.phone},children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:t('note'),name:'note',rules:[{required:true,message:t('required')},{validator(_,value){if(value&&(value===null||value===void 0?void 0:value.trim())===''){return Promise.reject(new Error(t('no.empty.space')));}else if(value&&(value===null||value===void 0?void 0:value.trim().length)<3){return Promise.reject(new Error(t('must.be.at.least.3')));}return Promise.resolve();}}],children:/*#__PURE__*/_jsx(TextArea,{rows:4,className:'w-100'})})}),before_order_phone_required==='1'&&/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:t('phone.number'),name:\"phone\",rules:[{required:true,message:t('required')},{validator(_,value){if(value<0){return Promise.reject(new Error(t('must.be.positive')));}return Promise.resolve();}}],children:/*#__PURE__*/_jsx(InputNumber,{className:\"w-100\",addonBefore:'+',parser:value=>parseInt(value,10),disabled:!!(userData!==null&&userData!==void 0&&userData.phone)})})})]})})});}","map":null,"metadata":{},"sourceType":"module"}