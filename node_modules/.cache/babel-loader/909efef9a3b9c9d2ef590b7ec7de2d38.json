{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/user/user-top-products.js\",\n    _s = $RefreshSig$();\n\nimport { Card, Image, Space, Table, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport { addMenu } from '../../redux/slices/menu';\nimport orderService from '../../services/order';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserTopProducts = _ref => {\n  _s();\n\n  let {\n    id\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const {\n    defaultCurrency\n  } = useSelector(state => state.currency, shallowEqual);\n\n  const fetchTopProducts = params => {\n    setLoading(true);\n    orderService.getUserTopProducts(id, params).then(res => setData(res.data)).finally(() => setLoading(false));\n  };\n\n  const goToProduct = row => {\n    dispatch(addMenu({\n      id: `product-edit`,\n      url: `product/${row.uuid}`,\n      name: t('edit.product')\n    }));\n    navigate(`/product/${row.uuid}`);\n  };\n\n  useEffect(() => {\n    fetchTopProducts(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('top.products'),\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      loading: loading,\n      dataSource: data === null || data === void 0 ? void 0 : data.data,\n      pagination: {\n        total: data === null || data === void 0 ? void 0 : data.total,\n        current: data === null || data === void 0 ? void 0 : data.current_page,\n        pageSize: data === null || data === void 0 ? void 0 : data.per_page\n      },\n      columns: [{\n        title: t('product'),\n        dataIndex: 'stock',\n        key: 'stock',\n        render: stock => {\n          var _stock$product, _stock$product2, _stock$product2$trans;\n\n          return /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              width: 100,\n              src: stock === null || stock === void 0 ? void 0 : (_stock$product = stock.product) === null || _stock$product === void 0 ? void 0 : _stock$product.img,\n              placeholder: true,\n              style: {\n                borderRadius: 4\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => goToProduct(stock === null || stock === void 0 ? void 0 : stock.product),\n              className: \"text-hover\",\n              children: stock === null || stock === void 0 ? void 0 : (_stock$product2 = stock.product) === null || _stock$product2 === void 0 ? void 0 : (_stock$product2$trans = _stock$product2.translation) === null || _stock$product2$trans === void 0 ? void 0 : _stock$product2$trans.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this);\n        }\n      }, {\n        title: t('count'),\n        dataIndex: 'count',\n        key: 'count'\n      }, {\n        title: t('total.price'),\n        dataIndex: 'total_price',\n        key: 'total_price',\n        render: price => numberToPrice(price, defaultCurrency === null || defaultCurrency === void 0 ? void 0 : defaultCurrency.symbol)\n      }, {\n        title: t('status'),\n        dataIndex: 'status',\n        key: 'status',\n        render: (_, row) => {\n          var _row$stock, _row$stock$product;\n\n          return /*#__PURE__*/_jsxDEV(Tag, {\n            children: (_row$stock = row.stock) !== null && _row$stock !== void 0 && (_row$stock$product = _row$stock.product) !== null && _row$stock$product !== void 0 && _row$stock$product.active ? t('active') : t('inactive')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this);\n        }\n      }],\n      onChange: pagination => fetchTopProducts({\n        page: pagination === null || pagination === void 0 ? void 0 : pagination.current,\n        perPage: pagination === null || pagination === void 0 ? void 0 : pagination.pageSize\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserTopProducts, \"Pt0gS6BWBBwjGTTf8yV7PRU7xVI=\", false, function () {\n  return [useTranslation, useDispatch, useNavigate, useSelector];\n});\n\n_c = UserTopProducts;\nexport default UserTopProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserTopProducts\");","map":{"version":3,"names":["Card","Image","Space","Table","Tag","React","useEffect","useState","useTranslation","useDispatch","shallowEqual","useSelector","useNavigate","numberToPrice","addMenu","orderService","UserTopProducts","id","t","dispatch","navigate","data","setData","loading","setLoading","defaultCurrency","state","currency","fetchTopProducts","params","getUserTopProducts","then","res","finally","goToProduct","row","url","uuid","name","total","current","current_page","pageSize","per_page","title","dataIndex","key","render","stock","product","img","borderRadius","translation","price","symbol","_","active","pagination","page","perPage"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/user/user-top-products.js"],"sourcesContent":["import { Card, Image, Space, Table, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport { addMenu } from '../../redux/slices/menu';\nimport orderService from '../../services/order';\n\nconst UserTopProducts = ({ id }) => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual,\n  );\n  const fetchTopProducts = (params) => {\n    setLoading(true);\n    orderService\n      .getUserTopProducts(id, params)\n      .then((res) => setData(res.data))\n      .finally(() => setLoading(false));\n  };\n\n  const goToProduct = (row) => {\n    dispatch(\n      addMenu({\n        id: `product-edit`,\n        url: `product/${row.uuid}`,\n        name: t('edit.product'),\n      }),\n    );\n    navigate(`/product/${row.uuid}`);\n  };\n\n  useEffect(() => {\n    fetchTopProducts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Card title={t('top.products')}>\n      <Table\n        loading={loading}\n        dataSource={data?.data}\n        pagination={{\n          total: data?.total,\n          current: data?.current_page,\n          pageSize: data?.per_page,\n        }}\n        columns={[\n          {\n            title: t('product'),\n            dataIndex: 'stock',\n            key: 'stock',\n            render: (stock) => (\n              <Space>\n                <Image\n                  width={100}\n                  src={stock?.product?.img}\n                  placeholder\n                  style={{ borderRadius: 4 }}\n                />\n                <div\n                  onClick={() => goToProduct(stock?.product)}\n                  className='text-hover'\n                >\n                  {stock?.product?.translation?.title}\n                </div>\n              </Space>\n            ),\n          },\n          {\n            title: t('count'),\n            dataIndex: 'count',\n            key: 'count',\n          },\n          {\n            title: t('total.price'),\n            dataIndex: 'total_price',\n            key: 'total_price',\n            render: (price) => numberToPrice(price, defaultCurrency?.symbol),\n          },\n          {\n            title: t('status'),\n            dataIndex: 'status',\n            key: 'status',\n            render: (_, row) => (\n              <Tag>\n                {row.stock?.product?.active ? t('active') : t('inactive')}\n              </Tag>\n            ),\n          },\n        ]}\n        onChange={(pagination) =>\n          fetchTopProducts({\n            page: pagination?.current,\n            perPage: pagination?.pageSize,\n          })\n        }\n      />\n    </Card>\n  );\n};\n\nexport default UserTopProducts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}