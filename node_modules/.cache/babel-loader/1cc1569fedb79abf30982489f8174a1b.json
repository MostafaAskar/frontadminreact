{"ast":null,"code":"import React,{useState}from'react';import{Button,Card,Col,Form,Row,Space,Switch,Tag,TimePicker}from'antd';import{useTranslation}from'react-i18next';import moment from'moment';import{BsChevronCompactDown,BsChevronCompactUp}from'react-icons/bs';import{CheckOutlined,CloseOutlined}from'@ant-design/icons';import{DayPicker}from'react-day-picker';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const WorkingDays=_ref=>{let{onFinish,prev,form,lines,loadingBtn,days,setDays,setLines,weeks}=_ref;const{t}=useTranslation();const deleteDay=e=>setDays(days.filter(item=>item!==e));const disabledDays=[{from:new Date(1900,4,18),to:new Date(moment().subtract(1,'days'))}];const[list,setList]=useState(true);const footer=days&&days.length>0?/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Tag,{style:{fontSize:14,padding:'4px 10px',width:'100%',marginTop:'10px'},children:t('Your.existing.vacations')}),/*#__PURE__*/_jsxs(Col,{span:24,className:\"mt-2\",children:[days.slice(0,list?1:days.length).map((item,index)=>/*#__PURE__*/_jsxs(Space,{className:\"d-flex justify-content-between\",style:{borderBottom:'1px solid #4D5B75'},children:[/*#__PURE__*/_jsx(Col,{span:24,style:{fontSize:14,marginTop:'8px'},children:moment(item).format('YYYY-MM-DD')}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Tag,{color:\"red\",className:\"cursor-pointer mt-3 mb-2\",style:{fontSize:14},onClick:()=>deleteDay(item),children:t('remove')})})]},index)),/*#__PURE__*/_jsx(Button,{className:\"mt-3 w-100\",onClick:()=>{setList(!list);},children:list?/*#__PURE__*/_jsx(BsChevronCompactDown,{}):/*#__PURE__*/_jsx(BsChevronCompactUp,{})})]})]}):/*#__PURE__*/_jsx(Tag,{style:{fontSize:14,padding:'4px 10px',width:'100%'},children:\"Please pick one or more days.\"});const handleChange=idx=>{const newLines=[...lines];newLines[idx]=!lines[idx];setLines(newLines);};const middle=(start,end)=>{const result=[];for(let i=start;i<end;i++){result.push(i);}return result;};const disabledDateTime=()=>({disabledHours:()=>middle(0,1),disabledMinutes:()=>middle(0,0),disabledSeconds:()=>middle(0,60)});return/*#__PURE__*/_jsx(Form,{form:form,layout:\"vertical\",onFinish:onFinish,children:/*#__PURE__*/_jsxs(Row,{gutter:[24,24],children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:t('warehouse.working.days'),className:\"h-100\",children:/*#__PURE__*/_jsx(Row,{gutter:24,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.List,{name:\"working_days\",children:fields=>{return/*#__PURE__*/_jsx(\"div\",{children:fields.map((field,index)=>/*#__PURE__*/_jsxs(Row,{gutter:24,align:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:7,children:/*#__PURE__*/_jsx(Form.Item,{name:[index,'day'],children:/*#__PURE__*/_jsx(\"span\",{children:t(weeks[index].title)})})}),lines[field.key]?/*#__PURE__*/_jsx(Col,{span:13,className:\"mt-2\",children:/*#__PURE__*/_jsx(\"span\",{children:t('warehouse.closed')})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Col,{span:7,children:/*#__PURE__*/_jsx(Form.Item,{rules:[{required:lines[field.key]===false}],name:[index,'from'],children:/*#__PURE__*/_jsx(TimePicker,{disabledTime:disabledDateTime,picker:\"time\",placeholder:t('start.time')})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Form.Item,{rules:[{required:lines[field.key]===false}],name:[index,'to'],children:/*#__PURE__*/_jsx(TimePicker,{disabledTime:disabledDateTime,picker:\"time\",placeholder:t('end.time')})})})]}),/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Form.Item,{name:[index,'disabled'],valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Switch,{checkedChildren:/*#__PURE__*/_jsx(CheckOutlined,{}),unCheckedChildren:/*#__PURE__*/_jsx(CloseOutlined,{}),checked:lines[field.key],onChange:()=>handleChange(field.key)})})})]},field.key))});}})})})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Card,{title:t('warehouse.closed.days'),className:\"h-100\",children:[/*#__PURE__*/_jsx(\"p\",{children:t('warehouse.closed.days.text')}),/*#__PURE__*/_jsx(Form.Item,{rules:[{required:false,message:t('required')}],children:/*#__PURE__*/_jsx(DayPicker,{className:\"datepicker\",mode:\"multiple\",disabled:disabledDays,min:1,selected:days,onSelect:setDays,footer:footer,showOutsideDays:true})})]})}),/*#__PURE__*/_jsxs(Col,{span:24,className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Button,{htmlType:\"submit\",onClick:()=>prev(),children:t('prev')}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loadingBtn,children:t('submit')})]})]})});};export default WorkingDays;","map":null,"metadata":{},"sourceType":"module"}