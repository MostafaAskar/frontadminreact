{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Badge,Button,Card,Col,Row,Spin}from'antd';import subscriptionService from'services/seller/subscriptions';import{shallowEqual,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import SellerSubscriptionModal from'./subscriptionModal';import{useDispatch}from'react-redux';import{disableRefetch}from'redux/slices/menu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const features=[];export default function SellerSubscriptions(){const{t}=useTranslation();const{defaultCurrency}=useSelector(state=>state.currency,shallowEqual);const{myShop}=useSelector(state=>state.myShop,shallowEqual);const[modal,setModal]=useState(null);const[loading,setLoading]=useState(false);const[data,setData]=useState([]);const colCount=data.length;const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const dispatch=useDispatch();const fetchSubscriptionList=()=>{setLoading(true);subscriptionService.getAll().then(res=>{setData(res.data);}).finally(()=>{setLoading(false);dispatch(disableRefetch(activeMenu));});};useEffect(()=>{if(activeMenu.refetch){fetchSubscriptionList();}},[activeMenu.refetch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{className:\"h-100\",children:!loading?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-weight-semibold\",children:\"Pick a base plan\"}),/*#__PURE__*/_jsx(Row,{type:\"flex\",justify:\"center\",children:/*#__PURE__*/_jsx(Col,{sm:24,md:12,lg:8,children:/*#__PURE__*/_jsx(\"p\",{children:\"Space, the final frontier. These are the voyages of the Starship Enterprise. Its five-year mission.\"})})})]}),/*#__PURE__*/_jsx(Row,{children:data.map((elm,i)=>{var _myShop$subscription,_myShop$subscription$;return/*#__PURE__*/_jsx(Col,{span:6,className:colCount===i+1?'':'border-right',children:/*#__PURE__*/_jsx(Badge.Ribbon,{text:t('active'),color:\"red\",className:(myShop===null||myShop===void 0?void 0:(_myShop$subscription=myShop.subscription)===null||_myShop$subscription===void 0?void 0:(_myShop$subscription$=_myShop$subscription.subscription)===null||_myShop$subscription$===void 0?void 0:_myShop$subscription$.id)===elm.id?'':'d-none',children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"display-4 mt-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-size-md d-inline-block mr-1\",style:{transform:'translate(0px, -17px)'},children:defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol}),/*#__PURE__*/_jsx(\"span\",{children:elm.price})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 text-lowercase\",children:[elm.month,\" \",t('month')]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-center font-weight-semibold\",children:elm.type})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3\",children:/*#__PURE__*/_jsx(\"div\",{children:features===null||features===void 0?void 0:features.map((elm,i)=>{return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Badge,{color:'blue'}),/*#__PURE__*/_jsx(\"span\",{children:elm})]},`pricing-feature-${i}`);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center\",children:/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:()=>setModal(elm),children:t('purchase')})})]})})},`price-column-${i}`);})})]}):/*#__PURE__*/_jsx(Col,{className:\"ant-col-spin d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Spin,{size:\"large\"})})}),modal&&/*#__PURE__*/_jsx(SellerSubscriptionModal,{modal:modal,handleCancel:()=>setModal(null),refetch:fetchSubscriptionList})]});}","map":null,"metadata":{},"sourceType":"module"}