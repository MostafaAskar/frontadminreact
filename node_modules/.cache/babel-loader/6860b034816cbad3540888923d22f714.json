{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/upload/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Tabs, Modal, Image } from 'antd';\nimport UploadMedia from './upload-media';\nimport { DeleteOutlined, PlusOutlined } from '@ant-design/icons';\nimport getImage from 'helpers/getImage';\nimport ImageGallery from '../image-gallery';\nimport { t } from 'i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MediaUpload = _ref => {\n  _s();\n\n  let {\n    imageList = [],\n    setImageList,\n    form,\n    type,\n    multiple = true,\n    name,\n    disabled,\n    text = 'upload'\n  } = _ref;\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const [fileList, setFileList] = useState([]);\n\n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCancel = () => {\n    setIsModalOpen(false);\n    setLoadingBtn(false);\n    setFileList([]);\n  };\n\n  const removeImg = path => {\n    const nextArray = imageList.filter(item => item !== path);\n    form.setFieldsValue({\n      images: nextArray\n    });\n    setImageList(nextArray);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"media-upload-wrapper\",\n      children: [imageList === null || imageList === void 0 ? void 0 : imageList.filter(item => !(item !== null && item !== void 0 && item.isVideo)).map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-wrapper\",\n        onClick: () => disabled ? undefined : removeImg(item),\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          preview: false,\n          src: getImage(item === null || item === void 0 ? void 0 : item.name),\n          className: \"images\",\n          alt: 'images'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n          color: \"white\",\n          hidden: disabled\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)), (multiple || !imageList.length) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-upload\",\n        onClick: showModal,\n        children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: t(text)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      onCancel: handleCancel,\n      maskClosable: true,\n      visible: isModalOpen,\n      footer: false,\n      width: '80%',\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        children: [/*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n          tab: \"Media files\",\n          children: /*#__PURE__*/_jsxDEV(UploadMedia, {\n            form: form,\n            setImageList: setImageList,\n            imageList: imageList,\n            setIsModalOpen: setIsModalOpen,\n            name: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, 'item-1', false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n          tab: \"Upload media\",\n          className: \"upload-media\",\n          children: /*#__PURE__*/_jsxDEV(ImageGallery, {\n            type: type,\n            form: form,\n            setFileList: setImageList,\n            fileList: imageList,\n            multiple: multiple,\n            loadingBtn: loadingBtn,\n            setLoadingBtn: setLoadingBtn,\n            imageList: fileList,\n            setImageList: setFileList,\n            handleClose: handleCancel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, 'item-2', false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MediaUpload, \"XLmULVwMqsb6DVZ9WwhfhLiF26E=\");\n\n_c = MediaUpload;\nexport default MediaUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"MediaUpload\");","map":{"version":3,"names":["React","useState","Tabs","Modal","Image","UploadMedia","DeleteOutlined","PlusOutlined","getImage","ImageGallery","t","MediaUpload","imageList","setImageList","form","type","multiple","name","disabled","text","isModalOpen","setIsModalOpen","loadingBtn","setLoadingBtn","fileList","setFileList","showModal","handleCancel","removeImg","path","nextArray","filter","item","setFieldsValue","images","isVideo","map","idx","undefined","length"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/upload/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Tabs, Modal, Image } from 'antd';\nimport UploadMedia from './upload-media';\nimport { DeleteOutlined, PlusOutlined } from '@ant-design/icons';\nimport getImage from 'helpers/getImage';\nimport ImageGallery from '../image-gallery';\nimport { t } from 'i18next';\n\nconst MediaUpload = ({\n  imageList = [],\n  setImageList,\n  form,\n  type,\n  multiple = true,\n  name,\n  disabled,\n  text = 'upload',\n}) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const [fileList, setFileList] = useState([]);\n\n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleCancel = () => {\n    setIsModalOpen(false);\n    setLoadingBtn(false);\n    setFileList([]);\n  };\n\n  const removeImg = (path) => {\n    const nextArray = imageList.filter((item) => item !== path);\n    form.setFieldsValue({\n      images: nextArray,\n    });\n    setImageList(nextArray);\n  };\n\n  return (\n    <>\n      <div className='media-upload-wrapper'>\n        {imageList\n          ?.filter((item) => !item?.isVideo)\n          .map((item, idx) => (\n            <div\n              key={idx}\n              className='image-wrapper'\n              onClick={() => (disabled ? undefined : removeImg(item))}\n            >\n              <Image\n                preview={false}\n                src={getImage(item?.name)}\n                className='images'\n                alt={'images'}\n              />\n              <DeleteOutlined color='white' hidden={disabled} />\n            </div>\n          ))}\n        {(multiple || !imageList.length) && (\n          <div className='media-upload' onClick={showModal}>\n            <PlusOutlined /> <span>{t(text)}</span>\n          </div>\n        )}\n      </div>\n      <Modal\n        onCancel={handleCancel}\n        maskClosable={true}\n        visible={isModalOpen}\n        footer={false}\n        width={'80%'}\n      >\n        <Tabs>\n          <Tabs.TabPane tab='Media files' key='item-1'>\n            <UploadMedia\n              form={form}\n              setImageList={setImageList}\n              imageList={imageList}\n              setIsModalOpen={setIsModalOpen}\n              name={name}\n            />\n          </Tabs.TabPane>\n          <Tabs.TabPane\n            tab='Upload media'\n            key='item-2'\n            className='upload-media'\n          >\n            <ImageGallery\n              type={type}\n              form={form}\n              setFileList={setImageList}\n              fileList={imageList}\n              multiple={multiple}\n              loadingBtn={loadingBtn}\n              setLoadingBtn={setLoadingBtn}\n              imageList={fileList}\n              setImageList={setFileList}\n              handleClose={handleCancel}\n            />\n          </Tabs.TabPane>\n        </Tabs>\n      </Modal>\n    </>\n  );\n};\nexport default MediaUpload;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}