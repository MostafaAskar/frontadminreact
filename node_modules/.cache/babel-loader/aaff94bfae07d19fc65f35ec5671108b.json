{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button,Col,Descriptions,Image,Modal,Row}from'antd';import userService from'../../services/user';import getImage from'../../helpers/getImage';import{useTranslation}from'react-i18next';import Loading from'../../components/loading';import{shallowEqual,useSelector}from'react-redux';import numberToPrice from'../../helpers/numberToPrice';import useDemo from'../../helpers/useDemo';import hideEmail from'../../components/hideEmail';import hideNumber from'components/hideNumber';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ReactAppIsDemo=process.env.REACT_APP_IS_DEMO;export default function UserShowModal(_ref){var _data$wallet,_data$shop$translatio,_data$shop$translatio2;let{uuid,handleCancel}=_ref;const[data,setData]=useState({});const[loading,setLoading]=useState(false);const{t}=useTranslation();const{defaultCurrency}=useSelector(state=>state.currency,shallowEqual);const{isDemo}=useDemo();function fetchUser(uuid){setLoading(true);userService.getById(uuid).then(res=>setData(res.data)).finally(()=>setLoading(false));}useEffect(()=>{fetchUser(uuid);},[uuid]);return/*#__PURE__*/_jsx(Modal,{visible:!!uuid,title:t('user'),onCancel:handleCancel,footer:[/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')},'cancel')],className:data.shop?'large-modal':'',children:!loading?/*#__PURE__*/_jsxs(Row,{gutter:24,children:[/*#__PURE__*/_jsx(Col,{span:data.shop?12:24,children:/*#__PURE__*/_jsxs(Descriptions,{bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('avatar'),children:/*#__PURE__*/_jsx(Image,{src:getImage(data.img),alt:data.firstname,width:80,className:\"rounded\"})}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('user.id'),children:data.id}),/*#__PURE__*/_jsxs(Descriptions.Item,{span:3,label:t('name'),children:[data.firstname,\" \",data.lastname||'']}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('gender'),children:data.gender}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('birthday'),children:data.birthday}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('email'),children:ReactAppIsDemo?hideEmail(data===null||data===void 0?void 0:data.email):data===null||data===void 0?void 0:data.email}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('phone'),children:data!==null&&data!==void 0&&data.phone?ReactAppIsDemo?hideNumber(data===null||data===void 0?void 0:data.phone):data===null||data===void 0?void 0:data.phone:t('no.phone')}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('role'),children:data.role}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('wallet'),children:numberToPrice((_data$wallet=data.wallet)===null||_data$wallet===void 0?void 0:_data$wallet.price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)})]})}),data.shop?/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Descriptions,{bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('shop.id'),children:data.shop.id}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('shop.name'),children:(_data$shop$translatio=data.shop.translation)===null||_data$shop$translatio===void 0?void 0:_data$shop$translatio.title}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('shop.logo'),children:/*#__PURE__*/_jsx(\"img\",{src:getImage(data.shop.logo_img),alt:(_data$shop$translatio2=data.shop.translation)===null||_data$shop$translatio2===void 0?void 0:_data$shop$translatio2.title,width:100,className:\"rounded\"})}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('shop.phone'),children:data.shop.phone}),/*#__PURE__*/_jsxs(Descriptions.Item,{span:3,label:t('shop.open_close.time'),children:[data.shop.open_time,\" - \",data.shop.close_time]}),/*#__PURE__*/_jsx(Descriptions.Item,{span:3,label:t('delivery.range'),children:data.shop.delivery_range})]})}):'']}):/*#__PURE__*/_jsx(Loading,{})});}","map":null,"metadata":{},"sourceType":"module"}