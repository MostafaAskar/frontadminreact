{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/email-provider/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Button, Card, Space, Switch, Table } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport CustomModal from '../../components/modal';\nimport { fetchEmailProvider } from '../../redux/slices/emailProvider';\nimport emailService from '../../services/emailSettings';\nimport { toast } from 'react-toastify';\nimport { Context } from '../../context/context';\nimport { addMenu, disableRefetch } from '../../redux/slices/menu';\nimport moment from 'moment';\nimport { EditOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport { useNavigate } from 'react-router-dom';\nimport hideEmail from '../../components/hideEmail';\nimport useDemo from '../../helpers/useDemo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmailProvider() {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [id, setId] = useState(null);\n  const {\n    setIsModalVisible\n  } = useContext(Context);\n  const {\n    isDemo\n  } = useDemo();\n  const {\n    emailProvider,\n    loading\n  } = useSelector(state => state.emailProvider, shallowEqual);\n\n  const goToAddEmailProviders = () => {\n    dispatch(addMenu({\n      id: 'add_email_providers',\n      url: `settings/emailProviders/add`,\n      name: t('add_email_providers')\n    }));\n    navigate(`/settings/emailProviders/add`);\n  };\n\n  function goToEditEmailProviders(row) {\n    dispatch(addMenu({\n      url: `settings/emailProviders/${row.id}`,\n      id: 'edit_email_providers',\n      name: t('edit.email.providers')\n    }));\n    navigate(`/settings/emailProviders/${row.id}`, {\n      state: 'edit'\n    });\n  }\n\n  const columns = [{\n    title: t('from_site'),\n    dataIndex: 'from_site',\n    key: 'from_site'\n  }, {\n    title: t('from.to'),\n    dataIndex: 'from_to',\n    key: 'from_to',\n    render: from_to => isDemo ? hideEmail(from_to) : from_to\n  }, {\n    title: t('active'),\n    dataIndex: 'active',\n    render: (active, row) => {\n      return /*#__PURE__*/_jsxDEV(Switch, {\n        onChange: () => {\n          setIsModalVisible(true);\n          setId(row.id);\n        },\n        checked: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: t('created.at'),\n    dataIndex: 'created_at',\n    key: 'created_at',\n    render: created_at => moment(created_at).format('YYYY-MM-DD')\n  }, {\n    title: t('options'),\n    key: 'options',\n    dataIndex: 'options',\n    is_show: true,\n    render: (_, row) => {\n      return /*#__PURE__*/_jsxDEV(Space, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this),\n          onClick: () => goToEditEmailProviders(row)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n\n  const setDefaultLang = () => {\n    setLoadingBtn(true);\n    emailService.setActive(id).then(() => {\n      toast.success(t('successfully.updated'));\n      setIsModalVisible(false);\n      dispatch(fetchEmailProvider());\n    }).finally(() => setLoadingBtn(false));\n  };\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchEmailProvider());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('email.provider'),\n    extra: /*#__PURE__*/_jsxDEV(Space, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }, this),\n        type: \"primary\",\n        onClick: goToAddEmailProviders,\n        children: t('add.email.provider')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this),\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      scroll: {\n        x: true\n      },\n      columns: columns,\n      dataSource: emailProvider,\n      rowKey: record => record.id,\n      loading: loading,\n      pagination: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      click: setDefaultLang,\n      text: t('set.active.email.provider'),\n      loading: loadingBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EmailProvider, \"rtriP9Uh2up5HW70f519XIa3a5M=\", false, function () {\n  return [useTranslation, useSelector, useDispatch, useNavigate, useDemo, useSelector];\n});\n\n_c = EmailProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailProvider\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Button","Card","Space","Switch","Table","useTranslation","shallowEqual","useDispatch","useSelector","CustomModal","fetchEmailProvider","emailService","toast","Context","addMenu","disableRefetch","moment","EditOutlined","PlusCircleOutlined","useNavigate","hideEmail","useDemo","EmailProvider","t","loadingBtn","setLoadingBtn","activeMenu","state","menu","dispatch","navigate","id","setId","setIsModalVisible","isDemo","emailProvider","loading","goToAddEmailProviders","url","name","goToEditEmailProviders","row","columns","title","dataIndex","key","render","from_to","active","created_at","format","is_show","_","setDefaultLang","setActive","then","success","finally","refetch","x","record"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/email-provider/index.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Button, Card, Space, Switch, Table } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport CustomModal from '../../components/modal';\nimport { fetchEmailProvider } from '../../redux/slices/emailProvider';\nimport emailService from '../../services/emailSettings';\nimport { toast } from 'react-toastify';\nimport { Context } from '../../context/context';\nimport { addMenu, disableRefetch } from '../../redux/slices/menu';\nimport moment from 'moment';\nimport { EditOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport { useNavigate } from 'react-router-dom';\nimport hideEmail from '../../components/hideEmail';\nimport useDemo from '../../helpers/useDemo';\n\nexport default function EmailProvider() {\n  const { t } = useTranslation();\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [id, setId] = useState(null);\n  const { setIsModalVisible } = useContext(Context);\n  const { isDemo } = useDemo();\n  const { emailProvider, loading } = useSelector(\n    (state) => state.emailProvider,\n    shallowEqual\n  );\n\n  const goToAddEmailProviders = () => {\n    dispatch(\n      addMenu({\n        id: 'add_email_providers',\n        url: `settings/emailProviders/add`,\n        name: t('add_email_providers'),\n      })\n    );\n    navigate(`/settings/emailProviders/add`);\n  };\n\n  function goToEditEmailProviders(row) {\n    dispatch(\n      addMenu({\n        url: `settings/emailProviders/${row.id}`,\n        id: 'edit_email_providers',\n        name: t('edit.email.providers'),\n      })\n    );\n    navigate(`/settings/emailProviders/${row.id}`, { state: 'edit' });\n  }\n\n  const columns = [\n    {\n      title: t('from_site'),\n      dataIndex: 'from_site',\n      key: 'from_site',\n    },\n    {\n      title: t('from.to'),\n      dataIndex: 'from_to',\n      key: 'from_to',\n      render: (from_to) => (isDemo ? hideEmail(from_to) : from_to),\n    },\n    {\n      title: t('active'),\n      dataIndex: 'active',\n      render: (active, row) => {\n        return (\n          <Switch\n            onChange={() => {\n              setIsModalVisible(true);\n              setId(row.id);\n            }}\n            checked={active}\n          />\n        );\n      },\n    },\n    {\n      title: t('created.at'),\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (created_at) => moment(created_at).format('YYYY-MM-DD'),\n    },\n    {\n      title: t('options'),\n      key: 'options',\n      dataIndex: 'options',\n      is_show: true,\n      render: (_, row) => {\n        return (\n          <Space>\n            <Button\n              type='primary'\n              icon={<EditOutlined />}\n              onClick={() => goToEditEmailProviders(row)}\n            />\n          </Space>\n        );\n      },\n    },\n  ];\n\n  const setDefaultLang = () => {\n    setLoadingBtn(true);\n    emailService\n      .setActive(id)\n      .then(() => {\n        toast.success(t('successfully.updated'));\n        setIsModalVisible(false);\n        dispatch(fetchEmailProvider());\n      })\n      .finally(() => setLoadingBtn(false));\n  };\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchEmailProvider());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  return (\n    <Card\n      title={t('email.provider')}\n      extra={\n        <Space>\n          <Button\n            icon={<PlusCircleOutlined />}\n            type='primary'\n            onClick={goToAddEmailProviders}\n          >\n            {t('add.email.provider')}\n          </Button>\n        </Space>\n      }\n    >\n      <Table\n        scroll={{ x: true }}\n        columns={columns}\n        dataSource={emailProvider}\n        rowKey={(record) => record.id}\n        loading={loading}\n        pagination={false}\n      />\n      <CustomModal\n        click={setDefaultLang}\n        text={t('set.active.email.provider')}\n        loading={loadingBtn}\n      />\n    </Card>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,KAAtC,QAAmD,MAAnD;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,QAAuD,aAAvD;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,kBAAT,QAAmC,kCAAnC;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,OAAT,EAAkBC,cAAlB,QAAwC,yBAAxC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,YAAT,EAAuBC,kBAAvB,QAAiD,mBAAjD;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;;AAEA,eAAe,SAASC,aAAT,GAAyB;EAAA;;EACtC,MAAM;IAAEC;EAAF,IAAQlB,cAAc,EAA5B;EACA,MAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8B5B,QAAQ,CAAC,KAAD,CAA5C;EACA,MAAM;IAAE6B;EAAF,IAAiBlB,WAAW,CAAEmB,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwBtB,YAAxB,CAAlC;EACA,MAAMuB,QAAQ,GAAGtB,WAAW,EAA5B;EACA,MAAMuB,QAAQ,GAAGX,WAAW,EAA5B;EACA,MAAM,CAACY,EAAD,EAAKC,KAAL,IAAcnC,QAAQ,CAAC,IAAD,CAA5B;EACA,MAAM;IAAEoC;EAAF,IAAwBnC,UAAU,CAACe,OAAD,CAAxC;EACA,MAAM;IAAEqB;EAAF,IAAab,OAAO,EAA1B;EACA,MAAM;IAAEc,aAAF;IAAiBC;EAAjB,IAA6B5B,WAAW,CAC3CmB,KAAD,IAAWA,KAAK,CAACQ,aAD2B,EAE5C7B,YAF4C,CAA9C;;EAKA,MAAM+B,qBAAqB,GAAG,MAAM;IAClCR,QAAQ,CACNf,OAAO,CAAC;MACNiB,EAAE,EAAE,qBADE;MAENO,GAAG,EAAG,6BAFA;MAGNC,IAAI,EAAEhB,CAAC,CAAC,qBAAD;IAHD,CAAD,CADD,CAAR;IAOAO,QAAQ,CAAE,8BAAF,CAAR;EACD,CATD;;EAWA,SAASU,sBAAT,CAAgCC,GAAhC,EAAqC;IACnCZ,QAAQ,CACNf,OAAO,CAAC;MACNwB,GAAG,EAAG,2BAA0BG,GAAG,CAACV,EAAG,EADjC;MAENA,EAAE,EAAE,sBAFE;MAGNQ,IAAI,EAAEhB,CAAC,CAAC,sBAAD;IAHD,CAAD,CADD,CAAR;IAOAO,QAAQ,CAAE,4BAA2BW,GAAG,CAACV,EAAG,EAApC,EAAuC;MAAEJ,KAAK,EAAE;IAAT,CAAvC,CAAR;EACD;;EAED,MAAMe,OAAO,GAAG,CACd;IACEC,KAAK,EAAEpB,CAAC,CAAC,WAAD,CADV;IAEEqB,SAAS,EAAE,WAFb;IAGEC,GAAG,EAAE;EAHP,CADc,EAMd;IACEF,KAAK,EAAEpB,CAAC,CAAC,SAAD,CADV;IAEEqB,SAAS,EAAE,SAFb;IAGEC,GAAG,EAAE,SAHP;IAIEC,MAAM,EAAGC,OAAD,IAAcb,MAAM,GAAGd,SAAS,CAAC2B,OAAD,CAAZ,GAAwBA;EAJtD,CANc,EAYd;IACEJ,KAAK,EAAEpB,CAAC,CAAC,QAAD,CADV;IAEEqB,SAAS,EAAE,QAFb;IAGEE,MAAM,EAAE,CAACE,MAAD,EAASP,GAAT,KAAiB;MACvB,oBACE,QAAC,MAAD;QACE,QAAQ,EAAE,MAAM;UACdR,iBAAiB,CAAC,IAAD,CAAjB;UACAD,KAAK,CAACS,GAAG,CAACV,EAAL,CAAL;QACD,CAJH;QAKE,OAAO,EAAEiB;MALX;QAAA;QAAA;QAAA;MAAA,QADF;IASD;EAbH,CAZc,EA2Bd;IACEL,KAAK,EAAEpB,CAAC,CAAC,YAAD,CADV;IAEEqB,SAAS,EAAE,YAFb;IAGEC,GAAG,EAAE,YAHP;IAIEC,MAAM,EAAGG,UAAD,IAAgBjC,MAAM,CAACiC,UAAD,CAAN,CAAmBC,MAAnB,CAA0B,YAA1B;EAJ1B,CA3Bc,EAiCd;IACEP,KAAK,EAAEpB,CAAC,CAAC,SAAD,CADV;IAEEsB,GAAG,EAAE,SAFP;IAGED,SAAS,EAAE,SAHb;IAIEO,OAAO,EAAE,IAJX;IAKEL,MAAM,EAAE,CAACM,CAAD,EAAIX,GAAJ,KAAY;MAClB,oBACE,QAAC,KAAD;QAAA,uBACE,QAAC,MAAD;UACE,IAAI,EAAC,SADP;UAEE,IAAI,eAAE,QAAC,YAAD;YAAA;YAAA;YAAA;UAAA,QAFR;UAGE,OAAO,EAAE,MAAMD,sBAAsB,CAACC,GAAD;QAHvC;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF;IASD;EAfH,CAjCc,CAAhB;;EAoDA,MAAMY,cAAc,GAAG,MAAM;IAC3B5B,aAAa,CAAC,IAAD,CAAb;IACAd,YAAY,CACT2C,SADH,CACavB,EADb,EAEGwB,IAFH,CAEQ,MAAM;MACV3C,KAAK,CAAC4C,OAAN,CAAcjC,CAAC,CAAC,sBAAD,CAAf;MACAU,iBAAiB,CAAC,KAAD,CAAjB;MACAJ,QAAQ,CAACnB,kBAAkB,EAAnB,CAAR;IACD,CANH,EAOG+C,OAPH,CAOW,MAAMhC,aAAa,CAAC,KAAD,CAP9B;EAQD,CAVD;;EAYA1B,SAAS,CAAC,MAAM;IACd,IAAI2B,UAAU,CAACgC,OAAf,EAAwB;MACtB7B,QAAQ,CAACnB,kBAAkB,EAAnB,CAAR;MACAmB,QAAQ,CAACd,cAAc,CAACW,UAAD,CAAf,CAAR;IACD;EACF,CALQ,EAKN,CAACA,UAAU,CAACgC,OAAZ,CALM,CAAT;EAOA,oBACE,QAAC,IAAD;IACE,KAAK,EAAEnC,CAAC,CAAC,gBAAD,CADV;IAEE,KAAK,eACH,QAAC,KAAD;MAAA,uBACE,QAAC,MAAD;QACE,IAAI,eAAE,QAAC,kBAAD;UAAA;UAAA;UAAA;QAAA,QADR;QAEE,IAAI,EAAC,SAFP;QAGE,OAAO,EAAEc,qBAHX;QAAA,UAKGd,CAAC,CAAC,oBAAD;MALJ;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAHJ;IAAA,wBAcE,QAAC,KAAD;MACE,MAAM,EAAE;QAAEoC,CAAC,EAAE;MAAL,CADV;MAEE,OAAO,EAAEjB,OAFX;MAGE,UAAU,EAAEP,aAHd;MAIE,MAAM,EAAGyB,MAAD,IAAYA,MAAM,CAAC7B,EAJ7B;MAKE,OAAO,EAAEK,OALX;MAME,UAAU,EAAE;IANd;MAAA;MAAA;MAAA;IAAA,QAdF,eAsBE,QAAC,WAAD;MACE,KAAK,EAAEiB,cADT;MAEE,IAAI,EAAE9B,CAAC,CAAC,2BAAD,CAFT;MAGE,OAAO,EAAEC;IAHX;MAAA;MAAA;MAAA;IAAA,QAtBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA8BD;;GAzIuBF,a;UACRjB,c,EAESG,W,EACND,W,EACAY,W,EAGEE,O,EACgBb,W;;;KATbc,a"},"metadata":{},"sourceType":"module"}