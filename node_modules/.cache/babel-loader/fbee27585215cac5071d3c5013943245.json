{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/delivery-price/price-edit.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Form } from 'antd';\nimport { batch, shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu } from 'redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport deliveryPriceService from 'services/seller/delivery-price';\nimport { fetchSellerDeliveryPrice } from 'redux/slices/delivery-price';\nimport PriceForm from './price-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditDeliveryPrice = () => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    id\n  } = useParams();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    myShop\n  } = useSelector(state => state.myShop, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n\n  const onFinish = values => {\n    const {\n      area,\n      city,\n      country,\n      region,\n      price,\n      fitting_rooms,\n      active\n    } = values;\n    const body = {\n      price,\n      fitting_rooms,\n      active: Number(active),\n      area_id: area === null || area === void 0 ? void 0 : area.value,\n      city_id: city === null || city === void 0 ? void 0 : city.value,\n      country_id: country === null || country === void 0 ? void 0 : country.value,\n      region_id: region === null || region === void 0 ? void 0 : region.value,\n      shop_id: myShop === null || myShop === void 0 ? void 0 : myShop.id\n    };\n    const nextUrl = 'seller/delivery-price';\n    return deliveryPriceService.update(id, body).then(() => {\n      toast.success(t('successfully.updated'));\n      batch(() => {\n        dispatch(removeFromMenu({ ...activeMenu,\n          nextUrl\n        }));\n        dispatch(fetchSellerDeliveryPrice({}));\n      });\n      navigate(`/${nextUrl}`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(PriceForm, {\n    form: form,\n    handleSubmit: onFinish\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 10\n  }, this);\n};\n\n_s(EditDeliveryPrice, \"COT12NW65wOe5hGcFPiEavveJ70=\", false, function () {\n  return [useTranslation, useParams, useSelector, useSelector, useDispatch, Form.useForm, useNavigate];\n});\n\n_c = EditDeliveryPrice;\nexport default EditDeliveryPrice;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditDeliveryPrice\");","map":{"version":3,"names":["React","useNavigate","useParams","toast","Form","batch","shallowEqual","useDispatch","useSelector","removeFromMenu","useTranslation","deliveryPriceService","fetchSellerDeliveryPrice","PriceForm","EditDeliveryPrice","t","id","activeMenu","state","menu","myShop","dispatch","form","useForm","navigate","onFinish","values","area","city","country","region","price","fitting_rooms","active","body","Number","area_id","value","city_id","country_id","region_id","shop_id","nextUrl","update","then","success"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/delivery-price/price-edit.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Form } from 'antd';\nimport { batch, shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu } from 'redux/slices/menu';\nimport { useTranslation } from 'react-i18next';\nimport deliveryPriceService from 'services/seller/delivery-price';\nimport { fetchSellerDeliveryPrice } from 'redux/slices/delivery-price';\nimport PriceForm from './price-form';\n\nconst EditDeliveryPrice = () => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { myShop } = useSelector((state) => state.myShop, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n\n  const onFinish = (values) => {\n    const { area, city, country, region, price, fitting_rooms, active } =\n      values;\n    const body = {\n      price,\n      fitting_rooms,\n      active: Number(active),\n      area_id: area?.value,\n      city_id: city?.value,\n      country_id: country?.value,\n      region_id: region?.value,\n      shop_id: myShop?.id,\n    };\n    const nextUrl = 'seller/delivery-price';\n    return deliveryPriceService.update(id, body).then(() => {\n      toast.success(t('successfully.updated'));\n      batch(() => {\n        dispatch(removeFromMenu({ ...activeMenu, nextUrl }));\n        dispatch(fetchSellerDeliveryPrice({}));\n      });\n      navigate(`/${nextUrl}`);\n    });\n  };\n\n  return <PriceForm form={form} handleSubmit={onFinish} />;\n};\n\nexport default EditDeliveryPrice;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,KAAT,EAAgBC,YAAhB,EAA8BC,WAA9B,EAA2CC,WAA3C,QAA8D,aAA9D;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,oBAAP,MAAiC,gCAAjC;AACA,SAASC,wBAAT,QAAyC,6BAAzC;AACA,OAAOC,SAAP,MAAsB,cAAtB;;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;EAAA;;EAC9B,MAAM;IAAEC;EAAF,IAAQL,cAAc,EAA5B;EACA,MAAM;IAAEM;EAAF,IAASd,SAAS,EAAxB;EACA,MAAM;IAAEe;EAAF,IAAiBT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACC,IAAlB,EAAwBb,YAAxB,CAAlC;EACA,MAAM;IAAEc;EAAF,IAAaZ,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACE,MAAlB,EAA0Bd,YAA1B,CAA9B;EACA,MAAMe,QAAQ,GAAGd,WAAW,EAA5B;EACA,MAAM,CAACe,IAAD,IAASlB,IAAI,CAACmB,OAAL,EAAf;EACA,MAAMC,QAAQ,GAAGvB,WAAW,EAA5B;;EAEA,MAAMwB,QAAQ,GAAIC,MAAD,IAAY;IAC3B,MAAM;MAAEC,IAAF;MAAQC,IAAR;MAAcC,OAAd;MAAuBC,MAAvB;MAA+BC,KAA/B;MAAsCC,aAAtC;MAAqDC;IAArD,IACJP,MADF;IAEA,MAAMQ,IAAI,GAAG;MACXH,KADW;MAEXC,aAFW;MAGXC,MAAM,EAAEE,MAAM,CAACF,MAAD,CAHH;MAIXG,OAAO,EAAET,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEU,KAJJ;MAKXC,OAAO,EAAEV,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAES,KALJ;MAMXE,UAAU,EAAEV,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEQ,KANV;MAOXG,SAAS,EAAEV,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEO,KAPR;MAQXI,OAAO,EAAErB,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEJ;IARN,CAAb;IAUA,MAAM0B,OAAO,GAAG,uBAAhB;IACA,OAAO/B,oBAAoB,CAACgC,MAArB,CAA4B3B,EAA5B,EAAgCkB,IAAhC,EAAsCU,IAAtC,CAA2C,MAAM;MACtDzC,KAAK,CAAC0C,OAAN,CAAc9B,CAAC,CAAC,sBAAD,CAAf;MACAV,KAAK,CAAC,MAAM;QACVgB,QAAQ,CAACZ,cAAc,CAAC,EAAE,GAAGQ,UAAL;UAAiByB;QAAjB,CAAD,CAAf,CAAR;QACArB,QAAQ,CAACT,wBAAwB,CAAC,EAAD,CAAzB,CAAR;MACD,CAHI,CAAL;MAIAY,QAAQ,CAAE,IAAGkB,OAAQ,EAAb,CAAR;IACD,CAPM,CAAP;EAQD,CAtBD;;EAwBA,oBAAO,QAAC,SAAD;IAAW,IAAI,EAAEpB,IAAjB;IAAuB,YAAY,EAAEG;EAArC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAlCD;;GAAMX,iB;UACUJ,c,EACCR,S,EACQM,W,EACJA,W,EACFD,W,EACFH,IAAI,CAACmB,O,EACHtB,W;;;KAPba,iB;AAoCN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}