{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar e = require(\"react\"),\n    t = require(\"@rive-app/canvas\");\n\nfunction n(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e : {\n    default: e\n  };\n}\n\nvar r = n(e),\n    i = function () {\n  return i = Object.assign || function (e) {\n    for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n\n    return e;\n  }, i.apply(this, arguments);\n};\n\nfunction a(e, t) {\n  var n = {};\n\n  for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);\n\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var i = 0;\n\n    for (r = Object.getOwnPropertySymbols(e); i < r.length; i++) t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);\n  }\n\n  return n;\n}\n\nvar u = function () {\n  function e() {}\n\n  return e.prototype.observe = function () {}, e.prototype.unobserve = function () {}, e.prototype.disconnect = function () {}, e;\n}();\n\nvar o = globalThis.ResizeObserver || u,\n    c = void 0 !== globalThis.ResizeObserver,\n    s = !c;\n\nfunction f(t) {\n  var n = e.useState({\n    width: 0,\n    height: 0\n  }),\n      r = n[0],\n      i = n[1];\n  e.useEffect(function () {\n    if (\"undefined\" != typeof window) {\n      var e = function () {\n        i({\n          width: window.innerWidth,\n          height: window.innerHeight\n        });\n      };\n\n      return s && (e(), window.addEventListener(\"resize\", e)), function () {\n        return window.removeEventListener(\"resize\", e);\n      };\n    }\n  }, []);\n  var a,\n      u,\n      f,\n      l = e.useRef(new o((a = function (e) {\n    c && i({\n      width: e[e.length - 1].contentRect.width,\n      height: e[e.length - 1].contentRect.height\n    });\n  }, u = 0, f = 0, function () {\n    for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];\n\n    clearTimeout(f), f = window.setTimeout(function () {\n      return a.apply(e, t);\n    }, u);\n  })));\n  return e.useEffect(function () {\n    var e = l.current;\n    return t.current && c && e.observe(t.current), function () {\n      e.disconnect(), t.current && c && e.unobserve(t.current);\n    };\n  }, [t, l]), r;\n}\n\nfunction l() {\n  var e = \"undefined\" != typeof window && \"number\" == typeof window.devicePixelRatio ? window.devicePixelRatio : 1;\n  return Math.min(Math.max(1, e), 3);\n}\n\nfunction d(e) {\n  var t = e.setContainerRef,\n      n = e.setCanvasRef,\n      u = e.className,\n      o = void 0 === u ? \"\" : u,\n      c = e.style,\n      s = a(e, [\"setContainerRef\", \"setCanvasRef\", \"className\", \"style\"]),\n      f = i({\n    width: \"100%\",\n    height: \"100%\"\n  }, c);\n  return r.default.createElement(\"div\", i({\n    ref: t,\n    className: o\n  }, !o && {\n    style: f\n  }), r.default.createElement(\"canvas\", i({\n    ref: n,\n    style: {\n      verticalAlign: \"top\",\n      width: 0,\n      height: 0\n    }\n  }, s)));\n}\n\nvar h = {\n  useDevicePixelRatio: !0,\n  fitCanvasToArtboardHeight: !1,\n  useOffscreenRenderer: !0\n};\n\nfunction v(n, a) {\n  void 0 === a && (a = {});\n\n  var u = e.useRef(null),\n      o = e.useRef(null),\n      c = e.useState(null),\n      s = c[0],\n      v = c[1],\n      p = e.useState({\n    height: 0,\n    width: 0\n  }),\n      w = p[0],\n      g = p[1],\n      y = e.useState({\n    height: 0,\n    width: 0\n  }),\n      b = y[0],\n      m = y[1],\n      R = f(o),\n      O = function () {\n    var t = l(),\n        n = e.useState(t),\n        r = n[0],\n        i = n[1];\n    return e.useEffect(function () {\n      if (\"undefined\" != typeof window && \"matchMedia\" in window) {\n        var e = function () {\n          var e = l();\n          i(e);\n        },\n            t = window.matchMedia(\"screen and (resolution: \".concat(r, \"dppx)\"));\n\n        return t.addEventListener(\"change\", e), function () {\n          t.removeEventListener(\"change\", e);\n        };\n      }\n    }, [r]), r;\n  }(),\n      E = Boolean(n),\n      x = function (e) {\n    return Object.assign({}, h, e);\n  }(a);\n\n  function C() {\n    if (o.current) {\n      var e = function () {\n        var e,\n            t,\n            n,\n            r,\n            i = null !== (t = null === (e = o.current) || void 0 === e ? void 0 : e.clientWidth) && void 0 !== t ? t : 0,\n            a = null !== (r = null === (n = o.current) || void 0 === n ? void 0 : n.clientHeight) && void 0 !== r ? r : 0;\n\n        if (s && x.fitCanvasToArtboardHeight) {\n          var u = s.bounds;\n          return {\n            width: i,\n            height: i * (u.maxY / u.maxX)\n          };\n        }\n\n        return {\n          width: i,\n          height: a\n        };\n      }(),\n          t = e.width,\n          n = e.height;\n\n      if (u.current && s) {\n        var r = t !== w.width || n !== w.height;\n\n        if (x.fitCanvasToArtboardHeight && r && (o.current.style.height = n + \"px\"), x.useDevicePixelRatio) {\n          var i = t * O !== b.width || n * O !== b.height;\n\n          if (r || i) {\n            var a = O * t,\n                c = O * n;\n            u.current.width = a, u.current.height = c, u.current.style.width = t + \"px\", u.current.style.height = n + \"px\", m({\n              width: a,\n              height: c\n            });\n          }\n        } else r && (u.current.width = t, u.current.height = n, m({\n          width: t,\n          height: n\n        }));\n\n        g({\n          width: t,\n          height: n\n        }), s.startRendering();\n      }\n\n      s && s.resizeToCanvas();\n    }\n  }\n\n  e.useEffect(function () {\n    s && C();\n  }, [s, R, O]);\n  var P = e.useCallback(function (e) {\n    if (e && n && E) {\n      var r = x.useOffscreenRenderer,\n          a = new t.Rive(i(i({\n        useOffscreenRenderer: r\n      }, n), {\n        canvas: e\n      }));\n      a.on(t.EventType.Load, function () {\n        u.current ? v(a) : a.cleanup();\n      });\n    } else null === e && u.current && (u.current.height = 0, u.current.width = 0);\n\n    u.current = e;\n  }, [E]),\n      j = e.useCallback(function (e) {\n    o.current = e;\n  }, []);\n  e.useEffect(function () {\n    var e = new IntersectionObserver(function (e) {\n      e[0].isIntersecting ? s && s.startRendering() : s && s.stopRendering();\n    });\n    return u.current && e.observe(u.current), function () {\n      e.disconnect();\n    };\n  }, [s]), e.useEffect(function () {\n    return function () {\n      s && (s.cleanup(), v(null));\n    };\n  }, [s]);\n  var M = null == n ? void 0 : n.animations;\n  e.useEffect(function () {\n    s && M && (s.isPlaying ? (s.stop(s.animationNames), s.play(M)) : s.isPaused && (s.stop(s.animationNames), s.pause(M)));\n  }, [M, s]);\n  var T = e.useCallback(function (e) {\n    return r.default.createElement(d, i({\n      setContainerRef: j,\n      setCanvasRef: P\n    }, e));\n  }, []);\n  return {\n    canvas: u.current,\n    setCanvasRef: P,\n    setContainerRef: j,\n    rive: s,\n    RiveComponent: T\n  };\n}\n\nexports.default = function (e) {\n  var t = e.src,\n      n = e.artboard,\n      u = e.animations,\n      o = e.stateMachines,\n      c = e.layout,\n      s = e.useOffscreenRenderer,\n      f = void 0 === s || s,\n      l = a(e, [\"src\", \"artboard\", \"animations\", \"stateMachines\", \"layout\", \"useOffscreenRenderer\"]),\n      d = v({\n    src: t,\n    artboard: n,\n    animations: u,\n    layout: c,\n    stateMachines: o,\n    autoplay: !0\n  }, {\n    useOffscreenRenderer: f\n  }).RiveComponent;\n  return r.default.createElement(d, i({}, l));\n}, exports.useRive = v, exports.useStateMachineInput = function (n, r, i, a) {\n  var u = e.useState(null),\n      o = u[0],\n      c = u[1];\n  return e.useEffect(function () {\n    function e() {\n      if (n && r && i || c(null), n && r && i) {\n        var e = n.stateMachineInputs(r);\n\n        if (e) {\n          var t = e.find(function (e) {\n            return e.name === i;\n          });\n          void 0 !== a && t && (t.value = a), c(t || null);\n        }\n      } else c(null);\n    }\n\n    e(), n && n.on(t.EventType.Play, function () {\n      e();\n    });\n  }, [n]), o;\n}, Object.keys(t).forEach(function (e) {\n  \"default\" === e || exports.hasOwnProperty(e) || Object.defineProperty(exports, e, {\n    enumerable: !0,\n    get: function () {\n      return t[e];\n    }\n  });\n});","map":null,"metadata":{},"sourceType":"script"}