{"ast":null,"code":"import{Card,Select,Table,Tag}from'antd';import React,{useEffect,useState}from'react';import{useTranslation}from'react-i18next';import{shallowEqual,useSelector}from'react-redux';import numberToPrice from'../../helpers/numberToPrice';import refundService from'../../services/refund';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";const UserRefunds=_ref=>{var _data$meta,_data$meta2,_data$meta3;let{id}=_ref;const{t}=useTranslation();const[data,setData]=useState({});const[loading,setLoading]=useState(false);const{defaultCurrency}=useSelector(state=>state.currency,shallowEqual);const fetchRefunds=params=>{setLoading(true);refundService.getAll({user_uuid:id,...params}).then(res=>{setData(res);}).finally(()=>{setLoading(false);});};useEffect(()=>{fetchRefunds();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsx(Card,{title:t('order.refunds'),extra:/*#__PURE__*/_jsx(Select,{options:[{label:t('pending'),value:'pending',key:'pending'},{label:t('accepted'),value:'accepted',key:'accepted'},{label:t('canceled'),value:'canceled',key:'canceled'}],onChange:value=>fetchRefunds({status:value}),placeholder:t('status'),allowClear:true,style:{width:130}}),children:/*#__PURE__*/_jsx(Table,{loading:loading,dataSource:data===null||data===void 0?void 0:data.data,pagination:{total:data===null||data===void 0?void 0:(_data$meta=data.meta)===null||_data$meta===void 0?void 0:_data$meta.total,current:data===null||data===void 0?void 0:(_data$meta2=data.meta)===null||_data$meta2===void 0?void 0:_data$meta2.current_page,pageSize:data===null||data===void 0?void 0:(_data$meta3=data.meta)===null||_data$meta3===void 0?void 0:_data$meta3.per_page},columns:[{title:t('cause'),dataIndex:'cause',key:'cause'},{title:t('answer'),dataIndex:'answer',key:'answer',render:answer=>answer||'no.answer'},{title:t('total.price'),dataIndex:'total_price',key:'total_price',render:(_,row)=>{var _row$order;return numberToPrice((_row$order=row.order)===null||_row$order===void 0?void 0:_row$order.total_price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol);}},{title:t('status'),dataIndex:'status',key:'status',render:status=>/*#__PURE__*/_jsx(Tag,{children:status})},{title:t('created.date.&.time'),dataIndex:'created_at',key:'created_at',render:created_at=>moment(created_at).format('YYYY-MM-DD HH:mm')}],onChange:pagination=>fetchRefunds({page:pagination.current,perPage:pagination.pageSize})})});};export default UserRefunds;","map":null,"metadata":{},"sourceType":"module"}