{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/units/unit-add.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Button, Card, Col, Form, Input, Row, Select, Switch } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu, setMenuData } from '../../redux/slices/menu';\nimport { fetchUnits } from '../../redux/slices/unit';\nimport unitService from '../../services/unit';\nimport LanguageList from '../../components/language-list';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UnitAdd() {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const {\n    defaultLang,\n    languages\n  } = useSelector(state => state.formLang, shallowEqual);\n  useEffect(() => {\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({\n        activeMenu,\n        data\n      }));\n    };\n  }, []);\n\n  const onFinish = values => {\n    const body = { ...values,\n      active: values.active ? 1 : 0\n    };\n    setLoadingBtn(true);\n    const nextUrl = 'catalog/units';\n    unitService.create(body).then(() => {\n      toast.success(t('successfully.created'));\n      dispatch(removeFromMenu({ ...activeMenu,\n        nextUrl\n      }));\n      navigate(`/${nextUrl}`);\n      dispatch(fetchUnits({}));\n    }).finally(() => setLoadingBtn(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('add.unit'),\n    extra: /*#__PURE__*/_jsxDEV(LanguageList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 40\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      name: \"basic\",\n      layout: \"vertical\",\n      onFinish: onFinish,\n      form: form,\n      initialValues: {\n        active: true,\n        ...activeMenu.data\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        gutter: 12,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: languages.map((item, idx) => /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: t('title'),\n            name: `title[${item.locale}]`,\n            rules: [{\n              required: item.locale === defaultLang,\n              message: t('required')\n            }],\n            hidden: item.locale !== defaultLang,\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)\n          }, 'title' + idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: t('position'),\n              name: \"position\",\n              rules: [{\n                required: true,\n                message: t('required')\n              }],\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"after\",\n                  children: t('after')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"before\",\n                  children: t('before')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: t('active'),\n              name: \"active\",\n              valuePropName: \"checked\",\n              children: /*#__PURE__*/_jsxDEV(Switch, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        loading: loadingBtn,\n        children: t('submit')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UnitAdd, \"DOQUg7qMm5CO9d4dUgFVUXM1/2Q=\", false, function () {\n  return [useTranslation, useSelector, useDispatch, Form.useForm, useNavigate, useSelector];\n});\n\n_c = UnitAdd;\n\nvar _c;\n\n$RefreshReg$(_c, \"UnitAdd\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","toast","Button","Card","Col","Form","Input","Row","Select","Switch","shallowEqual","useDispatch","useSelector","removeFromMenu","setMenuData","fetchUnits","unitService","LanguageList","useTranslation","UnitAdd","t","activeMenu","state","menu","dispatch","form","useForm","navigate","loadingBtn","setLoadingBtn","defaultLang","languages","formLang","data","getFieldsValue","onFinish","values","body","active","nextUrl","create","then","success","finally","map","item","idx","locale","required","message"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/units/unit-add.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Button, Card, Col, Form, Input, Row, Select, Switch } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { removeFromMenu, setMenuData } from '../../redux/slices/menu';\nimport { fetchUnits } from '../../redux/slices/unit';\nimport unitService from '../../services/unit';\nimport LanguageList from '../../components/language-list';\nimport { useTranslation } from 'react-i18next';\n\nexport default function UnitAdd() {\n  const { t } = useTranslation();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const navigate = useNavigate();\n  const [loadingBtn, setLoadingBtn] = useState(false);\n\n  const { defaultLang, languages } = useSelector(\n    (state) => state.formLang,\n    shallowEqual\n  );\n\n  useEffect(() => {\n    return () => {\n      const data = form.getFieldsValue(true);\n      dispatch(setMenuData({ activeMenu, data }));\n    };\n  }, []);\n\n  const onFinish = (values) => {\n    const body = {\n      ...values,\n      active: values.active ? 1 : 0,\n    };\n    setLoadingBtn(true);\n    const nextUrl = 'catalog/units';\n    unitService\n      .create(body)\n      .then(() => {\n        toast.success(t('successfully.created'));\n        dispatch(removeFromMenu({ ...activeMenu, nextUrl }));\n        navigate(`/${nextUrl}`);\n        dispatch(fetchUnits({}));\n      })\n      .finally(() => setLoadingBtn(false));\n  };\n\n  return (\n    <Card title={t('add.unit')} extra={<LanguageList />}>\n      <Form\n        name='basic'\n        layout='vertical'\n        onFinish={onFinish}\n        form={form}\n        initialValues={{ active: true, ...activeMenu.data }}\n      >\n        <Row gutter={12}>\n          <Col span={12}>\n            {languages.map((item, idx) => (\n              <Form.Item\n                key={'title' + idx}\n                label={t('title')}\n                name={`title[${item.locale}]`}\n                rules={[\n                  {\n                    required: item.locale === defaultLang,\n                    message: t('required'),\n                  },\n                ]}\n                hidden={item.locale !== defaultLang}\n              >\n                <Input />\n              </Form.Item>\n            ))}\n          </Col>\n          <Col span={12}>\n            <div className='col-md-12 col-sm-6'>\n              <Form.Item\n                label={t('position')}\n                name='position'\n                rules={[\n                  {\n                    required: true,\n                    message: t('required'),\n                  },\n                ]}\n              >\n                <Select>\n                  <Select.Option value='after'>{t('after')}</Select.Option>\n                  <Select.Option value='before'>{t('before')}</Select.Option>\n                </Select>\n              </Form.Item>\n            </div>\n          </Col>\n\n          <Col span={6}>\n            <div className='col-md-12 col-sm-6'>\n              <Form.Item\n                label={t('active')}\n                name='active'\n                valuePropName='checked'\n              >\n                <Switch />\n              </Form.Item>\n            </div>\n          </Col>\n        </Row>\n        <Button type='primary' htmlType='submit' loading={loadingBtn}>\n          {t('submit')}\n        </Button>\n      </Form>\n    </Card>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}