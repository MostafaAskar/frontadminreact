{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/report-categories/index.js\",\n    _s = $RefreshSig$();\n\nimport { Card, Col, Row, Space, Typography, Table, Button, DatePicker, Spin } from 'antd';\nimport React, { useContext, useEffect, useState } from 'react';\nimport SearchInput from '../../components/search-input';\nimport { CloudDownloadOutlined } from '@ant-design/icons';\nimport ReportService from '../../services/reports';\nimport { addMenu, disableRefetch } from '../../redux/slices/menu';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport ReportChart from '../../components/report/chart';\nimport moment from 'moment';\nimport { ReportContext } from '../../context/report';\nimport FilterColumns from '../../components/filter-column';\nimport { fetchReportProductChart } from '../../redux/slices/report/categories';\nimport useDidUpdate from '../../helpers/useDidUpdate';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport { useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Text,\n  Title\n} = Typography;\nconst {\n  RangePicker\n} = DatePicker;\n\nconst ReportProducts = () => {\n  _s();\n\n  var _activeMenu$data, _activeMenu$data2, _productList$data;\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    t\n  } = useTranslation();\n  const {\n    date_from,\n    date_to,\n    by_time,\n    chart,\n    handleChart,\n    handleDateRange\n  } = useContext(ReportContext);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    loading,\n    chartData: reportData,\n    productList\n  } = useSelector(state => state.categoryReport, shallowEqual);\n  const {\n    defaultCurrency\n  } = useSelector(state => state.currency, shallowEqual);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [search, setSearch] = useState();\n  const [downloading, setDownloading] = useState(false);\n\n  const goToProductReport = row => {\n    dispatch(addMenu({\n      url: `report/products`,\n      id: 'report.products',\n      name: t('report.products')\n    }));\n    navigate(`/report/products?category_id=${row.id}`);\n  };\n\n  const [columns, setColumns] = useState([{\n    title: t('category'),\n    key: 'category',\n    dataIndex: 'category',\n    render: (_, data) => {\n      var _data$title;\n\n      const categoryList = data === null || data === void 0 ? void 0 : (_data$title = data.title) === null || _data$title === void 0 ? void 0 : _data$title.split('-');\n      return categoryList === null || categoryList === void 0 ? void 0 : categoryList.map((item, i) => i === (categoryList === null || categoryList === void 0 ? void 0 : categoryList.length) - 1 ? /*#__PURE__*/_jsxDEV(Link, {\n        to: `/report/products?category_id=${data === null || data === void 0 ? void 0 : data.id}`,\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this) : item);\n    },\n    sorter: (a, b) => {\n      var _a$title;\n\n      return a === null || a === void 0 ? void 0 : (_a$title = a.title) === null || _a$title === void 0 ? void 0 : _a$title.localeCompare(b === null || b === void 0 ? void 0 : b.title);\n    },\n    is_show: true\n  }, {\n    title: t('item.sold'),\n    dataIndex: 'quantity',\n    key: 'quantity',\n    is_show: true,\n    sorter: (a, b) => (a === null || a === void 0 ? void 0 : a.quantity) - (b === null || b === void 0 ? void 0 : b.quantity)\n  }, {\n    title: t('price'),\n    dataIndex: 'price',\n    key: 'price',\n    is_show: true,\n    sorter: (a, b) => (a === null || a === void 0 ? void 0 : a.price) - (b === null || b === void 0 ? void 0 : b.price),\n    render: (_, data) => {\n      return numberToPrice(data === null || data === void 0 ? void 0 : data.price, defaultCurrency === null || defaultCurrency === void 0 ? void 0 : defaultCurrency.symbol);\n    }\n  }, {\n    title: t('products'),\n    key: 'products_count',\n    dataIndex: 'products_count',\n    sorter: (a, b) => (a === null || a === void 0 ? void 0 : a.products_count) - (b === null || b === void 0 ? void 0 : b.products_count),\n    render: (_, data) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => goToProductReport(data),\n        children: data === null || data === void 0 ? void 0 : data.products_count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this);\n    },\n    is_show: true\n  }, {\n    title: t('orders'),\n    key: 'count',\n    dataIndex: 'count',\n    is_show: true,\n    sorter: (a, b) => (a === null || a === void 0 ? void 0 : a.count) - (b === null || b === void 0 ? void 0 : b.count)\n  }]);\n  const chart_type = useMemo(() => [{\n    value: 'quantity',\n    label: 'Item sold',\n    qty: 'total_quantity'\n  }, {\n    value: 'price',\n    label: 'Net Sales',\n    qty: 'total_price'\n  }, {\n    value: 'count',\n    label: 'Orders',\n    qty: 'total_count'\n  }, {\n    value: 'total_products_count',\n    label: 'Order products',\n    qty: 'total_products_count'\n  }], []);\n\n  const fetchReport = () => {\n    if (chart_type.find(item => item.value === chart)) {\n      const params = {\n        date_from,\n        date_to,\n        type: by_time,\n        chart,\n        search: (search === null || search === void 0 ? void 0 : search.trim()) === '' ? undefined : search === null || search === void 0 ? void 0 : search.trim()\n      };\n      dispatch(fetchReportProductChart(params));\n    }\n  };\n\n  useEffect(() => {\n    if (chart_type.every(item => item.value !== chart)) {\n      handleChart(chart_type[0].value);\n    }\n  }, []);\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      fetchReport();\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n  useDidUpdate(() => {\n    fetchReport();\n  }, [date_to, by_time, chart, search, date_from]);\n\n  const onSelectChange = newSelectedRowKeys => {\n    setSelectedRowKeys(newSelectedRowKeys);\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange\n  };\n\n  const excelExport = () => {\n    setDownloading(true);\n    ReportService.getCategoriesChart({\n      date_from,\n      date_to,\n      type: by_time,\n      export: 'excel'\n    }).then(res => {\n      const body = res.data.link;\n\n      if (body) {\n        window.location.href = body;\n      }\n    }).finally(() => setDownloading(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Spin, {\n    size: \"large\",\n    spinning: loading,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      gutter: 24,\n      className: \"mb-3\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 12,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(RangePicker, {\n            defaultValue: [moment(date_from), moment(date_to)],\n            onChange: handleDateRange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: 24,\n      className: \"report-products\",\n      children: chart_type === null || chart_type === void 0 ? void 0 : chart_type.map(item => /*#__PURE__*/_jsxDEV(Col, {\n        span: 6,\n        onClick: () => handleChart(item.value),\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: chart === item.value && 'active',\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-5\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                children: item.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            gutter: 24,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              children: /*#__PURE__*/_jsxDEV(Title, {\n                level: 2,\n                children: item.qty === 'total_price' ? numberToPrice(reportData[item.qty]) : reportData[item.qty]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)\n      }, item.label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReportChart, {\n      reportData: reportData,\n      chart_data: \"quantities_sum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Space, {\n        className: \"align-items-center justify-content-between mb-4 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          level: 2,\n          className: \"mb-0\",\n          children: t('categories')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n            style: {\n              width: '100%'\n            },\n            handleChange: e => setSearch(e),\n            defaultValue: (_activeMenu$data = activeMenu.data) === null || _activeMenu$data === void 0 ? void 0 : _activeMenu$data.search,\n            resetSearch: !((_activeMenu$data2 = activeMenu.data) !== null && _activeMenu$data2 !== void 0 && _activeMenu$data2.search)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            icon: /*#__PURE__*/_jsxDEV(CloudDownloadOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 21\n            }, this),\n            loading: downloading,\n            disabled: (productList === null || productList === void 0 ? void 0 : (_productList$data = productList.data) === null || _productList$data === void 0 ? void 0 : _productList$data.length) === 0,\n            onClick: excelExport,\n            children: t('download')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FilterColumns, {\n            columns: columns,\n            setColumns: setColumns\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        scroll: {\n          x: true\n        },\n        rowSelection: rowSelection,\n        columns: columns === null || columns === void 0 ? void 0 : columns.filter(item => item.is_show),\n        dataSource: Object.values(productList) || [],\n        rowKey: row => row.id,\n        loading: loading,\n        pagination: {\n          pageSize: productList === null || productList === void 0 ? void 0 : productList.per_page,\n          page: (productList === null || productList === void 0 ? void 0 : productList.current_page) || 1,\n          total: productList === null || productList === void 0 ? void 0 : productList.total,\n          defaultCurrent: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ReportProducts, \"mf9t9bzaLeJQn2NgFPq/nz8lja8=\", false, function () {\n  return [useDispatch, useNavigate, useTranslation, useSelector, useSelector, useSelector, useDidUpdate];\n});\n\n_c = ReportProducts;\nexport default ReportProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportProducts\");","map":{"version":3,"names":["Card","Col","Row","Space","Typography","Table","Button","DatePicker","Spin","React","useContext","useEffect","useState","SearchInput","CloudDownloadOutlined","ReportService","addMenu","disableRefetch","shallowEqual","useDispatch","useSelector","ReportChart","moment","ReportContext","FilterColumns","fetchReportProductChart","useDidUpdate","Link","useNavigate","useTranslation","numberToPrice","useMemo","Text","Title","RangePicker","ReportProducts","dispatch","navigate","t","date_from","date_to","by_time","chart","handleChart","handleDateRange","activeMenu","state","menu","loading","chartData","reportData","productList","categoryReport","defaultCurrency","currency","selectedRowKeys","setSelectedRowKeys","search","setSearch","downloading","setDownloading","goToProductReport","row","url","id","name","columns","setColumns","title","key","dataIndex","render","_","data","categoryList","split","map","item","i","length","sorter","a","b","localeCompare","is_show","quantity","price","symbol","products_count","count","chart_type","value","label","qty","fetchReport","find","params","type","trim","undefined","every","refetch","onSelectChange","newSelectedRowKeys","rowSelection","onChange","excelExport","getCategoriesChart","export","then","res","body","link","window","location","href","finally","width","e","x","filter","Object","values","pageSize","per_page","page","current_page","total","defaultCurrent"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/report-categories/index.js"],"sourcesContent":["import {\n  Card,\n  Col,\n  Row,\n  Space,\n  Typography,\n  Table,\n  Button,\n  DatePicker,\n  Spin,\n} from 'antd';\nimport React, { useContext, useEffect, useState } from 'react';\nimport SearchInput from '../../components/search-input';\nimport { CloudDownloadOutlined } from '@ant-design/icons';\nimport ReportService from '../../services/reports';\nimport { addMenu, disableRefetch } from '../../redux/slices/menu';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport ReportChart from '../../components/report/chart';\nimport moment from 'moment';\nimport { ReportContext } from '../../context/report';\nimport FilterColumns from '../../components/filter-column';\nimport { fetchReportProductChart } from '../../redux/slices/report/categories';\nimport useDidUpdate from '../../helpers/useDidUpdate';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport { useMemo } from 'react';\nconst { Text, Title } = Typography;\nconst { RangePicker } = DatePicker;\n\nconst ReportProducts = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { date_from, date_to, by_time, chart, handleChart, handleDateRange } =\n    useContext(ReportContext);\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const {\n    loading,\n    chartData: reportData,\n    productList,\n  } = useSelector((state) => state.categoryReport, shallowEqual);\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual\n  );\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [search, setSearch] = useState();\n  const [downloading, setDownloading] = useState(false);\n\n  const goToProductReport = (row) => {\n    dispatch(\n      addMenu({\n        url: `report/products`,\n        id: 'report.products',\n        name: t('report.products'),\n      })\n    );\n    navigate(`/report/products?category_id=${row.id}`);\n  };\n\n  const [columns, setColumns] = useState([\n    {\n      title: t('category'),\n      key: 'category',\n      dataIndex: 'category',\n      render: (_, data) => {\n        const categoryList = data?.title?.split('-');\n        return categoryList?.map((item, i) =>\n          i === categoryList?.length - 1 ? (\n            <Link to={`/report/products?category_id=${data?.id}`}>{item}</Link>\n          ) : (\n            item\n          )\n        );\n      },\n      sorter: (a, b) => a?.title?.localeCompare(b?.title),\n      is_show: true,\n    },\n    {\n      title: t('item.sold'),\n      dataIndex: 'quantity',\n      key: 'quantity',\n      is_show: true,\n      sorter: (a, b) => a?.quantity - b?.quantity,\n    },\n    {\n      title: t('price'),\n      dataIndex: 'price',\n      key: 'price',\n      is_show: true,\n      sorter: (a, b) => a?.price - b?.price,\n      render: (_, data) => {\n        return numberToPrice(data?.price, defaultCurrency?.symbol);\n      },\n    },\n    {\n      title: t('products'),\n      key: 'products_count',\n      dataIndex: 'products_count',\n      sorter: (a, b) => a?.products_count - b?.products_count,\n      render: (_, data) => {\n        return (\n          <span onClick={() => goToProductReport(data)}>\n            {data?.products_count}\n          </span>\n        );\n      },\n      is_show: true,\n    },\n    {\n      title: t('orders'),\n      key: 'count',\n      dataIndex: 'count',\n      is_show: true,\n      sorter: (a, b) => a?.count - b?.count,\n    },\n  ]);\n\n  const chart_type = useMemo(\n    () => [\n      { value: 'quantity', label: 'Item sold', qty: 'total_quantity' },\n      { value: 'price', label: 'Net Sales', qty: 'total_price' },\n      { value: 'count', label: 'Orders', qty: 'total_count' },\n      {\n        value: 'total_products_count',\n        label: 'Order products',\n        qty: 'total_products_count',\n      },\n    ],\n    []\n  );\n\n  const fetchReport = () => {\n    if (chart_type.find((item) => item.value === chart)) {\n      const params = {\n        date_from,\n        date_to,\n        type: by_time,\n        chart,\n        search: search?.trim() === '' ? undefined : search?.trim(),\n      };\n      dispatch(fetchReportProductChart(params));\n    }\n  };\n\n  useEffect(() => {\n    if (chart_type.every((item) => item.value !== chart)) {\n      handleChart(chart_type[0].value);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      fetchReport();\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  useDidUpdate(() => {\n    fetchReport();\n  }, [date_to, by_time, chart, search, date_from]);\n\n  const onSelectChange = (newSelectedRowKeys) => {\n    setSelectedRowKeys(newSelectedRowKeys);\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  const excelExport = () => {\n    setDownloading(true);\n    ReportService.getCategoriesChart({\n      date_from,\n      date_to,\n      type: by_time,\n      export: 'excel',\n    })\n      .then((res) => {\n        const body = res.data.link;\n        if (body) {\n          window.location.href = body;\n        }\n      })\n      .finally(() => setDownloading(false));\n  };\n\n  return (\n    <Spin size='large' spinning={loading}>\n      <Row gutter={24} className='mb-3'>\n        <Col span={12}>\n          <Space size='large'>\n            <RangePicker\n              defaultValue={[moment(date_from), moment(date_to)]}\n              onChange={handleDateRange}\n            />\n          </Space>\n        </Col>\n      </Row>\n      <Row gutter={24} className='report-products'>\n        {chart_type?.map((item) => (\n          <Col\n            span={6}\n            key={item.label}\n            onClick={() => handleChart(item.value)}\n          >\n            <Card className={chart === item.value && 'active'}>\n              <Row className='mb-5'>\n                <Col>\n                  <Text>{item.label}</Text>\n                </Col>\n              </Row>\n              <Row gutter={24}>\n                <Col span={12}>\n                  <Title level={2}>\n                    {item.qty === 'total_price'\n                      ? numberToPrice(reportData[item.qty])\n                      : reportData[item.qty]}\n                  </Title>\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        ))}\n      </Row>\n      <ReportChart reportData={reportData} chart_data='quantities_sum' />\n      <Card>\n        <Space className='align-items-center justify-content-between mb-4 w-100'>\n          <Title level={2} className='mb-0'>\n            {t('categories')}\n          </Title>\n\n          <Space>\n            <SearchInput\n              style={{ width: '100%' }}\n              handleChange={(e) => setSearch(e)}\n              defaultValue={activeMenu.data?.search}\n              resetSearch={!activeMenu.data?.search}\n            />\n            <Button\n              icon={<CloudDownloadOutlined />}\n              loading={downloading}\n              disabled={productList?.data?.length === 0}\n              onClick={excelExport}\n            >\n              {t('download')}\n            </Button>\n            <FilterColumns columns={columns} setColumns={setColumns} />\n          </Space>\n        </Space>\n        <Table\n          scroll={{ x: true }}\n          rowSelection={rowSelection}\n          columns={columns?.filter((item) => item.is_show)}\n          dataSource={Object.values(productList) || []}\n          rowKey={(row) => row.id}\n          loading={loading}\n          pagination={{\n            pageSize: productList?.per_page,\n            page: productList?.current_page || 1,\n            total: productList?.total,\n            defaultCurrent: 1,\n          }}\n        />\n      </Card>\n    </Spin>\n  );\n};\n\nexport default ReportProducts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}