{"ast":null,"code":"import React,{useState}from'react';import{useTranslation}from'react-i18next';import{Button,Col,Form,Modal,Row,Select}from'antd';import{batch,useDispatch,shallowEqual,useSelector}from'react-redux';import{statuses}from'./statuses';import sellerUserService from'services/seller/user';import{fetchSellerDeliverymans}from'redux/slices/deliveryman';import{disableRefetch}from'redux/slices/menu';import{jsx as _jsx}from\"react/jsx-runtime\";const DeliverymanStatusModal=_ref=>{var _data$invite2,_statuses$filter;let{data,handleCancel,paramsData}=_ref;const{t}=useTranslation();const[form]=Form.useForm();const dispatch=useDispatch();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const[loading,setLoading]=useState(false);const onFinish=values=>{var _data$invite;setLoading(true);const params={...values};sellerUserService.statusChange(data===null||data===void 0?void 0:(_data$invite=data.invite)===null||_data$invite===void 0?void 0:_data$invite.id,params).then(()=>{handleCancel();batch(()=>{dispatch(fetchSellerDeliverymans(paramsData));dispatch(disableRefetch(activeMenu));});}).finally(()=>setLoading(false));};return/*#__PURE__*/_jsx(Modal,{visible:!!data,title:t(data===null||data===void 0?void 0:data.name),onCancel:handleCancel,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>form.submit(),loading:loading,children:t('save')}),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')})],children:/*#__PURE__*/_jsx(Form,{form:form,layout:\"vertical\",onFinish:onFinish,initialValues:{status:(_statuses$filter=statuses.filter(item=>{var _data$invite3;return item.label===(data===null||data===void 0?void 0:(_data$invite3=data.invite)===null||_data$invite3===void 0?void 0:_data$invite3.status);}))===null||_statuses$filter===void 0?void 0:_statuses$filter[0]},children:/*#__PURE__*/_jsx(Row,{gutter:12,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:t('status'),name:\"status\",rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(Select,{children:statuses.map(item=>/*#__PURE__*/_jsx(Select.Option,{value:item===null||item===void 0?void 0:item.value,children:t(item===null||item===void 0?void 0:item.label)},item===null||item===void 0?void 0:item.key))})})})})})},data===null||data===void 0?void 0:(_data$invite2=data.invite)===null||_data$invite2===void 0?void 0:_data$invite2.id);};export default DeliverymanStatusModal;","map":null,"metadata":{},"sourceType":"module"}