{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useMemo, useEffect } from 'react';\nimport debounce from 'lodash/debounce';\nimport { Select, Spin } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DebounceSelect = _ref => {\n  _s();\n\n  let {\n    fetchOptions,\n    debounceTimeout = 400,\n    onClear,\n    refetchOptions = false,\n    ...props\n  } = _ref;\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n  const debounceFetcher = useMemo(() => {\n    const loadOptions = value => {\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value).then(newOptions => {\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n\n  const fetchOnFocus = () => {\n    if (!options.length || refetchOptions) {\n      debounceFetcher('');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Select, {\n    showSearch: true,\n    allowClear: true,\n    labelInValue: true,\n    filterOption: false,\n    onSearch: debounceFetcher,\n    onClear: () => {\n      debounceFetcher('');\n      !!onClear && onClear();\n    },\n    notFoundContent: fetching ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"small\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 35\n    }, this) : 'no results',\n    ...props,\n    options: options,\n    onFocus: fetchOnFocus\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DebounceSelect, \"NcQLusmkJkc8fPgQwOxkDFUfLUI=\");\n\n_c = DebounceSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"DebounceSelect\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","debounce","Select","Spin","DebounceSelect","fetchOptions","debounceTimeout","onClear","refetchOptions","props","fetching","setFetching","options","setOptions","debounceFetcher","loadOptions","value","then","newOptions","fetchOnFocus","length"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/components/search.js"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\nimport debounce from 'lodash/debounce';\nimport { Select, Spin } from 'antd';\n\nexport const DebounceSelect = ({\n  fetchOptions,\n  debounceTimeout = 400,\n  onClear,\n  refetchOptions = false,\n  ...props\n}) => {\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n\n  const debounceFetcher = useMemo(() => {\n    const loadOptions = (value) => {\n      setOptions([]);\n      setFetching(true);\n      fetchOptions(value).then((newOptions) => {\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n\n  const fetchOnFocus = () => {\n    if (!options.length || refetchOptions) {\n      debounceFetcher('');\n    }\n  };\n\n  return (\n    <Select\n      showSearch\n      allowClear\n      labelInValue={true}\n      filterOption={false}\n      onSearch={debounceFetcher}\n      onClear={() => {\n        debounceFetcher('');\n        !!onClear && onClear();\n      }}\n      notFoundContent={fetching ? <Spin size='small' /> : 'no results'}\n      {...props}\n      options={options}\n      onFocus={fetchOnFocus}\n    />\n  );\n};\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,EAAmCC,SAAnC,QAAoD,OAApD;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,MAA7B;;AAEA,OAAO,MAAMC,cAAc,GAAG,QAMxB;EAAA;;EAAA,IANyB;IAC7BC,YAD6B;IAE7BC,eAAe,GAAG,GAFW;IAG7BC,OAH6B;IAI7BC,cAAc,GAAG,KAJY;IAK7B,GAAGC;EAL0B,CAMzB;EACJ,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;EAEA,MAAMgB,eAAe,GAAGf,OAAO,CAAC,MAAM;IACpC,MAAMgB,WAAW,GAAIC,KAAD,IAAW;MAC7BH,UAAU,CAAC,EAAD,CAAV;MACAF,WAAW,CAAC,IAAD,CAAX;MACAN,YAAY,CAACW,KAAD,CAAZ,CAAoBC,IAApB,CAA0BC,UAAD,IAAgB;QACvCL,UAAU,CAACK,UAAD,CAAV;QACAP,WAAW,CAAC,KAAD,CAAX;MACD,CAHD;IAID,CAPD;;IAQA,OAAOV,QAAQ,CAACc,WAAD,EAAcT,eAAd,CAAf;EACD,CAV8B,EAU5B,CAACD,YAAD,EAAeC,eAAf,CAV4B,CAA/B;;EAYA,MAAMa,YAAY,GAAG,MAAM;IACzB,IAAI,CAACP,OAAO,CAACQ,MAAT,IAAmBZ,cAAvB,EAAuC;MACrCM,eAAe,CAAC,EAAD,CAAf;IACD;EACF,CAJD;;EAMA,oBACE,QAAC,MAAD;IACE,UAAU,MADZ;IAEE,UAAU,MAFZ;IAGE,YAAY,EAAE,IAHhB;IAIE,YAAY,EAAE,KAJhB;IAKE,QAAQ,EAAEA,eALZ;IAME,OAAO,EAAE,MAAM;MACbA,eAAe,CAAC,EAAD,CAAf;MACA,CAAC,CAACP,OAAF,IAAaA,OAAO,EAApB;IACD,CATH;IAUE,eAAe,EAAEG,QAAQ,gBAAG,QAAC,IAAD;MAAM,IAAI,EAAC;IAAX;MAAA;MAAA;MAAA;IAAA,QAAH,GAA2B,YAVtD;IAAA,GAWMD,KAXN;IAYE,OAAO,EAAEG,OAZX;IAaE,OAAO,EAAEO;EAbX;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD,CA7CM;;GAAMf,c;;KAAAA,c"},"metadata":{},"sourceType":"module"}