{"ast":null,"code":"import React,{useEffect,useState}from'react';import moment from'moment';import{Message}from'@chatscope/chat-ui-kit-react';import{fetchRepliedMessage}from'../../firebase';import{useSelector}from'react-redux';import ReplyMessage from'./replyMessage';import{Dropdown,Menu}from'antd';import{FaReply}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserMessage=_ref=>{let{data,onActionMessage}=_ref;const{time,message,type,replyDocId}=data;const currentChatId=useSelector(state=>{var _state$chat,_state$chat$currentCh;return(_state$chat=state.chat)===null||_state$chat===void 0?void 0:(_state$chat$currentCh=_state$chat.currentChat)===null||_state$chat$currentCh===void 0?void 0:_state$chat$currentCh.chatId;});const[replyMessage,setReplyMessage]=useState(null);const handleMenuClick=_ref2=>{let{key}=_ref2;onActionMessage(key);};const menu=/*#__PURE__*/_jsx(Menu,{onClick:handleMenuClick,children:/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FaReply,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:\"Reply\"})},'reply')});useEffect(()=>{if(replyDocId){return fetchRepliedMessage(replyDocId,currentChatId,setReplyMessage);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"user-sms-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:`user-message ${type==='image'&&'chat-image'}`,children:[/*#__PURE__*/_jsx(Dropdown,{overlay:menu,trigger:['contextMenu'],children:/*#__PURE__*/_jsxs(\"div\",{children:[replyMessage&&/*#__PURE__*/_jsx(ReplyMessage,{replyMessage:replyMessage}),type==='image'?/*#__PURE__*/_jsx(Message,{type:\"image\",model:{direction:'incoming',payload:{src:message,alt:'Image',width:'100%',height:'100%'}}}):/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:message})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"time\",children:moment(new Date(time)).format('HH:mm')})]})});};export default UserMessage;","map":null,"metadata":{},"sourceType":"module"}