{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/layout/app-layout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, Suspense } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { shallowEqual, useDispatch, useSelector, batch } from 'react-redux';\nimport { Layout } from 'antd';\nimport Sidebar from '../components/sidebar';\nimport TabMenu from '../components/tab-menu';\nimport ChatIcons from '../views/chat/chat-icons';\nimport Footer from '../components/footer';\nimport languagesService from '../services/languages';\nimport { setLangugages, setDefaultLanguage } from '../redux/slices/formLang';\nimport { fetchAllShops } from '../redux/slices/allShops';\nimport { fetchCurrencies, fetchRestCurrencies } from '../redux/slices/currency';\nimport { data } from '../configs/menu-config';\nimport { setUserData } from '../redux/slices/auth';\nimport Loading from '../components/loading';\nimport { fetchMyShop } from '../redux/slices/myShop';\nimport SubscriptionsDate from '../components/subscriptions-date';\nimport ParcelFloat from 'views/parcel-order/parcel-float';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Content\n} = Layout;\n\nconst AppLayout = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    languages\n  } = useSelector(state => state.formLang, shallowEqual);\n  const {\n    user\n  } = useSelector(state => state.auth, shallowEqual);\n  const {\n    direction,\n    navCollapsed\n  } = useSelector(state => state.theme.theme, shallowEqual);\n\n  const fetchLanguages = () => {\n    languagesService.getAllActive().then(_ref => {\n      let {\n        data\n      } = _ref;\n      batch(() => {\n        var _data$find;\n\n        dispatch(setLangugages(data));\n        dispatch(setDefaultLanguage((data === null || data === void 0 ? void 0 : (_data$find = data.find(item => item === null || item === void 0 ? void 0 : item.default)) === null || _data$find === void 0 ? void 0 : _data$find.locale) || 'en'));\n      });\n    });\n  };\n\n  useEffect(() => {\n    const body = {\n      page: 1,\n      perPage: 1,\n      status: 'approved'\n    };\n\n    if (!languages.length) {\n      fetchLanguages();\n    }\n\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'seller' || (user === null || user === void 0 ? void 0 : user.role) === 'moderator') {\n      dispatch(fetchMyShop());\n    }\n\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'manager') {\n      dispatch(fetchAllShops(body));\n      dispatch(fetchCurrencies());\n    } else {\n      dispatch(fetchRestCurrencies());\n    }\n  }, []);\n  useEffect(() => {\n    // for development purpose only\n    const userObj = { ...user,\n      urls: data[user.role]\n    };\n    dispatch(setUserData(userObj));\n  }, []);\n\n  const getLayoutGutter = () => {\n    // return navCollapsed ? SIDE_NAV_COLLAPSED_WIDTH : SIDE_NAV_WIDTH\n    return navCollapsed ? 80 : 250;\n  };\n\n  const getLayoutDirectionGutter = () => {\n    if (direction === 'ltr') {\n      return {\n        paddingLeft: getLayoutGutter(),\n        minHeight: '100vh'\n      };\n    }\n\n    if (direction === 'rtl') {\n      return {\n        paddingRight: getLayoutGutter(),\n        minHeight: '100vh'\n      };\n    }\n\n    return {\n      paddingLeft: getLayoutGutter()\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"app-layout\",\n      style: getLayoutDirectionGutter(),\n      children: [/*#__PURE__*/_jsxDEV(TabMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Content, {\n        className: \"p-3\",\n        style: {\n          flex: '1 0 70%'\n        },\n        children: /*#__PURE__*/_jsxDEV(Suspense, {\n          fallback: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 31\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(SubscriptionsDate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'seller' || (user === null || user === void 0 ? void 0 : user.role) === 'deliveryman' ? /*#__PURE__*/_jsxDEV(ChatIcons, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this) : '', (user === null || user === void 0 ? void 0 : user.role) === 'admin' && /*#__PURE__*/_jsxDEV(ParcelFloat, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AppLayout, \"F49EOdpjXmNcPBdeMCtpyW771WM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = AppLayout;\nexport default AppLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppLayout\");","map":{"version":3,"names":["React","useEffect","Suspense","Outlet","shallowEqual","useDispatch","useSelector","batch","Layout","Sidebar","TabMenu","ChatIcons","Footer","languagesService","setLangugages","setDefaultLanguage","fetchAllShops","fetchCurrencies","fetchRestCurrencies","data","setUserData","Loading","fetchMyShop","SubscriptionsDate","ParcelFloat","Content","AppLayout","dispatch","languages","state","formLang","user","auth","direction","navCollapsed","theme","fetchLanguages","getAllActive","then","find","item","default","locale","body","page","perPage","status","length","role","userObj","urls","getLayoutGutter","getLayoutDirectionGutter","paddingLeft","minHeight","paddingRight","flex"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/layout/app-layout.js"],"sourcesContent":["import React, { useEffect, Suspense } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { shallowEqual, useDispatch, useSelector, batch } from 'react-redux';\nimport { Layout } from 'antd';\nimport Sidebar from '../components/sidebar';\nimport TabMenu from '../components/tab-menu';\nimport ChatIcons from '../views/chat/chat-icons';\nimport Footer from '../components/footer';\nimport languagesService from '../services/languages';\nimport { setLangugages, setDefaultLanguage } from '../redux/slices/formLang';\nimport { fetchAllShops } from '../redux/slices/allShops';\nimport { fetchCurrencies, fetchRestCurrencies } from '../redux/slices/currency';\nimport { data } from '../configs/menu-config';\nimport { setUserData } from '../redux/slices/auth';\nimport Loading from '../components/loading';\nimport { fetchMyShop } from '../redux/slices/myShop';\nimport SubscriptionsDate from '../components/subscriptions-date';\nimport ParcelFloat from 'views/parcel-order/parcel-float';\nconst { Content } = Layout;\n\nconst AppLayout = () => {\n  const dispatch = useDispatch();\n  const { languages } = useSelector((state) => state.formLang, shallowEqual);\n  const { user } = useSelector((state) => state.auth, shallowEqual);\n  const { direction, navCollapsed } = useSelector(\n    (state) => state.theme.theme,\n    shallowEqual,\n  );\n\n  const fetchLanguages = () => {\n    languagesService.getAllActive().then(({ data }) => {\n      batch(() => {\n        dispatch(setLangugages(data));\n        dispatch(\n          setDefaultLanguage(\n            data?.find((item) => item?.default)?.locale || 'en',\n          ),\n        );\n      });\n    });\n  };\n\n  useEffect(() => {\n    const body = {\n      page: 1,\n      perPage: 1,\n      status: 'approved',\n    };\n    if (!languages.length) {\n      fetchLanguages();\n    }\n    if (user?.role === 'seller' || user?.role === 'moderator') {\n      dispatch(fetchMyShop());\n    }\n    if (user?.role === 'admin' || user?.role === 'manager') {\n      dispatch(fetchAllShops(body));\n      dispatch(fetchCurrencies());\n    } else {\n      dispatch(fetchRestCurrencies());\n    }\n  }, []);\n\n  useEffect(() => {\n    // for development purpose only\n    const userObj = {\n      ...user,\n      urls: data[user.role],\n    };\n    dispatch(setUserData(userObj));\n  }, []);\n\n  const getLayoutGutter = () => {\n    // return navCollapsed ? SIDE_NAV_COLLAPSED_WIDTH : SIDE_NAV_WIDTH\n    return navCollapsed ? 80 : 250;\n  };\n\n  const getLayoutDirectionGutter = () => {\n    if (direction === 'ltr') {\n      return { paddingLeft: getLayoutGutter(), minHeight: '100vh' };\n    }\n    if (direction === 'rtl') {\n      return { paddingRight: getLayoutGutter(), minHeight: '100vh' };\n    }\n    return { paddingLeft: getLayoutGutter() };\n  };\n\n  return (\n    <Layout className='app-container'>\n      <Sidebar />\n      <Layout className='app-layout' style={getLayoutDirectionGutter()}>\n        <TabMenu />\n        <Content className='p-3' style={{ flex: '1 0 70%' }}>\n          <Suspense fallback={<Loading />}>\n            <SubscriptionsDate />\n            <Outlet />\n          </Suspense>\n        </Content>\n        <Footer />\n      </Layout>\n      {user?.role === 'admin' ||\n      user?.role === 'seller' ||\n      user?.role === 'deliveryman' ? (\n        <ChatIcons />\n      ) : (\n        ''\n      )}\n      {user?.role === 'admin' && <ParcelFloat />}\n    </Layout>\n  );\n};\n\nexport default AppLayout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}