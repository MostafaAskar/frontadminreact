{"ast":null,"code":"import React from'react';import{DownloadOutlined,EyeOutlined,UserOutlined,CarOutlined,DollarOutlined,PayCircleOutlined,BorderlessTableOutlined,DeleteOutlined,FieldTimeOutlined}from'@ant-design/icons';import{Avatar,Card,List,Skeleton,Space}from'antd';import numberToPrice from'../helpers/numberToPrice';import{BiMap}from'react-icons/bi';import{toast}from'react-toastify';import{useTranslation}from'react-i18next';import moment from'moment';import useDemo from'../helpers/useDemo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const{Meta}=Card;const OrderCard=_ref=>{var _item$user,_item$user2,_item$deliveryman,_item$deliveryman2,_item$currency,_item$currency2,_item$transaction,_item$transaction$pay,_item$transaction2,_item$user3,_item$shop,_item$shop$translatio;let{data:item,goToShow,loading,setLocationsMap,setId,setIsModalVisible,setText,setDowloadModal,setTabType}=_ref;const{t}=useTranslation();const data=[{title:'Client',icon:/*#__PURE__*/_jsx(UserOutlined,{}),data:item!==null&&item!==void 0&&item.user?`${((_item$user=item.user)===null||_item$user===void 0?void 0:_item$user.firstname)||'-'} ${((_item$user2=item.user)===null||_item$user2===void 0?void 0:_item$user2.lastname)||'-'}`:t('deleted.user')},{title:'Deliveryman',icon:/*#__PURE__*/_jsx(CarOutlined,{}),data:`${((_item$deliveryman=item.deliveryman)===null||_item$deliveryman===void 0?void 0:_item$deliveryman.firstname)||'-'} ${((_item$deliveryman2=item.deliveryman)===null||_item$deliveryman2===void 0?void 0:_item$deliveryman2.lastname)||'-'}`},{title:'Amount',icon:/*#__PURE__*/_jsx(DollarOutlined,{}),data:numberToPrice(item===null||item===void 0?void 0:item.total_price,(_item$currency=item.currency)===null||_item$currency===void 0?void 0:_item$currency.symbol,(_item$currency2=item.currency)===null||_item$currency2===void 0?void 0:_item$currency2.position)},{title:'Payment type',icon:/*#__PURE__*/_jsx(PayCircleOutlined,{}),data:((_item$transaction=item.transaction)===null||_item$transaction===void 0?void 0:(_item$transaction$pay=_item$transaction.payment_system)===null||_item$transaction$pay===void 0?void 0:_item$transaction$pay.tag)||'-'},{title:'Payment status',icon:/*#__PURE__*/_jsx(BorderlessTableOutlined,{}),data:((_item$transaction2=item.transaction)===null||_item$transaction2===void 0?void 0:_item$transaction2.status)||'-'},{title:'Delivery date',icon:/*#__PURE__*/_jsx(FieldTimeOutlined,{}),data:moment(item===null||item===void 0?void 0:item.delivery_date).format('YYYY-MM-DD')||'-'},{title:'Created at',icon:/*#__PURE__*/_jsx(FieldTimeOutlined,{}),data:moment(item===null||item===void 0?void 0:item.created_at).format('YYYY-MM-DD')||'-'}];const{isDemo}=useDemo();const actions=[/*#__PURE__*/_jsx(BiMap,{size:20,onClick:e=>{e.stopPropagation();setLocationsMap(item.id);}}),/*#__PURE__*/_jsx(DeleteOutlined,{onClick:e=>{if(isDemo){toast.warning(t('cannot.work.demo'));return;}e.stopPropagation();setId([item.id]);setIsModalVisible(true);setText(true);setTabType(item.status);}}),/*#__PURE__*/_jsx(DownloadOutlined,{onClick:e=>{e.stopPropagation();setDowloadModal(item.id);}}),/*#__PURE__*/_jsx(EyeOutlined,{onClick:e=>{e.stopPropagation();goToShow(item);}})];return/*#__PURE__*/_jsx(Card,{actions:actions,className:\"order-card\",children:/*#__PURE__*/_jsxs(Skeleton,{loading:loading,avatar:true,active:true,children:[/*#__PURE__*/_jsx(Meta,{avatar:/*#__PURE__*/_jsx(Avatar,{src:item===null||item===void 0?void 0:(_item$user3=item.user)===null||_item$user3===void 0?void 0:_item$user3.img}),description:`#${item.id}`,title:item===null||item===void 0?void 0:(_item$shop=item.shop)===null||_item$shop===void 0?void 0:(_item$shop$translatio=_item$shop.translation)===null||_item$shop$translatio===void 0?void 0:_item$shop$translatio.title}),/*#__PURE__*/_jsx(List,{itemLayout:\"horizontal\",dataSource:data,renderItem:(item,key)=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{children:[item===null||item===void 0?void 0:item.icon,`${item===null||item===void 0?void 0:item.title}:  ${item===null||item===void 0?void 0:item.data}`]})},key)})]})});};export default OrderCard;","map":null,"metadata":{},"sourceType":"module"}