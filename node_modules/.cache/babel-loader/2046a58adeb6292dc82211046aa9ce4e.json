{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/payments/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Table, Switch } from 'antd';\nimport { Context } from '../../context/context';\nimport GlobalContainer from '../../components/global-container';\nimport CustomModal from '../../components/modal';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { fetchPayments } from '../../redux/slices/payment';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport paymentService from '../../services/payment';\nimport { useTranslation } from 'react-i18next';\nimport PaymentEditModal from './paymentEditModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Payments() {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const [id, setId] = useState(null);\n  const [modal, setModal] = useState(null);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const {\n    setIsModalVisible\n  } = useContext(Context);\n  const {\n    payments,\n    loading\n  } = useSelector(state => state.payment, shallowEqual);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n  const columns = [{\n    title: t('title'),\n    dataIndex: 'tag',\n    key: 'tag'\n  }, {\n    title: t('active'),\n    dataIndex: 'active',\n    key: 'active',\n    render: (active, row) => {\n      return /*#__PURE__*/_jsxDEV(Switch, {\n        onChange: () => {\n          setIsModalVisible(true);\n          setId(row.id);\n        },\n        checked: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this);\n    }\n  } // {\n  //   title: t('options'),\n  //   key: 'options',\n  //   render: (options, row) => (\n  //     <Space>\n  //       <Button\n  //         type='primary'\n  //         icon={<EditOutlined />}\n  //         onClick={() => setModal(row)}\n  //       />\n  //     </Space>\n  //   ),\n  // },\n  ];\n\n  function setActivePayments() {\n    setLoadingBtn(true);\n    paymentService.setActive(id).then(() => {\n      setIsModalVisible(false);\n      setId(null);\n      dispatch(fetchPayments());\n    }).finally(() => setLoadingBtn(false));\n  }\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchPayments());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n  return /*#__PURE__*/_jsxDEV(GlobalContainer, {\n    headerTitle: t('payments'),\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      scroll: {\n        x: true\n      },\n      columns: columns,\n      dataSource: payments,\n      rowKey: record => record.id,\n      loading: loading,\n      pagination: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      click: setActivePayments,\n      text: t('set.active.payment'),\n      loading: loadingBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), modal && /*#__PURE__*/_jsxDEV(PaymentEditModal, {\n      modal: modal,\n      handleCancel: () => setModal(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Payments, \"lEhLkEHMBMXUzKVhq6DVVa/C7rY=\", false, function () {\n  return [useTranslation, useSelector, useSelector, useDispatch];\n});\n\n_c = Payments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payments\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Table","Switch","Context","GlobalContainer","CustomModal","shallowEqual","useDispatch","useSelector","fetchPayments","disableRefetch","paymentService","useTranslation","PaymentEditModal","Payments","t","id","setId","modal","setModal","loadingBtn","setLoadingBtn","setIsModalVisible","payments","loading","state","payment","activeMenu","menu","dispatch","columns","title","dataIndex","key","render","active","row","setActivePayments","setActive","then","finally","refetch","x","record"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/payments/index.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Table, Switch } from 'antd';\nimport { Context } from '../../context/context';\nimport GlobalContainer from '../../components/global-container';\nimport CustomModal from '../../components/modal';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { fetchPayments } from '../../redux/slices/payment';\nimport { disableRefetch } from '../../redux/slices/menu';\nimport paymentService from '../../services/payment';\nimport { useTranslation } from 'react-i18next';\nimport PaymentEditModal from './paymentEditModal';\n\nexport default function Payments() {\n  const { t } = useTranslation();\n  const [id, setId] = useState(null);\n  const [modal, setModal] = useState(null);\n  const [loadingBtn, setLoadingBtn] = useState(false);\n  const { setIsModalVisible } = useContext(Context);\n  const { payments, loading } = useSelector(\n    (state) => state.payment,\n    shallowEqual\n  );\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const dispatch = useDispatch();\n\n  const columns = [\n    {\n      title: t('title'),\n      dataIndex: 'tag',\n      key: 'tag',\n    },\n    {\n      title: t('active'),\n      dataIndex: 'active',\n      key: 'active',\n      render: (active, row) => {\n        return (\n          <Switch\n            onChange={() => {\n              setIsModalVisible(true);\n              setId(row.id);\n            }}\n            checked={active}\n          />\n        );\n      },\n    },\n    // {\n    //   title: t('options'),\n    //   key: 'options',\n    //   render: (options, row) => (\n    //     <Space>\n    //       <Button\n    //         type='primary'\n    //         icon={<EditOutlined />}\n    //         onClick={() => setModal(row)}\n    //       />\n    //     </Space>\n    //   ),\n    // },\n  ];\n\n  function setActivePayments() {\n    setLoadingBtn(true);\n    paymentService\n      .setActive(id)\n      .then(() => {\n        setIsModalVisible(false);\n        setId(null);\n        dispatch(fetchPayments());\n      })\n      .finally(() => setLoadingBtn(false));\n  }\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchPayments());\n      dispatch(disableRefetch(activeMenu));\n    }\n  }, [activeMenu.refetch]);\n\n  return (\n    <GlobalContainer headerTitle={t('payments')}>\n      <Table\n        scroll={{ x: true }}\n        columns={columns}\n        dataSource={payments}\n        rowKey={(record) => record.id}\n        loading={loading}\n        pagination={false}\n      />\n      <CustomModal\n        click={setActivePayments}\n        text={t('set.active.payment')}\n        loading={loadingBtn}\n      />\n      {modal && (\n        <PaymentEditModal modal={modal} handleCancel={() => setModal(null)} />\n      )}\n    </GlobalContainer>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}