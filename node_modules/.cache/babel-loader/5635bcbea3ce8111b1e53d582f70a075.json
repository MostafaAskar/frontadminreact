{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/wallet/index.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Table, Tag, Typography } from 'antd';\nimport numberToPrice from 'helpers/numberToPrice';\nimport moment from 'moment';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { disableRefetch } from 'redux/slices/menu';\nimport userService from 'services/user';\nimport WalletTopUp from './top-up';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SellerWallet = () => {\n  _s();\n\n  var _user$wallet;\n\n  const [user, setUser] = useState(null);\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [open, setOpen] = useState(false);\n  const {\n    activeMenu\n  } = useSelector(state => state.menu);\n  const getProfile = useCallback(() => {\n    setLoading(true);\n    userService.profileShow().then(res => {\n      setUser(res.data);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    if (activeMenu !== null && activeMenu !== void 0 && activeMenu.refetch) {\n      getProfile();\n    }\n\n    dispatch(disableRefetch(activeMenu));\n  }, [activeMenu === null || activeMenu === void 0 ? void 0 : activeMenu.refetch]);\n  const columns = [{\n    title: t('created.at'),\n    dataIndex: 'created_at',\n    render: created_at => moment(created_at).format('YYYY-MM-DD hh:mm')\n  }, {\n    title: t('status'),\n    dataIndex: 'status',\n    render: status => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: status === 'paid' ? /*#__PURE__*/_jsxDEV(Tag, {\n        color: \"cyan\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Tag, {\n        color: \"blue\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: t('type'),\n    dataIndex: 'type',\n    render: type => type === 'topup' ? /*#__PURE__*/_jsxDEV(Tag, {\n      color: \"cyan\",\n      children: type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Tag, {\n      color: \"error\",\n      children: type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this)\n  }, {\n    title: t('note'),\n    dataIndex: 'note'\n  }];\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('user.wallet'),\n    extra: !loading ? /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => setOpen(true),\n      children: t('top.up')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }, this) : null,\n    children: [user !== null && user !== void 0 && user.wallet ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography.Title, {\n        children: numberToPrice(user === null || user === void 0 ? void 0 : user.wallet.price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        loading: loading,\n        dataSource: user === null || user === void 0 ? void 0 : (_user$wallet = user.wallet) === null || _user$wallet === void 0 ? void 0 : _user$wallet.histories,\n        columns: columns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(Table, {\n      dataSource: [],\n      columns: columns,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(WalletTopUp, {\n      refetch: getProfile,\n      open: open,\n      handleCancel: () => setOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SellerWallet, \"cRQwfZh3+t+jFZxijIqq6c1zDX0=\", false, function () {\n  return [useTranslation, useDispatch, useSelector];\n});\n\n_c = SellerWallet;\nexport default SellerWallet;\n\nvar _c;\n\n$RefreshReg$(_c, \"SellerWallet\");","map":{"version":3,"names":["Button","Card","Table","Tag","Typography","numberToPrice","moment","React","useCallback","useEffect","useState","useTranslation","useDispatch","useSelector","disableRefetch","userService","WalletTopUp","SellerWallet","user","setUser","t","dispatch","loading","setLoading","open","setOpen","activeMenu","state","menu","getProfile","profileShow","then","res","data","finally","refetch","columns","title","dataIndex","render","created_at","format","status","type","wallet","price","histories"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/wallet/index.js"],"sourcesContent":["import { Button, Card, Table, Tag, Typography } from 'antd';\nimport numberToPrice from 'helpers/numberToPrice';\nimport moment from 'moment';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { disableRefetch } from 'redux/slices/menu';\nimport userService from 'services/user';\nimport WalletTopUp from './top-up';\n\nconst SellerWallet = () => {\n  const [user, setUser] = useState(null);\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [open, setOpen] = useState(false);\n  const { activeMenu } = useSelector((state) => state.menu);\n  const getProfile = useCallback(() => {\n    setLoading(true);\n    userService\n      .profileShow()\n      .then((res) => {\n        setUser(res.data);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (activeMenu?.refetch) {\n      getProfile();\n    }\n    dispatch(disableRefetch(activeMenu));\n  }, [activeMenu?.refetch]);\n\n  const columns = [\n    {\n      title: t('created.at'),\n      dataIndex: 'created_at',\n      render: (created_at) => moment(created_at).format('YYYY-MM-DD hh:mm'),\n    },\n    {\n      title: t('status'),\n      dataIndex: 'status',\n      render: (status) => (\n        <div>\n          {status === 'paid' ? (\n            <Tag color='cyan'>{status}</Tag>\n          ) : (\n            <Tag color='blue'>{status}</Tag>\n          )}\n        </div>\n      ),\n    },\n    {\n      title: t('type'),\n      dataIndex: 'type',\n      render: (type) =>\n        type === 'topup' ? (\n          <Tag color='cyan'>{type}</Tag>\n        ) : (\n          <Tag color='error'>{type}</Tag>\n        ),\n    },\n    {\n      title: t('note'),\n      dataIndex: 'note',\n    },\n  ];\n\n  return (\n    <Card\n      title={t('user.wallet')}\n      extra={!loading ? <Button onClick={() => setOpen(true)}>{t('top.up')}</Button> : null}\n    >\n      {user?.wallet ? (\n        <>\n          <Typography.Title>\n            {numberToPrice(user?.wallet.price)}\n          </Typography.Title>\n          <Table\n            loading={loading}\n            dataSource={user?.wallet?.histories}\n            columns={columns}\n          />\n        </>\n      ) : (\n        <Table dataSource={[]} columns={columns} loading={loading} />\n      )}\n      <WalletTopUp refetch={getProfile} open={open} handleCancel={() => setOpen(false)}  />\n    </Card>\n  );\n};\n\nexport default SellerWallet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}