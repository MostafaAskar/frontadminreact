{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/user/user-refunds.js\",\n    _s = $RefreshSig$();\n\nimport { Card, Select, Table, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport refundService from '../../services/refund';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserRefunds = _ref => {\n  _s();\n\n  var _data$meta, _data$meta2, _data$meta3;\n\n  let {\n    id\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const {\n    defaultCurrency\n  } = useSelector(state => state.currency, shallowEqual);\n\n  const fetchRefunds = params => {\n    setLoading(true);\n    refundService.getAll({\n      user_uuid: id,\n      ...params\n    }).then(res => {\n      setData(res);\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    fetchRefunds(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: t('order.refunds'),\n    extra: /*#__PURE__*/_jsxDEV(Select, {\n      options: [{\n        label: t('pending'),\n        value: 'pending',\n        key: 'pending'\n      }, {\n        label: t('accepted'),\n        value: 'accepted',\n        key: 'accepted'\n      }, {\n        label: t('canceled'),\n        value: 'canceled',\n        key: 'canceled'\n      }],\n      onChange: value => fetchRefunds({\n        status: value\n      }),\n      placeholder: t('status'),\n      allowClear: true,\n      style: {\n        width: 130\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      loading: loading,\n      dataSource: data === null || data === void 0 ? void 0 : data.data,\n      pagination: {\n        total: data === null || data === void 0 ? void 0 : (_data$meta = data.meta) === null || _data$meta === void 0 ? void 0 : _data$meta.total,\n        current: data === null || data === void 0 ? void 0 : (_data$meta2 = data.meta) === null || _data$meta2 === void 0 ? void 0 : _data$meta2.current_page,\n        pageSize: data === null || data === void 0 ? void 0 : (_data$meta3 = data.meta) === null || _data$meta3 === void 0 ? void 0 : _data$meta3.per_page\n      },\n      columns: [{\n        title: t('cause'),\n        dataIndex: 'cause',\n        key: 'cause'\n      }, {\n        title: t('answer'),\n        dataIndex: 'answer',\n        key: 'answer',\n        render: answer => answer || 'no.answer'\n      }, {\n        title: t('total.price'),\n        dataIndex: 'total_price',\n        key: 'total_price',\n        render: (_, row) => {\n          var _row$order;\n\n          return numberToPrice((_row$order = row.order) === null || _row$order === void 0 ? void 0 : _row$order.total_price, defaultCurrency === null || defaultCurrency === void 0 ? void 0 : defaultCurrency.symbol);\n        }\n      }, {\n        title: t('status'),\n        dataIndex: 'status',\n        key: 'status',\n        render: status => /*#__PURE__*/_jsxDEV(Tag, {\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 33\n        }, this)\n      }, {\n        title: t('created.date.&.time'),\n        dataIndex: 'created_at',\n        key: 'created_at',\n        render: created_at => moment(created_at).format('YYYY-MM-DD HH:mm')\n      }],\n      onChange: pagination => fetchRefunds({\n        page: pagination.current,\n        perPage: pagination.pageSize\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserRefunds, \"lAJvvPUm41rU9SvyHYoxVW2olV0=\", false, function () {\n  return [useTranslation, useSelector];\n});\n\n_c = UserRefunds;\nexport default UserRefunds;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserRefunds\");","map":{"version":3,"names":["Card","Select","Table","Tag","React","useEffect","useState","useTranslation","shallowEqual","useSelector","numberToPrice","refundService","moment","UserRefunds","id","t","data","setData","loading","setLoading","defaultCurrency","state","currency","fetchRefunds","params","getAll","user_uuid","then","res","finally","label","value","key","status","width","total","meta","current","current_page","pageSize","per_page","title","dataIndex","render","answer","_","row","order","total_price","symbol","created_at","format","pagination","page","perPage"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/user/user-refunds.js"],"sourcesContent":["import { Card, Select, Table, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport numberToPrice from '../../helpers/numberToPrice';\nimport refundService from '../../services/refund';\nimport moment from 'moment';\n\nconst UserRefunds = ({ id }) => {\n  const { t } = useTranslation();\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const { defaultCurrency } = useSelector(\n    (state) => state.currency,\n    shallowEqual,\n  );\n  const fetchRefunds = (params) => {\n    setLoading(true);\n    refundService\n      .getAll({ user_uuid: id, ...params })\n      .then((res) => {\n        setData(res);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchRefunds();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Card\n      title={t('order.refunds')}\n      extra={\n        <Select\n          options={[\n            { label: t('pending'), value: 'pending', key: 'pending' },\n            { label: t('accepted'), value: 'accepted', key: 'accepted' },\n            { label: t('canceled'), value: 'canceled', key: 'canceled' },\n          ]}\n          onChange={(value) => fetchRefunds({ status: value })}\n          placeholder={t('status')}\n          allowClear\n          style={{ width: 130 }}\n        />\n      }\n    >\n      <Table\n        loading={loading}\n        dataSource={data?.data}\n        pagination={{\n          total: data?.meta?.total,\n          current: data?.meta?.current_page,\n          pageSize: data?.meta?.per_page,\n        }}\n        columns={[\n          {\n            title: t('cause'),\n            dataIndex: 'cause',\n            key: 'cause',\n          },\n          {\n            title: t('answer'),\n            dataIndex: 'answer',\n            key: 'answer',\n            render: (answer) => answer || 'no.answer',\n          },\n          {\n            title: t('total.price'),\n            dataIndex: 'total_price',\n            key: 'total_price',\n            render: (_, row) =>\n              numberToPrice(row.order?.total_price, defaultCurrency?.symbol),\n          },\n          {\n            title: t('status'),\n            dataIndex: 'status',\n            key: 'status',\n            render: (status) => <Tag>{status}</Tag>,\n          },\n          {\n            title: t('created.date.&.time'),\n            dataIndex: 'created_at',\n            key: 'created_at',\n            render: (created_at) =>\n              moment(created_at).format('YYYY-MM-DD HH:mm'),\n          },\n        ]}\n        onChange={(pagination) =>\n          fetchRefunds({\n            page: pagination.current,\n            perPage: pagination.pageSize,\n          })\n        }\n      />\n    </Card>\n  );\n};\n\nexport default UserRefunds;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}