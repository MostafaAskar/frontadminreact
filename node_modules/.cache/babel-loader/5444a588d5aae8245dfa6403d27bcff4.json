{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button,Col,Form,Input,InputNumber,Row,Space}from'antd';import{shallowEqual,useDispatch,useSelector}from'react-redux';import productService from'../../services/product';import{useTranslation}from'react-i18next';import{useParams}from'react-router-dom';import{setRefetch}from'../../redux/slices/menu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ProductStock=_ref=>{let{prev,next,current}=_ref;const{t}=useTranslation();const[form]=Form.useForm();const{uuid}=useParams();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const[loadingBtn,setLoadingBtn]=useState(null);const dispatch=useDispatch();const onFinish=values=>{setLoadingBtn(true);let extras;extras=[{price:values.price,quantity:values.quantity,sku:values.sku}];productService.stocks(uuid,{extras}).then(()=>next()).finally(()=>setLoadingBtn(false));};useEffect(()=>{var _activeMenu$data,_activeMenu$data$stoc,_activeMenu$data2,_activeMenu$data2$sto,_activeMenu$data3,_activeMenu$data3$sto;dispatch(setRefetch(activeMenu));form.setFieldsValue({price:(_activeMenu$data=activeMenu.data)!==null&&_activeMenu$data!==void 0&&(_activeMenu$data$stoc=_activeMenu$data.stocks)!==null&&_activeMenu$data$stoc!==void 0&&_activeMenu$data$stoc.length?activeMenu.data.stocks[0].price:[],quantity:(_activeMenu$data2=activeMenu.data)!==null&&_activeMenu$data2!==void 0&&(_activeMenu$data2$sto=_activeMenu$data2.stocks)!==null&&_activeMenu$data2$sto!==void 0&&_activeMenu$data2$sto.length?activeMenu.data.stocks[0].quantity:[],sku:(_activeMenu$data3=activeMenu.data)!==null&&_activeMenu$data3!==void 0&&(_activeMenu$data3$sto=_activeMenu$data3.stocks)!==null&&_activeMenu$data3$sto!==void 0&&_activeMenu$data3$sto.length?activeMenu.data.stocks[0].sku:[]});},[]);return/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",form:form,onFinish:onFinish,children:[/*#__PURE__*/_jsxs(Row,{gutter:12,align:\"middle\",style:{flexWrap:'nowrap',overflowX:'auto'},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Item,{label:t('price'),name:'price',rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:0,className:\"w-100\",style:{minWidth:200}})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Item,{label:t('quantity'),name:'quantity',rules:[{required:true,message:t('required')}],children:/*#__PURE__*/_jsx(InputNumber,{min:1,className:\"w-100\",style:{minWidth:200}})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Item,{label:t('sku'),name:'sku',children:/*#__PURE__*/_jsx(Input,{style:{minWidth:200}})})})]}),/*#__PURE__*/_jsxs(Space,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:prev,children:t('prev')}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:!!loadingBtn,children:t('next')})]})]});};export default ProductStock;","map":null,"metadata":{},"sourceType":"module"}