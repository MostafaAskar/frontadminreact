{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Card,Table,Image,Tag,Button,Space,Row,Col,Avatar,Typography,Skeleton,Spin,Badge,Steps,Divider}from'antd';import{CalendarOutlined,EditOutlined}from'@ant-design/icons';import{Link,useParams}from'react-router-dom';import getImage from'helpers/getImage';import{shallowEqual,useDispatch,useSelector,batch}from'react-redux';import{disableRefetch,setMenuData}from'redux/slices/menu';import OrderStatusModal from'./status-modal';import{fetchDeliverymans}from'redux/slices/deliveryman';import{useTranslation}from'react-i18next';import numberToPrice from'helpers/numberToPrice';import{fetchOrderStatus}from'redux/slices/orderStatus';import{MdEmail}from'react-icons/md';import{FiShoppingCart}from'react-icons/fi';import{IMG_URL}from'configs/app-global';import{BsCalendarDay,BsFillTelephoneFill}from'react-icons/bs';import{BiMessageDots,BiMoney}from'react-icons/bi';import moment from'moment';import{useRef}from'react';import refundService from'services/refund';import hideEmail from'components/hideEmail';import hideNumber from'components/hideNumber';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ReactAppIsDemo=process.env.REACT_APP_IS_DEMO;const status=['pending','accepted','canceled'];export default function OrderDetails(){var _activeMenu$data,_data$details,_data$user,_data$user2,_data$details2,_data$transaction,_activeMenu$data2,_activeMenu$data$answ,_activeMenu$data3,_activeMenu$data4,_activeMenu$data5,_activeMenu$data6,_activeMenu$data7,_activeMenu$data8,_activeMenu$data9,_activeMenu$data10,_data$transaction2,_data$transaction2$pa,_data$my_address$stre,_data$my_address,_data$my_address$zipc,_data$my_address2,_data$delivery_point$,_data$delivery_point,_data$delivery_point$2,_data$coupon,_data$deliveryman,_data$deliveryman2,_data$deliveryman3,_data$deliveryman4,_data$deliveryman5,_data$user3,_data$user4,_data$user5,_data$user6,_data$user7,_data$user8,_data$user9,_data$user10,_data$user11,_data$user12,_data$user13,_data$user14,_data$shop,_data$shop2,_data$shop3;const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const{defaultCurrency}=useSelector(state=>state.currency,shallowEqual);const{defaultLang}=useSelector(state=>state.formLang,shallowEqual);const data=activeMenu===null||activeMenu===void 0?void 0:(_activeMenu$data=activeMenu.data)===null||_activeMenu$data===void 0?void 0:_activeMenu$data.order;const{t}=useTranslation();const{id}=useParams();const dispatch=useDispatch();const productListRef=useRef();const totalPriceRef=useRef();const[loading,setLoading]=useState(false);const[orderDetails,setOrderDetails]=useState(null);const{statusList}=useSelector(state=>state.orderStatus,shallowEqual);const shops=data===null||data===void 0?void 0:(_data$details=data.details)===null||_data$details===void 0?void 0:_data$details.flatMap(detail=>detail===null||detail===void 0?void 0:detail.shop);const products=data===null||data===void 0?void 0:data.details;const columns=[{title:t('id'),dataIndex:'id',key:'id',render:(_,row)=>{var _row$stock;return(_row$stock=row.stock)===null||_row$stock===void 0?void 0:_row$stock.product_id;}},{title:t('product.name'),dataIndex:'product',key:'product',render:(_,row)=>{var _row$stock2,_row$stock2$product,_row$stock2$product$t;return(_row$stock2=row.stock)===null||_row$stock2===void 0?void 0:(_row$stock2$product=_row$stock2.product)===null||_row$stock2$product===void 0?void 0:(_row$stock2$product$t=_row$stock2$product.translation)===null||_row$stock2$product$t===void 0?void 0:_row$stock2$product$t.title;}},{title:t('image'),dataIndex:'img',key:'img',render:(_,row)=>{var _row$stock3,_row$stock3$product;return/*#__PURE__*/_jsx(Image,{src:getImage((_row$stock3=row.stock)===null||_row$stock3===void 0?void 0:(_row$stock3$product=_row$stock3.product)===null||_row$stock3$product===void 0?void 0:_row$stock3$product.img),alt:\"product\",width:100,height:\"auto\",className:\"rounded\",preview:true,placeholder:true});}},{title:t('price'),dataIndex:'origin_price',key:'origin_price',render:(_,row)=>{var _row$stock4;return numberToPrice(row===null||row===void 0?void 0:(_row$stock4=row.stock)===null||_row$stock4===void 0?void 0:_row$stock4.price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol);}},{title:t('quantity'),dataIndex:'quantity',key:'quantity'},{title:t('discount'),dataIndex:'discount',key:'discount',render:(_,row)=>{var _row$stock5;return numberToPrice(row===null||row===void 0?void 0:(_row$stock5=row.stock)===null||_row$stock5===void 0?void 0:_row$stock5.discount);}},{title:t('tax'),dataIndex:'tax',key:'tax',render:(tax,row)=>{var _row$stock6;return numberToPrice(row===null||row===void 0?void 0:(_row$stock6=row.stock)===null||_row$stock6===void 0?void 0:_row$stock6.tax,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol);}},{title:t('total.price'),dataIndex:'total_price',key:'total_price',render:(_,row)=>{var _row$stock7;return numberToPrice(row===null||row===void 0?void 0:(_row$stock7=row.stock)===null||_row$stock7===void 0?void 0:_row$stock7.total_price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol);}}];const documentColumns=[{title:t('date'),dataIndex:'date',key:'date'},{title:t('document'),dataIndex:'document',key:'document'},{title:t('number'),dataIndex:'number',key:'number'},{title:t('total.price'),dataIndex:'price',key:'price'}];const documents=[{price:numberToPrice(data===null||data===void 0?void 0:data.total_price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol),number:/*#__PURE__*/_jsxs(Link,{to:`/orders/generate-invoice/${data===null||data===void 0?void 0:data.id}`,children:[\"#\",data===null||data===void 0?void 0:data.id]}),document:t('invoice'),date:data===null||data===void 0?void 0:data.delivery_date},{price:'-',number:/*#__PURE__*/_jsxs(Link,{to:`/orders/generate-invoice/${data===null||data===void 0?void 0:data.id}`,children:[\"#\",data===null||data===void 0?void 0:data.id]}),document:t('delivery.receipt'),date:data===null||data===void 0?void 0:data.delivery_date}];const handleCloseModal=()=>setOrderDetails(null);function fetchOrder(){setLoading(true);refundService.getById(id).then(_ref=>{let{data}=_ref;dispatch(setMenuData({activeMenu,data}));}).finally(()=>{setLoading(false);dispatch(disableRefetch(activeMenu));});}useEffect(()=>{if(activeMenu.refetch){fetchOrder();batch(()=>{dispatch(fetchOrderStatus({}));dispatch(fetchDeliverymans({}));});}},[activeMenu.refetch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"order_details\",children:[/*#__PURE__*/_jsx(Card,{className:\"order-details-info\",title:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiShoppingCart,{className:\"mr-2 icon\"}),`${t('order')} ${data!==null&&data!==void 0&&data.id?`#${data===null||data===void 0?void 0:data.id} `:''}`,' ',t('from.order'),\" \",data===null||data===void 0?void 0:(_data$user=data.user)===null||_data$user===void 0?void 0:_data$user.firstname,' ',(data===null||data===void 0?void 0:(_data$user2=data.user)===null||_data$user2===void 0?void 0:_data$user2.lastname)||'']}),extra:(data===null||data===void 0?void 0:data.status)!=='delivered'&&(data===null||data===void 0?void 0:data.status)!=='canceled'?/*#__PURE__*/_jsx(Space,{children:(data===null||data===void 0?void 0:data.status)!=='delivered'&&(data===null||data===void 0?void 0:data.status)!=='canceled'?/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>setOrderDetails(data),children:t('change.status')}):null}):''}),/*#__PURE__*/_jsxs(Row,{gutter:24,children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Space,{className:\"justify-content-between w-100\",children:[/*#__PURE__*/_jsxs(Space,{className:\"align-items-start\",children:[/*#__PURE__*/_jsx(CalendarOutlined,{className:\"order-card-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Typography.Text,{children:t('delivery.date')}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):/*#__PURE__*/_jsxs(Typography.Text,{className:\"order-card-title\",children:[data===null||data===void 0?void 0:data.delivery_date,\" \",data===null||data===void 0?void 0:data.delivery_time]})]})]}),/*#__PURE__*/_jsxs(Space,{className:\"align-items-start\",onClick:()=>totalPriceRef.current.scrollIntoView({behavior:'smooth'}),children:[/*#__PURE__*/_jsx(BiMoney,{className:\"order-card-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Typography.Text,{children:t('total.price')}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16,loading:loading}):/*#__PURE__*/_jsx(Typography.Text,{className:\"order-card-title\",children:numberToPrice(data===null||data===void 0?void 0:data.total_price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)})]})]}),/*#__PURE__*/_jsxs(Space,{className:\"align-items-start\",children:[/*#__PURE__*/_jsx(BiMessageDots,{className:\"order-card-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Typography.Text,{children:t('messages')}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):/*#__PURE__*/_jsx(Typography.Text,{className:\"order-card-title\",children:data!==null&&data!==void 0&&data.review?1:0})]})]}),/*#__PURE__*/_jsxs(Space,{className:\"align-items-start\",onClick:()=>productListRef.current.scrollIntoView({behavior:'smooth'}),children:[/*#__PURE__*/_jsx(FiShoppingCart,{className:\"order-card-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Typography.Text,{children:t('products')}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):/*#__PURE__*/_jsx(Typography.Text,{className:\"order-card-title\",children:data===null||data===void 0?void 0:(_data$details2=data.details)===null||_data$details2===void 0?void 0:_data$details2.reduce((total,item)=>total+=item.quantity,0)})]})]})]})})}),(data===null||data===void 0?void 0:data.status)!=='canceled'&&/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Steps,{current:statusList===null||statusList===void 0?void 0:statusList.findIndex(item=>item.name===(data===null||data===void 0?void 0:data.status)),children:statusList===null||statusList===void 0?void 0:statusList.slice(0,-1).map(item=>/*#__PURE__*/_jsx(Steps.Step,{title:t(item.name)},item.id))})})}),/*#__PURE__*/_jsxs(Col,{span:16,children:[/*#__PURE__*/_jsx(Spin,{spinning:loading,children:/*#__PURE__*/_jsxs(Card,{style:{minHeight:'200px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[t('details'),\":\"]}),/*#__PURE__*/_jsxs(Row,{hidden:loading,className:\"mb-3 order_detail\",children:[/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsxs(\"div\",{children:[t('created.date.&.time'),\":\",/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[/*#__PURE__*/_jsx(BsCalendarDay,{className:\"mr-1\"}),' ',moment(data===null||data===void 0?void 0:data.created_at).format('YYYY-MM-DD HH:mm'),' ']})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('delivery.date.&.time'),\":\",/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[/*#__PURE__*/_jsx(BsCalendarDay,{className:\"mr-1\"}),\" \",data===null||data===void 0?void 0:data.delivery_date,' ',data===null||data===void 0?void 0:data.delivery_time]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('payment.status'),\":\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:t(data===null||data===void 0?void 0:(_data$transaction=data.transaction)===null||_data$transaction===void 0?void 0:_data$transaction.status)})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('cause'),\":\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",style:{color:'red'},children:(_activeMenu$data2=activeMenu.data)===null||_activeMenu$data2===void 0?void 0:_activeMenu$data2.cause})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('answer'),\":\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:(_activeMenu$data$answ=(_activeMenu$data3=activeMenu.data)===null||_activeMenu$data3===void 0?void 0:_activeMenu$data3.answer)!==null&&_activeMenu$data$answ!==void 0?_activeMenu$data$answ:t('no.answer')})]})]}),/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsxs(\"div\",{children:[t('status'),\":\",/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[((_activeMenu$data4=activeMenu.data)===null||_activeMenu$data4===void 0?void 0:_activeMenu$data4.status)==='pending'?/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:t((_activeMenu$data5=activeMenu.data)===null||_activeMenu$data5===void 0?void 0:_activeMenu$data5.status)}):((_activeMenu$data6=activeMenu.data)===null||_activeMenu$data6===void 0?void 0:_activeMenu$data6.status)==='canceled'?/*#__PURE__*/_jsx(Tag,{color:\"error\",children:t((_activeMenu$data7=activeMenu.data)===null||_activeMenu$data7===void 0?void 0:_activeMenu$data7.status)}):/*#__PURE__*/_jsx(Tag,{color:\"cyan\",children:t((_activeMenu$data8=activeMenu.data)===null||_activeMenu$data8===void 0?void 0:_activeMenu$data8.status)}),((_activeMenu$data9=activeMenu.data)===null||_activeMenu$data9===void 0?void 0:_activeMenu$data9.status)!=='canceled'&&((_activeMenu$data10=activeMenu.data)===null||_activeMenu$data10===void 0?void 0:_activeMenu$data10.status)!=='accepted'&&/*#__PURE__*/_jsx(EditOutlined,{onClick:()=>setOrderDetails(activeMenu===null||activeMenu===void 0?void 0:activeMenu.data)})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('delivery.type'),\":\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:data===null||data===void 0?void 0:data.delivery_type})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('payment.type'),\":\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:t(data===null||data===void 0?void 0:(_data$transaction2=data.transaction)===null||_data$transaction2===void 0?void 0:(_data$transaction2$pa=_data$transaction2.payment_system)===null||_data$transaction2$pa===void 0?void 0:_data$transaction2$pa.tag)})]}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsx(Row,{hidden:loading,className:\"mb-3 order_detail\",children:/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[t('delivery.address'),\":\"]}),/*#__PURE__*/_jsx(\"div\",{children:(data===null||data===void 0?void 0:data.delivery_type)==='delivery'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[t('street.house.number'),\":\",' ',(_data$my_address$stre=data===null||data===void 0?void 0:(_data$my_address=data.my_address)===null||_data$my_address===void 0?void 0:_data$my_address.street_house_number)!==null&&_data$my_address$stre!==void 0?_data$my_address$stre:t('not.given')]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[t('zipcode'),\":\",' ',(_data$my_address$zipc=data===null||data===void 0?void 0:(_data$my_address2=data.my_address)===null||_data$my_address2===void 0?void 0:_data$my_address2.zipcode)!==null&&_data$my_address$zipc!==void 0?_data$my_address$zipc:t('not.given')]})]}):(data===null||data===void 0?void 0:data.delivery_type)==='point'?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[t('address'),\":\",' ',(_data$delivery_point$=data===null||data===void 0?void 0:(_data$delivery_point=data.delivery_point)===null||_data$delivery_point===void 0?void 0:(_data$delivery_point$2=_data$delivery_point.address)===null||_data$delivery_point$2===void 0?void 0:_data$delivery_point$2[defaultLang])!==null&&_data$delivery_point$!==void 0?_data$delivery_point$:t('no.address')]})}):(data===null||data===void 0?void 0:data.delivery_type)==='digital'?/*#__PURE__*/_jsx(\"div\",{children:t('digital.delivery')}):/*#__PURE__*/_jsx(\"div\",{children:t('no.address')})})]})})]})}),/*#__PURE__*/_jsx(Card,{title:t('documents'),children:/*#__PURE__*/_jsx(Table,{columns:documentColumns,dataSource:documents||[],pagination:false,loading:loading})}),/*#__PURE__*/_jsxs(Card,{className:\"w-100 order-table\",children:[/*#__PURE__*/_jsx(Table,{ref:productListRef,scroll:{x:true},columns:columns,dataSource:products||[],loading:loading,rowKey:record=>record.id,pagination:false}),/*#__PURE__*/_jsxs(Space,{size:100,className:\"d-flex justify-content-end w-100 order-table__summary\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[t('delivery.fee'),\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[t('order.tax'),\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[t('product'),\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[t('coupon'),\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[t('discount'),\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h3\",{children:[t('total.price'),\":\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:numberToPrice(data===null||data===void 0?void 0:data.delivery_fee,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:numberToPrice(data===null||data===void 0?void 0:data.tax,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:numberToPrice(data===null||data===void 0?void 0:data.origin_price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:numberToPrice(data===null||data===void 0?void 0:(_data$coupon=data.coupon)===null||_data$coupon===void 0?void 0:_data$coupon.price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:numberToPrice(data===null||data===void 0?void 0:data.total_discount,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{ref:totalPriceRef,children:numberToPrice(data===null||data===void 0?void 0:data.total_price,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)})]})]})]})]}),/*#__PURE__*/_jsxs(Col,{span:8,className:\"order_info\",children:[(data===null||data===void 0?void 0:data.status)==='ready'&&(data===null||data===void 0?void 0:data.delivery_type)!=='pickup'&&/*#__PURE__*/_jsx(Card,{title:t('deliveryman'),extra:(data===null||data===void 0?void 0:data.status)==='ready'&&(data===null||data===void 0?void 0:data.delivery_type)!=='pickup'&&/*#__PURE__*/_jsxs(Button,{children:[t('change'),/*#__PURE__*/_jsx(EditOutlined,{})]}),children:(data===null||data===void 0?void 0:data.deliveryman)&&/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Avatar,{shape:\"square\",size:64,src:IMG_URL+(data===null||data===void 0?void 0:(_data$deliveryman=data.deliveryman)===null||_data$deliveryman===void 0?void 0:_data$deliveryman.img)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{children:[data===null||data===void 0?void 0:(_data$deliveryman2=data.deliveryman)===null||_data$deliveryman2===void 0?void 0:_data$deliveryman2.firstname,' ',(data===null||data===void 0?void 0:(_data$deliveryman3=data.deliveryman)===null||_data$deliveryman3===void 0?void 0:_data$deliveryman3.lastname)||'']}),/*#__PURE__*/_jsxs(\"span\",{className:\"delivery-info\",children:[/*#__PURE__*/_jsx(BsFillTelephoneFill,{}),data===null||data===void 0?void 0:(_data$deliveryman4=data.deliveryman)===null||_data$deliveryman4===void 0?void 0:_data$deliveryman4.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-info\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(MdEmail,{size:16})}),/*#__PURE__*/_jsx(\"span\",{children:data===null||data===void 0?void 0:(_data$deliveryman5=data.deliveryman)===null||_data$deliveryman5===void 0?void 0:_data$deliveryman5.email})]})]})]})}),/*#__PURE__*/_jsx(Card,{title:/*#__PURE__*/_jsx(Space,{children:t('customer.info')}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex w-100 customer-info-container\",children:[loading?/*#__PURE__*/_jsx(Skeleton.Avatar,{size:64,shape:\"square\"}):/*#__PURE__*/_jsx(Avatar,{shape:\"square\",size:64,src:IMG_URL+(data===null||data===void 0?void 0:(_data$user3=data.user)===null||_data$user3===void 0?void 0:_data$user3.img)}),/*#__PURE__*/_jsx(\"h5\",{className:\"customer-name\",children:loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:20,style:{width:70}}):(data===null||data===void 0?void 0:(_data$user4=data.user)===null||_data$user4===void 0?void 0:_data$user4.firstname)+' '+((data===null||data===void 0?void 0:(_data$user5=data.user)===null||_data$user5===void 0?void 0:_data$user5.lastname)||'')}),/*#__PURE__*/_jsxs(Row,{gutter:12,children:[/*#__PURE__*/_jsxs(Col,{span:24,style:{display:'flex',alignItems:'center',justifyContent:'flex-start',columnGap:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[t('phone'),\":\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(BsFillTelephoneFill,{}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):' '+(data===null||data===void 0?void 0:(_data$user6=data.user)===null||_data$user6===void 0?void 0:_data$user6.phone)?ReactAppIsDemo?hideNumber(data===null||data===void 0?void 0:(_data$user7=data.user)===null||_data$user7===void 0?void 0:_data$user7.phone):data===null||data===void 0?void 0:(_data$user8=data.user)===null||_data$user8===void 0?void 0:_data$user8.phone:t('none')]})]}),/*#__PURE__*/_jsxs(Col,{span:24,style:{display:'flex',alignItems:'center',justifyContent:'flex-start',columnGap:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[t('email'),\":\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(MdEmail,{}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):' '+(data===null||data===void 0?void 0:(_data$user9=data.user)===null||_data$user9===void 0?void 0:_data$user9.email)?ReactAppIsDemo?hideEmail(data===null||data===void 0?void 0:(_data$user10=data.user)===null||_data$user10===void 0?void 0:_data$user10.email):data===null||data===void 0?void 0:(_data$user11=data.user)===null||_data$user11===void 0?void 0:_data$user11.email:'none']})]}),/*#__PURE__*/_jsxs(Col,{span:24,style:{display:'flex',alignItems:'center',justifyContent:'flex-start',columnGap:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[t('registration.date'),\":\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(BsCalendarDay,{}),loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):' '+moment(data===null||data===void 0?void 0:(_data$user12=data.user)===null||_data$user12===void 0?void 0:_data$user12.created_at).format('DD-MM-YYYY, HH:mm')]})]}),/*#__PURE__*/_jsxs(Col,{span:24,style:{display:'flex',alignItems:'center',justifyContent:'flex-start',columnGap:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[t('orders.count'),\":\"]}),/*#__PURE__*/_jsx(\"h5\",{children:loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):/*#__PURE__*/_jsx(Badge,{showZero:true,style:{backgroundColor:'#3d7de3'},count:(data===null||data===void 0?void 0:(_data$user13=data.user)===null||_data$user13===void 0?void 0:_data$user13.o_count)||0})})]}),/*#__PURE__*/_jsxs(Col,{span:24,style:{display:'flex',alignItems:'center',justifyContent:'flex-start',columnGap:'15px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[t('spent.since.registration'),\":\"]}),/*#__PURE__*/_jsx(\"h5\",{children:loading?/*#__PURE__*/_jsx(Skeleton.Button,{size:16}):/*#__PURE__*/_jsx(Badge,{showZero:true,style:{backgroundColor:'#48e33d'},count:numberToPrice(data===null||data===void 0?void 0:(_data$user14=data.user)===null||_data$user14===void 0?void 0:_data$user14.o_sum,defaultCurrency===null||defaultCurrency===void 0?void 0:defaultCurrency.symbol)})})]})]})]})}),(data===null||data===void 0?void 0:data.review)&&!loading&&/*#__PURE__*/_jsx(Card,{title:t('messages'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-message\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message\",children:data===null||data===void 0?void 0:data.review.comment}),/*#__PURE__*/_jsx(Space,{className:\"w-100 justify-content-end\",children:/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:moment(data===null||data===void 0?void 0:data.review.created_at).format('YYYY-MM-DD hh:mm')})})]})}),/*#__PURE__*/_jsx(Card,{title:t('store.information'),children:loading?/*#__PURE__*/_jsx(Skeleton,{avatar:true,shape:\"square\",paragraph:{rows:2}}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Space,{className:\"w-100\",children:[/*#__PURE__*/_jsx(Avatar,{shape:\"square\",size:64,src:IMG_URL+(data===null||data===void 0?void 0:(_data$shop=data.shop)===null||_data$shop===void 0?void 0:_data$shop.logo_img)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:data===null||data===void 0?void 0:(_data$shop2=data.shop)===null||_data$shop2===void 0?void 0:_data$shop2.translation.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"delivery-info\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(BsFillTelephoneFill,{})}),/*#__PURE__*/_jsx(\"span\",{children:data===null||data===void 0?void 0:(_data$shop3=data.shop)===null||_data$shop3===void 0?void 0:_data$shop3.phone})]})]})]})})})]})]}),orderDetails&&/*#__PURE__*/_jsx(OrderStatusModal,{orderDetails:orderDetails,handleCancel:handleCloseModal,status:status})]});}","map":null,"metadata":{},"sourceType":"module"}