{"ast":null,"code":"import React,{useState}from'react';import{Button,Col,Form,Input,Modal,Row,Select}from'antd';import translationService from'../../services/translation';import{toast}from'react-toastify';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TranslationCreateModal(_ref){let{visible,setVisible,languages,refetch}=_ref;const{t}=useTranslation();const[loading,setLoading]=useState(false);const[form]=Form.useForm();const handleCancel=()=>{setVisible(false);};const onFinish=values=>{setLoading(true);translationService.create(values).then(()=>{toast.success(t('successfully.created'));setVisible(false);refetch();}).finally(()=>setLoading(false));};return/*#__PURE__*/_jsx(Modal,{visible:visible,title:t('add.translation'),onCancel:handleCancel,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",form:\"translation-form\",htmlType:\"submit\",loading:loading,children:t('create')},'create-translation'),/*#__PURE__*/_jsx(Button,{type:\"default\",onClick:handleCancel,children:t('cancel')},'create-translation-cancel')],children:/*#__PURE__*/_jsx(Form,{id:\"translation-form\",name:\"translation\",layout:\"vertical\",onFinish:onFinish,form:form,initialValues:{group:'web'},children:/*#__PURE__*/_jsxs(Row,{gutter:12,children:[/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:t('name'),name:\"key\",rules:[{validator(_,value){if(!value){return Promise.reject(new Error(t('required')));}else if(value&&(value===null||value===void 0?void 0:value.trim())===''){return Promise.reject(new Error(t('no.empty.space')));}else if(value&&(value===null||value===void 0?void 0:value.trim().length)<2){return Promise.reject(new Error(t('must.be.at.least.2')));}return Promise.resolve();}}],children:/*#__PURE__*/_jsx(Input,{})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:t('group'),name:\"group\",rules:[{required:true,message:''}],children:/*#__PURE__*/_jsxs(Select,{children:[/*#__PURE__*/_jsx(Select.Option,{value:\"web\",children:t('web')}),/*#__PURE__*/_jsx(Select.Option,{value:\"mobile\",children:t('mobile')}),/*#__PURE__*/_jsx(Select.Option,{value:\"errors\",children:t('errors')})]})})}),languages.map((item,index)=>/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:`${t('translation')} (${item.locale})`,name:`value[${item.locale}]`,rules:[{validator(_,value){if(!value){return Promise.reject(new Error(t('required')));}else if(value&&(value===null||value===void 0?void 0:value.trim())===''){return Promise.reject(new Error(t('no.empty.space')));}else if(value&&(value===null||value===void 0?void 0:value.trim().length)<2){return Promise.reject(new Error(t('must.be.at.least.2')));}return Promise.resolve();}}],children:/*#__PURE__*/_jsx(Input,{})})},index))]})})});}","map":null,"metadata":{},"sourceType":"module"}