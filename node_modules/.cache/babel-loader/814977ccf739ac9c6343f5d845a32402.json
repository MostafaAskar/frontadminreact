{"ast":null,"code":"import React,{useState,useMemo,useEffect}from'react';import debounce from'lodash/debounce';import{Select,Spin}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";export const DebounceSelect=_ref=>{let{fetchOptions,debounceTimeout=400,onClear,refetchOptions=false,...props}=_ref;const[fetching,setFetching]=useState(false);const[options,setOptions]=useState([]);const debounceFetcher=useMemo(()=>{const loadOptions=value=>{setOptions([]);setFetching(true);fetchOptions(value).then(newOptions=>{setOptions(newOptions);setFetching(false);});};return debounce(loadOptions,debounceTimeout);},[fetchOptions,debounceTimeout]);const fetchOnFocus=()=>{if(!options.length||refetchOptions){debounceFetcher('');}};return/*#__PURE__*/_jsx(Select,{showSearch:true,allowClear:true,labelInValue:true,filterOption:false,onSearch:debounceFetcher,onClear:()=>{debounceFetcher('');!!onClear&&onClear();},notFoundContent:fetching?/*#__PURE__*/_jsx(Spin,{size:\"small\"}):'no results',...props,options:options,onFocus:fetchOnFocus});};","map":null,"metadata":{},"sourceType":"module"}