{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/order/product-info.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Card, Col, Empty, Row, Space, Spin } from 'antd';\nimport brandService from '../../../services/rest/brand';\nimport categoryService from '../../../services/rest/category';\nimport Meta from 'antd/lib/card/Meta';\nimport getImage from '../../../helpers/getImage';\nimport { PlusOutlined } from '@ant-design/icons';\nimport OrderItems from './orderItems';\nimport { DebounceSelect } from '../../../components/search';\nimport SearchInput from '../../../components/search-input';\nimport ExtrasModal from './extrasModal';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { fetchSellerProducts } from '../../../redux/slices/product';\nimport useDidUpdate from '../../../helpers/useDidUpdate';\nimport RiveResult from '../../../components/rive-result';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductInfo = _ref => {\n  _s();\n\n  let {\n    form\n  } = _ref;\n  const [brand, setBrand] = useState(null);\n  const [category, setCategory] = useState(null);\n  const [search, setSearch] = useState(null);\n  const [extrasModal, setExtrasModal] = useState(null);\n  const dispatch = useDispatch();\n  const {\n    data\n  } = useSelector(state => state.order, shallowEqual);\n  const {\n    products,\n    loading\n  } = useSelector(state => state.product, shallowEqual);\n  useDidUpdate(() => {\n    const params = {\n      perPage: 10,\n      page: 1,\n      brand_id: brand === null || brand === void 0 ? void 0 : brand.value,\n      category_id: category === null || category === void 0 ? void 0 : category.value,\n      search\n    };\n    dispatch(fetchSellerProducts(params));\n  }, [brand, category, search]);\n\n  async function fetchBrands(search) {\n    return brandService.search(search).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      return data.map(item => ({\n        label: item.title,\n        value: item.id\n      }));\n    });\n  }\n\n  async function fetchCategories(search) {\n    const params = {\n      search\n    };\n    return categoryService.search(params).then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      return data.map(item => {\n        var _item$translation;\n\n        return {\n          label: (_item$translation = item.translation) === null || _item$translation === void 0 ? void 0 : _item$translation.title,\n          value: item.id\n        };\n      });\n    });\n  }\n\n  const addProductToCart = item => {\n    if (!data.currency) {\n      toast.warning('Please, select currency');\n      return;\n    }\n\n    setExtrasModal(item);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Order details\",\n    extra: /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(DebounceSelect, {\n        placeholder: \"Select category\",\n        fetchOptions: fetchCategories,\n        style: {\n          minWidth: 150\n        },\n        onChange: value => setCategory(value),\n        value: category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DebounceSelect, {\n        placeholder: \"Select brand\",\n        fetchOptions: fetchBrands,\n        style: {\n          minWidth: 150\n        },\n        onChange: value => setBrand(value),\n        value: brand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end mb-4\",\n      children: /*#__PURE__*/_jsxDEV(SearchInput, {\n        placeholder: \"Search...\",\n        handleChange: setSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-row order-items\",\n      children: [products.length ? products.map(item => {\n        var _item$translation2, _item$translation3, _item$stock;\n\n        return /*#__PURE__*/_jsxDEV(Card, {\n          className: \"products-col\",\n          cover: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: (_item$translation2 = item.translation) === null || _item$translation2 === void 0 ? void 0 : _item$translation2.title,\n            src: getImage(item.img)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this),\n          onClick: () => addProductToCart(item),\n          children: [/*#__PURE__*/_jsxDEV(Meta, {\n            title: (_item$translation3 = item.translation) === null || _item$translation3 === void 0 ? void 0 : _item$translation3.title,\n            description: (_item$stock = item.stock) === null || _item$stock === void 0 ? void 0 : _item$stock.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview\",\n            children: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 24,\n          children: /*#__PURE__*/_jsxDEV(RiveResult, {\n            id: \"nosell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), extrasModal && /*#__PURE__*/_jsxDEV(ExtrasModal, {\n      extrasModal: extrasModal,\n      setExtrasModal: setExtrasModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(OrderItems, {\n      form: form\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductInfo, \"y0/o1wNAl9g+QH2D6H/YOK1tYGk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useDidUpdate];\n});\n\n_c = ProductInfo;\nexport default ProductInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductInfo\");","map":{"version":3,"names":["React","useState","Card","Col","Empty","Row","Space","Spin","brandService","categoryService","Meta","getImage","PlusOutlined","OrderItems","DebounceSelect","SearchInput","ExtrasModal","shallowEqual","useDispatch","useSelector","toast","fetchSellerProducts","useDidUpdate","RiveResult","ProductInfo","form","brand","setBrand","category","setCategory","search","setSearch","extrasModal","setExtrasModal","dispatch","data","state","order","products","loading","product","params","perPage","page","brand_id","value","category_id","fetchBrands","then","map","item","label","title","id","fetchCategories","translation","addProductToCart","currency","warning","minWidth","length","img","stock","price"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/order/product-info.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, Col, Empty, Row, Space, Spin } from 'antd';\nimport brandService from '../../../services/rest/brand';\nimport categoryService from '../../../services/rest/category';\nimport Meta from 'antd/lib/card/Meta';\nimport getImage from '../../../helpers/getImage';\nimport { PlusOutlined } from '@ant-design/icons';\nimport OrderItems from './orderItems';\nimport { DebounceSelect } from '../../../components/search';\nimport SearchInput from '../../../components/search-input';\nimport ExtrasModal from './extrasModal';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { fetchSellerProducts } from '../../../redux/slices/product';\nimport useDidUpdate from '../../../helpers/useDidUpdate';\nimport RiveResult from '../../../components/rive-result';\n\nconst ProductInfo = ({ form }) => {\n  const [brand, setBrand] = useState(null);\n  const [category, setCategory] = useState(null);\n  const [search, setSearch] = useState(null);\n  const [extrasModal, setExtrasModal] = useState(null);\n\n  const dispatch = useDispatch();\n  const { data } = useSelector((state) => state.order, shallowEqual);\n  const { products, loading } = useSelector(\n    (state) => state.product,\n    shallowEqual\n  );\n\n  useDidUpdate(() => {\n    const params = {\n      perPage: 10,\n      page: 1,\n      brand_id: brand?.value,\n      category_id: category?.value,\n      search,\n    };\n    dispatch(fetchSellerProducts(params));\n  }, [brand, category, search]);\n\n  async function fetchBrands(search) {\n    return brandService.search(search).then(({ data }) =>\n      data.map((item) => ({\n        label: item.title,\n        value: item.id,\n      }))\n    );\n  }\n\n  async function fetchCategories(search) {\n    const params = { search };\n    return categoryService.search(params).then(({ data }) =>\n      data.map((item) => ({\n        label: item.translation?.title,\n        value: item.id,\n      }))\n    );\n  }\n\n  const addProductToCart = (item) => {\n    if (!data.currency) {\n      toast.warning('Please, select currency');\n      return;\n    }\n    setExtrasModal(item);\n  };\n\n  return (\n    <Card\n      title='Order details'\n      extra={\n        <Space>\n          <DebounceSelect\n            placeholder='Select category'\n            fetchOptions={fetchCategories}\n            style={{ minWidth: 150 }}\n            onChange={(value) => setCategory(value)}\n            value={category}\n          />\n          <DebounceSelect\n            placeholder='Select brand'\n            fetchOptions={fetchBrands}\n            style={{ minWidth: 150 }}\n            onChange={(value) => setBrand(value)}\n            value={brand}\n          />\n        </Space>\n      }\n    >\n      <div className='d-flex justify-content-end mb-4'>\n        <SearchInput placeholder='Search...' handleChange={setSearch} />\n      </div>\n      <div className='products-row order-items'>\n        {products.length ? (\n          products.map((item) => (\n            <Card\n              className='products-col'\n              key={item.id}\n              cover={\n                <img alt={item.translation?.title} src={getImage(item.img)} />\n              }\n              onClick={() => addProductToCart(item)}\n            >\n              <Meta\n                title={item.translation?.title}\n                description={item.stock?.price}\n              />\n              <div className='preview'>\n                <PlusOutlined />\n              </div>\n            </Card>\n          ))\n        ) : (\n          <Row>\n            <Col span={24}>\n              <RiveResult id='nosell' />\n            </Col>\n          </Row>\n        )}\n        {loading && (\n          <div className='loader'>\n            <Spin />\n          </div>\n        )}\n      </div>\n      {extrasModal && (\n        <ExtrasModal\n          extrasModal={extrasModal}\n          setExtrasModal={setExtrasModal}\n        />\n      )}\n\n      <OrderItems form={form} />\n    </Card>\n  );\n};\n\nexport default ProductInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}