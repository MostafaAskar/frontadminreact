{"ast":null,"code":"var _jsxFileName = \"/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/booking/booking-tabs.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Button, Card, Descriptions, Empty, Form, Pagination, Spin } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { fetchBookingZone, setCurrentZone } from 'redux/slices/booking-zone';\nimport moment from 'moment';\nimport { useTranslation } from 'react-i18next';\nimport { fetchSellerBookingList } from 'redux/slices/booking-list';\nimport { setMenuData } from 'redux/slices/menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OrderTabs() {\n  _s();\n\n  var _activeMenu$data2;\n\n  const [form] = Form.useForm();\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    activeMenu\n  } = useSelector(state => state.menu, shallowEqual);\n  const {\n    current_zone,\n    zone,\n    loading\n  } = useSelector(state => state.bookingZone, shallowEqual);\n  const {\n    booking,\n    loading: bookingListLoading,\n    meta\n  } = useSelector(state => state.bookingList, shallowEqual);\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchBookingZone());\n    }\n  }, [activeMenu.refetch]);\n  useEffect(() => {\n    if (!!current_zone) {\n      var _activeMenu$data;\n\n      dispatch(fetchSellerBookingList({\n        shop_section_id: current_zone === null || current_zone === void 0 ? void 0 : current_zone.id,\n        page: (activeMenu === null || activeMenu === void 0 ? void 0 : (_activeMenu$data = activeMenu.data) === null || _activeMenu$data === void 0 ? void 0 : _activeMenu$data.page) || 1\n      }));\n    }\n  }, [current_zone, activeMenu === null || activeMenu === void 0 ? void 0 : (_activeMenu$data2 = activeMenu.data) === null || _activeMenu$data2 === void 0 ? void 0 : _activeMenu$data2.page]);\n\n  const handleChange = item => dispatch(setCurrentZone(item));\n\n  function onChangePagination(page) {\n    dispatch(setMenuData({\n      activeMenu,\n      data: { ...(activeMenu === null || activeMenu === void 0 ? void 0 : activeMenu.data),\n        page\n      }\n    }));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      height: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      layout: \"vertical\",\n      name: \"booking-form\",\n      form: form,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking_tabs\",\n        children: loading ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this) : zone.map(item => {\n          var _current_zone$transla, _item$translation, _item$translation2;\n\n          return /*#__PURE__*/_jsxDEV(Button, {\n            type: (current_zone === null || current_zone === void 0 ? void 0 : (_current_zone$transla = current_zone.translation) === null || _current_zone$transla === void 0 ? void 0 : _current_zone$transla.title) === ((_item$translation = item.translation) === null || _item$translation === void 0 ? void 0 : _item$translation.title) ? 'primary' : 'text',\n            onClick: () => handleChange(item),\n            children: (_item$translation2 = item.translation) === null || _item$translation2 === void 0 ? void 0 : _item$translation2.title\n          }, item === null || item === void 0 ? void 0 : item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '16px',\n          margin: '8px 0'\n        },\n        children: t('user.bookings')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowY: 'auto',\n          height: '80vh'\n        },\n        children: /*#__PURE__*/_jsxDEV(Spin, {\n          spinning: bookingListLoading,\n          children: booking && booking.length > 0 ? booking === null || booking === void 0 ? void 0 : booking.map(booking => {\n            var _booking$table, _booking$user, _booking$user2, _booking$user3, _booking$user4;\n\n            return /*#__PURE__*/_jsxDEV(Card, {\n              bordered: true,\n              children: /*#__PURE__*/_jsxDEV(Descriptions, {\n                column: 1,\n                children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                  label: t('start.date'),\n                  children: moment(booking.start_date).format('YYYY-MM-DD HH:MM')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                  label: t('table'),\n                  children: (_booking$table = booking.table) === null || _booking$table === void 0 ? void 0 : _booking$table.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                  label: t('user'),\n                  children: [booking === null || booking === void 0 ? void 0 : (_booking$user = booking.user) === null || _booking$user === void 0 ? void 0 : _booking$user.firstname, \" \", booking === null || booking === void 0 ? void 0 : (_booking$user2 = booking.user) === null || _booking$user2 === void 0 ? void 0 : _booking$user2.lastname, ' tel: ', /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `tel:${booking === null || booking === void 0 ? void 0 : (_booking$user3 = booking.user) === null || _booking$user3 === void 0 ? void 0 : _booking$user3.phone}`,\n                    children: [' ', booking === null || booking === void 0 ? void 0 : (_booking$user4 = booking.user) === null || _booking$user4 === void 0 ? void 0 : _booking$user4.phone]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n                  label: t('guests'),\n                  children: booking.guest\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this)\n            }, booking.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(Empty, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), booking && booking.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-3\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          total: meta.total,\n          current: meta.current_page,\n          pageSize: 10,\n          onChange: onChangePagination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OrderTabs, \"IwTU+lIoG4p1mqEd3x4HZ3JmN1Q=\", false, function () {\n  return [Form.useForm, useTranslation, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = OrderTabs;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderTabs\");","map":{"version":3,"names":["React","useEffect","Button","Card","Descriptions","Empty","Form","Pagination","Spin","shallowEqual","useDispatch","useSelector","fetchBookingZone","setCurrentZone","moment","useTranslation","fetchSellerBookingList","setMenuData","OrderTabs","form","useForm","t","dispatch","activeMenu","state","menu","current_zone","zone","loading","bookingZone","booking","bookingListLoading","meta","bookingList","refetch","shop_section_id","id","page","data","handleChange","item","onChangePagination","height","map","translation","title","fontSize","margin","overflowY","length","start_date","format","table","name","user","firstname","lastname","phone","guest","total","current_page"],"sources":["/home/mostafa/Magde/new uzmart/admin/uzmart-admin-main/src/views/seller-views/booking/booking-tabs.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport {\n  Button,\n  Card,\n  Descriptions,\n  Empty,\n  Form,\n  Pagination,\n  Spin,\n} from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { fetchBookingZone, setCurrentZone } from 'redux/slices/booking-zone';\nimport moment from 'moment';\nimport { useTranslation } from 'react-i18next';\nimport { fetchSellerBookingList } from 'redux/slices/booking-list';\nimport { setMenuData } from 'redux/slices/menu';\n\nexport default function OrderTabs() {\n  const [form] = Form.useForm();\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { activeMenu } = useSelector((state) => state.menu, shallowEqual);\n  const { current_zone, zone, loading } = useSelector(\n    (state) => state.bookingZone,\n    shallowEqual\n  );\n  const {\n    booking,\n    loading: bookingListLoading,\n    meta,\n  } = useSelector((state) => state.bookingList, shallowEqual);\n\n  useEffect(() => {\n    if (activeMenu.refetch) {\n      dispatch(fetchBookingZone());\n    }\n  }, [activeMenu.refetch]);\n\n  useEffect(() => {\n    if (!!current_zone) {\n      dispatch(\n        fetchSellerBookingList({\n          shop_section_id: current_zone?.id,\n          page: activeMenu?.data?.page || 1,\n        })\n      );\n    }\n  }, [current_zone, activeMenu?.data?.page]);\n\n  const handleChange = (item) => dispatch(setCurrentZone(item));\n\n  function onChangePagination(page) {\n    dispatch(\n      setMenuData({\n        activeMenu,\n        data: { ...activeMenu?.data,  page },\n      })\n    );\n  }\n\n  return (\n    <Card style={{ height: '100vh' }}>\n      <Form layout='vertical' name='booking-form' form={form}>\n        <div className='booking_tabs'>\n          {loading ? (\n            <Spin />\n          ) : (\n            zone.map((item) => (\n              <Button\n                type={\n                  current_zone?.translation?.title === item.translation?.title\n                    ? 'primary'\n                    : 'text'\n                }\n                key={item?.id}\n                onClick={() => handleChange(item)}\n              >\n                {item.translation?.title}\n              </Button>\n            ))\n          )}\n        </div>\n        <div style={{fontSize: '16px', margin: '8px 0'}}>{t('user.bookings')}</div>\n        <div style={{ overflowY: 'auto', height: '80vh' }}>\n          <Spin spinning={bookingListLoading}>\n            {booking && booking.length > 0 ? (\n              booking?.map((booking) => (\n                <Card bordered key={booking.id}>\n                  <Descriptions column={1}>\n                    <Descriptions.Item label={t('start.date')}>\n                      {moment(booking.start_date).format('YYYY-MM-DD HH:MM')}\n                    </Descriptions.Item>\n                    <Descriptions.Item label={t('table')}>\n                      {booking.table?.name}\n                    </Descriptions.Item>\n                    <Descriptions.Item label={t('user')}>\n                      {booking?.user?.firstname} {booking?.user?.lastname}\n                      {' tel: '}\n                      <a href={`tel:${booking?.user?.phone}`}>\n                        {' '}\n                        {booking?.user?.phone}\n                      </a>\n                    </Descriptions.Item>\n                    <Descriptions.Item label={t('guests')}>\n                      {booking.guest}\n                    </Descriptions.Item>\n                  </Descriptions>\n                </Card>\n              ))\n            ) : (\n              <Empty />\n            )}\n          </Spin>\n        </div>\n          {booking && booking.length > 0 && (\n            <div className='pt-3'>\n            <Pagination\n              total={meta.total}\n              current={meta.current_page}\n              pageSize={10}\n              onChange={onChangePagination}\n            />\n\n            </div>\n          )}\n      </Form>\n    </Card>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}