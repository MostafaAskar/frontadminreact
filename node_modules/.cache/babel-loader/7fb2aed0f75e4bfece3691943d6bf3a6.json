{"ast":null,"code":"import React from'react';import{Card,Col,Row}from'antd';import{useTranslation}from'react-i18next';import{shallowEqual,useSelector}from'react-redux';import MapCustomMarker from'components/map-custom-marker';import OrderCard from'./order-card';import OrderData from'./order-data';import getDefaultLocation from'helpers/getDefaultLocation';import{IMG_URL}from'configs/app-global';import userIcon from'assets/images/user.jpg';import shopIcon from'assets/images/shop.png';import courierIcon from'assets/images/courier.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CourierMarker=()=>/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',transform:'translate(-50%, -100%)'},children:/*#__PURE__*/_jsx(\"img\",{src:courierIcon,width:80,alt:\"user\"})});const ShopMarker=()=>/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',transform:'translate(-50%, -100%)'},children:/*#__PURE__*/_jsx(\"img\",{src:shopIcon,width:50,alt:\"shop\"})});const UserMarker=()=>/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',transform:'translate(-50%, -100%)'},children:/*#__PURE__*/_jsx(\"img\",{src:userIcon,width:50,alt:\"user\"})});export default function DeliveryMapOrders(){var _activeMenu$data,_activeMenu$data2,_activeMenu$data3,_deliveryman$delivery5,_deliveryman$delivery6,_deliveryman$delivery7,_deliveryman$delivery8,_data$location3,_data$location4,_data$shop3,_data$shop3$location,_data$shop4,_data$shop4$location;const{t}=useTranslation();const{activeMenu}=useSelector(state=>state.menu,shallowEqual);const list=(activeMenu===null||activeMenu===void 0?void 0:(_activeMenu$data=activeMenu.data)===null||_activeMenu$data===void 0?void 0:_activeMenu$data.list)||[];const data=activeMenu===null||activeMenu===void 0?void 0:(_activeMenu$data2=activeMenu.data)===null||_activeMenu$data2===void 0?void 0:_activeMenu$data2.item;const deliveryman=activeMenu===null||activeMenu===void 0?void 0:(_activeMenu$data3=activeMenu.data)===null||_activeMenu$data3===void 0?void 0:_activeMenu$data3.deliveryman;const{settings}=useSelector(state=>state.globalSettings,shallowEqual);const center=getDefaultLocation(settings);const handleLoadMap=(map,maps)=>{var _deliveryman$delivery,_deliveryman$delivery2,_deliveryman$delivery3,_deliveryman$delivery4,_data$location,_data$location2,_data$shop,_data$shop$location,_data$shop2,_data$shop2$location;const markers=[{lat:Number((deliveryman===null||deliveryman===void 0?void 0:(_deliveryman$delivery=deliveryman.delivery_man_setting)===null||_deliveryman$delivery===void 0?void 0:(_deliveryman$delivery2=_deliveryman$delivery.location)===null||_deliveryman$delivery2===void 0?void 0:_deliveryman$delivery2.latitude)||'0'),lng:Number((deliveryman===null||deliveryman===void 0?void 0:(_deliveryman$delivery3=deliveryman.delivery_man_setting)===null||_deliveryman$delivery3===void 0?void 0:(_deliveryman$delivery4=_deliveryman$delivery3.location)===null||_deliveryman$delivery4===void 0?void 0:_deliveryman$delivery4.longitude)||'0')},{lat:Number((data===null||data===void 0?void 0:(_data$location=data.location)===null||_data$location===void 0?void 0:_data$location.latitude)||'0'),lng:Number((data===null||data===void 0?void 0:(_data$location2=data.location)===null||_data$location2===void 0?void 0:_data$location2.longitude)||'0')},{lat:Number((data===null||data===void 0?void 0:(_data$shop=data.shop)===null||_data$shop===void 0?void 0:(_data$shop$location=_data$shop.location)===null||_data$shop$location===void 0?void 0:_data$shop$location.latitude)||'0'),lng:Number((data===null||data===void 0?void 0:(_data$shop2=data.shop)===null||_data$shop2===void 0?void 0:(_data$shop2$location=_data$shop2.location)===null||_data$shop2$location===void 0?void 0:_data$shop2$location.longitude)||'0')}];let bounds=new maps.LatLngBounds();for(var i=0;i<markers.length;i++){bounds.extend(markers[i]);}map.fitBounds(bounds);};return/*#__PURE__*/_jsx(Card,{title:t('active.orders'),className:\"delivery\",children:/*#__PURE__*/_jsxs(Row,{gutter:8,children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(\"div\",{className:\"order-list\",children:list.map((item,index)=>/*#__PURE__*/_jsx(OrderCard,{data:item,active:(data===null||data===void 0?void 0:data.id)===item.id},item.id+index))})}),/*#__PURE__*/_jsxs(Col,{span:18,children:[/*#__PURE__*/_jsx(Card,{className:\"map-user-card with-order\",children:/*#__PURE__*/_jsx(OrderData,{data:deliveryman,order:data})}),/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",style:{height:'65vh',width:'100%'},children:/*#__PURE__*/_jsxs(MapCustomMarker,{center:center,handleLoadMap:handleLoadMap,children:[/*#__PURE__*/_jsx(CourierMarker,{lat:Number((deliveryman===null||deliveryman===void 0?void 0:(_deliveryman$delivery5=deliveryman.delivery_man_setting)===null||_deliveryman$delivery5===void 0?void 0:(_deliveryman$delivery6=_deliveryman$delivery5.location)===null||_deliveryman$delivery6===void 0?void 0:_deliveryman$delivery6.latitude)||'0'),lng:Number((deliveryman===null||deliveryman===void 0?void 0:(_deliveryman$delivery7=deliveryman.delivery_man_setting)===null||_deliveryman$delivery7===void 0?void 0:(_deliveryman$delivery8=_deliveryman$delivery7.location)===null||_deliveryman$delivery8===void 0?void 0:_deliveryman$delivery8.longitude)||'0'),url:IMG_URL+(deliveryman===null||deliveryman===void 0?void 0:deliveryman.img)}),/*#__PURE__*/_jsx(UserMarker,{lat:Number((data===null||data===void 0?void 0:(_data$location3=data.location)===null||_data$location3===void 0?void 0:_data$location3.latitude)||'0'),lng:Number((data===null||data===void 0?void 0:(_data$location4=data.location)===null||_data$location4===void 0?void 0:_data$location4.longitude)||'0')}),/*#__PURE__*/_jsx(ShopMarker,{lat:Number((data===null||data===void 0?void 0:(_data$shop3=data.shop)===null||_data$shop3===void 0?void 0:(_data$shop3$location=_data$shop3.location)===null||_data$shop3$location===void 0?void 0:_data$shop3$location.latitude)||'0'),lng:Number((data===null||data===void 0?void 0:(_data$shop4=data.shop)===null||_data$shop4===void 0?void 0:(_data$shop4$location=_data$shop4.location)===null||_data$shop4$location===void 0?void 0:_data$shop4$location.longitude)||'0')})]},'map'+(data===null||data===void 0?void 0:data.id))})]})]})});}","map":null,"metadata":{},"sourceType":"module"}